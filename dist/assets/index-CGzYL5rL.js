function LU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pj={exports:{}},dg={},mj={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),VU=Symbol.for("react.portal"),FU=Symbol.for("react.fragment"),BU=Symbol.for("react.strict_mode"),UU=Symbol.for("react.profiler"),zU=Symbol.for("react.provider"),WU=Symbol.for("react.context"),HU=Symbol.for("react.forward_ref"),KU=Symbol.for("react.suspense"),qU=Symbol.for("react.memo"),GU=Symbol.for("react.lazy"),bA=Symbol.iterator;function XU(t){return t===null||typeof t!="object"?null:(t=bA&&t[bA]||t["@@iterator"],typeof t=="function"?t:null)}var gj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yj=Object.assign,vj={};function tu(t,e,n){this.props=t,this.context=e,this.refs=vj,this.updater=n||gj}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wj(){}wj.prototype=tu.prototype;function Yb(t,e,n){this.props=t,this.context=e,this.refs=vj,this.updater=n||gj}var Qb=Yb.prototype=new wj;Qb.constructor=Yb;yj(Qb,tu.prototype);Qb.isPureReactComponent=!0;var xA=Array.isArray,_j=Object.prototype.hasOwnProperty,Jb={current:null},bj={key:!0,ref:!0,__self:!0,__source:!0};function xj(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)_j.call(e,r)&&!bj.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lh,type:t,key:o,ref:s,props:i,_owner:Jb.current}}function YU(t,e){return{$$typeof:lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zb(t){return typeof t=="object"&&t!==null&&t.$$typeof===lh}function QU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SA=/\/+/g;function lv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QU(""+t.key):e.toString(36)}function Bd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case lh:case VU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lv(s,0):r,xA(i)?(n="",t!=null&&(n=t.replace(SA,"$&/")+"/"),Bd(i,e,n,"",function(u){return u})):i!=null&&(Zb(i)&&(i=YU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(SA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",xA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+lv(o,a);s+=Bd(o,e,n,l,i)}else if(l=XU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+lv(o,a++),s+=Bd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ed(t,e,n){if(t==null)return t;var r=[],i=0;return Bd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function JU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Ud={transition:null},ZU={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:Jb};function Sj(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!Zb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=tu;Te.Fragment=FU;Te.Profiler=UU;Te.PureComponent=Yb;Te.StrictMode=BU;Te.Suspense=KU;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZU;Te.act=Sj;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yj({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Jb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_j.call(e,l)&&!bj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:lh,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:WU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zU,_context:t},t.Consumer=t};Te.createElement=xj;Te.createFactory=function(t){var e=xj.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:HU,render:t}};Te.isValidElement=Zb;Te.lazy=function(t){return{$$typeof:GU,_payload:{_status:-1,_result:t},_init:JU}};Te.memo=function(t,e){return{$$typeof:qU,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};Te.unstable_act=Sj;Te.useCallback=function(t,e){return In.current.useCallback(t,e)};Te.useContext=function(t){return In.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Te.useEffect=function(t,e){return In.current.useEffect(t,e)};Te.useId=function(){return In.current.useId()};Te.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return In.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Te.useRef=function(t){return In.current.useRef(t)};Te.useState=function(t){return In.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return In.current.useTransition()};Te.version="18.3.1";mj.exports=Te;var N=mj.exports;const D=We(N),e4=LU({__proto__:null,default:D},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=N,n4=Symbol.for("react.element"),r4=Symbol.for("react.fragment"),i4=Object.prototype.hasOwnProperty,o4=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s4={key:!0,ref:!0,__self:!0,__source:!0};function Ej(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)i4.call(e,r)&&!s4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:n4,type:t,key:o,ref:s,props:i,_owner:o4.current}}dg.Fragment=r4;dg.jsx=Ej;dg.jsxs=Ej;pj.exports=dg;var m=pj.exports,M0={},Tj={exports:{}},Jn={},Aj={exports:{}},Pj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var G=$.length;$.push(B);e:for(;0<G;){var te=G-1>>>1,Y=$[te];if(0<i(Y,B))$[te]=B,$[G]=Y,G=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],G=$.pop();if(G!==B){$[0]=G;e:for(var te=0,Y=$.length,ne=Y>>>1;te<ne;){var Se=2*(te+1)-1,Ae=$[Se],Fe=Se+1,it=$[Fe];if(0>i(Ae,G))Fe<Y&&0>i(it,Ae)?($[te]=it,$[Fe]=G,te=Fe):($[te]=Ae,$[Se]=G,te=Se);else if(Fe<Y&&0>i(it,G))$[te]=it,$[Fe]=G,te=Fe;else break e}}return B}function i($,B){var G=$.sortIndex-B.sortIndex;return G!==0?G:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=$)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function A($){if(w=!1,b($),!g)if(n(l)!==null)g=!0,W(x);else{var B=n(u);B!==null&&z(A,B.startTime-$)}}function x($,B){g=!1,w&&(w=!1,y(T),T=-1),p=!0;var G=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||$&&!k());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var Y=te(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var Se=n(u);Se!==null&&z(A,Se.startTime-B),ne=!1}return ne}finally{f=null,d=G,p=!1}}var I=!1,E=null,T=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function j(){if(E!==null){var $=t.unstable_now();C=$;var B=!0;try{B=E(!0,$)}finally{B?R():(I=!1,E=null)}}else I=!1}var R;if(typeof _=="function")R=function(){_(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=j,R=function(){V.postMessage(null)}}else R=function(){v(j,0)};function W($){E=$,I||(I=!0,R())}function z($,B){T=v(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var G=d;d=B;try{return $()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=d;d=$;try{return B()}finally{d=G}},t.unstable_scheduleCallback=function($,B,G){var te=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,$={id:c++,callback:B,priorityLevel:$,startTime:G,expirationTime:Y,sortIndex:-1},G>te?($.sortIndex=G,e(u,$),n(l)===null&&$===n(u)&&(w?(y(T),T=-1):w=!0,z(A,G-te))):($.sortIndex=Y,e(l,$),g||p||(g=!0,W(x))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var B=d;return function(){var G=d;d=B;try{return $.apply(this,arguments)}finally{d=G}}}})(Pj);Aj.exports=Pj;var a4=Aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4=N,Yn=a4;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ij=new Set,Kc={};function Zs(t,e){cl(t,e),cl(t+"Capture",e)}function cl(t,e){for(Kc[t]=e,t=0;t<e.length;t++)Ij.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=Object.prototype.hasOwnProperty,u4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EA={},TA={};function c4(t){return D0.call(TA,t)?!0:D0.call(EA,t)?!1:u4.test(t)?TA[t]=!0:(EA[t]=!0,!1)}function f4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h4(t,e,n,r){if(e===null||typeof e>"u"||f4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function On(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new On(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new On(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new On(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new On(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new On(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new On(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new On(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new On(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new On(t,5,!1,t.toLowerCase(),null,!1,!1)});var ex=/[\-:]([a-z])/g;function tx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ex,tx);rn[e]=new On(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ex,tx);rn[e]=new On(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ex,tx);rn[e]=new On(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new On(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new On(t,1,!1,t.toLowerCase(),null,!0,!0)});function nx(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h4(e,n,i,r)&&(n=null),r||i===null?c4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=l4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),rx=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),Oj=Symbol.for("react.provider"),Cj=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),kj=Symbol.for("react.offscreen"),AA=Symbol.iterator;function Bu(t){return t===null||typeof t!="object"?null:(t=AA&&t[AA]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,uv;function ac(t){if(uv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uv=e&&e[1]||""}return`
`+uv+t}var cv=!1;function fv(t,e){if(!t||cv)return"";cv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{cv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ac(t):""}function d4(t){switch(t.tag){case 5:return ac(t.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return t=fv(t.type,!1),t;case 11:return t=fv(t.type.render,!1),t;case 1:return t=fv(t.type,!0),t;default:return""}}function F0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Aa:return"Portal";case $0:return"Profiler";case rx:return"StrictMode";case L0:return"Suspense";case V0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cj:return(t.displayName||"Context")+".Consumer";case Oj:return(t._context.displayName||"Context")+".Provider";case ix:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ox:return e=t.displayName||null,e!==null?e:F0(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return F0(t(e))}catch{}}return null}function p4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===rx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m4(t){var e=Rj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nd(t){t._valueTracker||(t._valueTracker=m4(t))}function jj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B0(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function PA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nj(t,e){e=e.checked,e!=null&&nx(t,"checked",e,!1)}function U0(t,e){Nj(t,e);var n=Mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&z0(t,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function z0(t,e,n){(e!=="number"||dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lc=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function OA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(lc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mo(n)}}function Mj(t,e){var n=Mo(e.value),r=Mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function CA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,$j=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g4=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){g4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function Lj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function Vj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var y4=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K0(t,e){if(e){if(y4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function q0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=null;function sx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var X0=null,Ga=null,Xa=null;function kA(t){if(t=fh(t)){if(typeof X0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=vg(e),X0(t.stateNode,t.type,e))}}function Fj(t){Ga?Xa?Xa.push(t):Xa=[t]:Ga=t}function Bj(){if(Ga){var t=Ga,e=Xa;if(Xa=Ga=null,kA(t),e)for(t=0;t<e.length;t++)kA(e[t])}}function Uj(t,e){return t(e)}function zj(){}var hv=!1;function Wj(t,e,n){if(hv)return t(e,n);hv=!0;try{return Uj(t,e,n)}finally{hv=!1,(Ga!==null||Xa!==null)&&(zj(),Bj())}}function Gc(t,e){var n=t.stateNode;if(n===null)return null;var r=vg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Y0=!1;if(Ci)try{var Uu={};Object.defineProperty(Uu,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{Y0=!1}function v4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xc=!1,pp=null,mp=!1,Q0=null,w4={onError:function(t){xc=!0,pp=t}};function _4(t,e,n,r,i,o,s,a,l){xc=!1,pp=null,v4.apply(w4,arguments)}function b4(t,e,n,r,i,o,s,a,l){if(_4.apply(this,arguments),xc){if(xc){var u=pp;xc=!1,pp=null}else throw Error(J(198));mp||(mp=!0,Q0=u)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RA(t){if(ea(t)!==t)throw Error(J(188))}function x4(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return RA(i),t;if(o===r)return RA(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Kj(t){return t=x4(t),t!==null?qj(t):null}function qj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qj(t);if(e!==null)return e;t=t.sibling}return null}var Gj=Yn.unstable_scheduleCallback,jA=Yn.unstable_cancelCallback,S4=Yn.unstable_shouldYield,E4=Yn.unstable_requestPaint,St=Yn.unstable_now,T4=Yn.unstable_getCurrentPriorityLevel,ax=Yn.unstable_ImmediatePriority,Xj=Yn.unstable_UserBlockingPriority,gp=Yn.unstable_NormalPriority,A4=Yn.unstable_LowPriority,Yj=Yn.unstable_IdlePriority,pg=null,Hr=null;function P4(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(pg,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:C4,I4=Math.log,O4=Math.LN2;function C4(t){return t>>>=0,t===0?32:31-(I4(t)/O4|0)|0}var id=64,od=4194304;function uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=uc(a):(o&=s,o!==0&&(r=uc(o)))}else s=n&~i,s!==0?r=uc(s):o!==0&&(r=uc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function k4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Rr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=k4(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function J0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qj(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function dv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function j4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function lx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function Jj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zj,ux,eN,tN,nN,Z0=!1,sd=[],xo=null,So=null,Eo=null,Xc=new Map,Yc=new Map,so=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NA(t,e){switch(t){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(e.pointerId)}}function zu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fh(e),e!==null&&ux(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M4(t,e,n,r,i){switch(e){case"focusin":return xo=zu(xo,t,e,n,r,i),!0;case"dragenter":return So=zu(So,t,e,n,r,i),!0;case"mouseover":return Eo=zu(Eo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xc.set(o,zu(Xc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yc.set(o,zu(Yc.get(o)||null,t,e,n,r,i)),!0}return!1}function rN(t){var e=ys(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=Hj(n),e!==null){t.blockedOn=e,nN(t.priority,function(){eN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ew(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);G0=r,n.target.dispatchEvent(r),G0=null}else return e=fh(n),e!==null&&ux(e),t.blockedOn=n,!1;e.shift()}return!0}function MA(t,e,n){zd(t)&&n.delete(e)}function D4(){Z0=!1,xo!==null&&zd(xo)&&(xo=null),So!==null&&zd(So)&&(So=null),Eo!==null&&zd(Eo)&&(Eo=null),Xc.forEach(MA),Yc.forEach(MA)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,Z0||(Z0=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,D4)))}function Qc(t){function e(i){return Wu(i,t)}if(0<sd.length){Wu(sd[0],t);for(var n=1;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xo!==null&&Wu(xo,t),So!==null&&Wu(So,t),Eo!==null&&Wu(Eo,t),Xc.forEach(e),Yc.forEach(e),n=0;n<so.length;n++)r=so[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)rN(n),n.blockedOn===null&&so.shift()}var Ya=Ui.ReactCurrentBatchConfig,vp=!0;function $4(t,e,n,r){var i=$e,o=Ya.transition;Ya.transition=null;try{$e=1,cx(t,e,n,r)}finally{$e=i,Ya.transition=o}}function L4(t,e,n,r){var i=$e,o=Ya.transition;Ya.transition=null;try{$e=4,cx(t,e,n,r)}finally{$e=i,Ya.transition=o}}function cx(t,e,n,r){if(vp){var i=ew(t,e,n,r);if(i===null)Sv(t,e,r,wp,n),NA(t,r);else if(M4(i,t,e,n,r))r.stopPropagation();else if(NA(t,r),e&4&&-1<N4.indexOf(t)){for(;i!==null;){var o=fh(i);if(o!==null&&Zj(o),o=ew(t,e,n,r),o===null&&Sv(t,e,r,wp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sv(t,e,r,null,n)}}var wp=null;function ew(t,e,n,r){if(wp=null,t=sx(r),t=ys(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wp=t,null}function iN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T4()){case ax:return 1;case Xj:return 4;case gp:case A4:return 16;case Yj:return 536870912;default:return 16}default:return 16}}var po=null,fx=null,Wd=null;function oN(){if(Wd)return Wd;var t,e=fx,n=e.length,r,i="value"in po?po.value:po.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Wd=i.slice(t,1<r?1-r:void 0)}function Hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function DA(){return!1}function Zn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ad:DA,this.isPropagationStopped=DA,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hx=Zn(nu),ch=ct({},nu,{view:0,detail:0}),V4=Zn(ch),pv,mv,Hu,mg=ct({},ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hu&&(Hu&&t.type==="mousemove"?(pv=t.screenX-Hu.screenX,mv=t.screenY-Hu.screenY):mv=pv=0,Hu=t),pv)},movementY:function(t){return"movementY"in t?t.movementY:mv}}),$A=Zn(mg),F4=ct({},mg,{dataTransfer:0}),B4=Zn(F4),U4=ct({},ch,{relatedTarget:0}),gv=Zn(U4),z4=ct({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),W4=Zn(z4),H4=ct({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K4=Zn(H4),q4=ct({},nu,{data:0}),LA=Zn(q4),G4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y4[t])?!!e[t]:!1}function dx(){return Q4}var J4=ct({},ch,{key:function(t){if(t.key){var e=G4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dx,charCode:function(t){return t.type==="keypress"?Hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z4=Zn(J4),e3=ct({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VA=Zn(e3),t3=ct({},ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dx}),n3=Zn(t3),r3=ct({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),i3=Zn(r3),o3=ct({},mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s3=Zn(o3),a3=[9,13,27,32],px=Ci&&"CompositionEvent"in window,Sc=null;Ci&&"documentMode"in document&&(Sc=document.documentMode);var l3=Ci&&"TextEvent"in window&&!Sc,sN=Ci&&(!px||Sc&&8<Sc&&11>=Sc),FA=" ",BA=!1;function aN(t,e){switch(t){case"keyup":return a3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function u3(t,e){switch(t){case"compositionend":return lN(e);case"keypress":return e.which!==32?null:(BA=!0,FA);case"textInput":return t=e.data,t===FA&&BA?null:t;default:return null}}function c3(t,e){if(Ia)return t==="compositionend"||!px&&aN(t,e)?(t=oN(),Wd=fx=po=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sN&&e.locale!=="ko"?null:e.data;default:return null}}var f3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f3[t.type]:e==="textarea"}function uN(t,e,n,r){Fj(r),e=_p(e,"onChange"),0<e.length&&(n=new hx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Jc=null;function h3(t){_N(t,0)}function gg(t){var e=ka(t);if(jj(e))return t}function d3(t,e){if(t==="change")return e}var cN=!1;if(Ci){var yv;if(Ci){var vv="oninput"in document;if(!vv){var zA=document.createElement("div");zA.setAttribute("oninput","return;"),vv=typeof zA.oninput=="function"}yv=vv}else yv=!1;cN=yv&&(!document.documentMode||9<document.documentMode)}function WA(){Ec&&(Ec.detachEvent("onpropertychange",fN),Jc=Ec=null)}function fN(t){if(t.propertyName==="value"&&gg(Jc)){var e=[];uN(e,Jc,t,sx(t)),Wj(h3,e)}}function p3(t,e,n){t==="focusin"?(WA(),Ec=e,Jc=n,Ec.attachEvent("onpropertychange",fN)):t==="focusout"&&WA()}function m3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gg(Jc)}function g3(t,e){if(t==="click")return gg(e)}function y3(t,e){if(t==="input"||t==="change")return gg(e)}function v3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:v3;function Zc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!D0.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function HA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KA(t,e){var n=HA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HA(n)}}function hN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dN(){for(var t=window,e=dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dp(t.document)}return e}function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w3(t){var e=dN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hN(n.ownerDocument.documentElement,n)){if(r!==null&&mx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=KA(n,o);var s=KA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _3=Ci&&"documentMode"in document&&11>=document.documentMode,Oa=null,tw=null,Tc=null,nw=!1;function qA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nw||Oa==null||Oa!==dp(r)||(r=Oa,"selectionStart"in r&&mx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Zc(Tc,r)||(Tc=r,r=_p(tw,"onSelect"),0<r.length&&(e=new hx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ca={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},wv={},pN={};Ci&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function yg(t){if(wv[t])return wv[t];if(!Ca[t])return t;var e=Ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pN)return wv[t]=e[n];return t}var mN=yg("animationend"),gN=yg("animationiteration"),yN=yg("animationstart"),vN=yg("transitionend"),wN=new Map,GA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(t,e){wN.set(t,e),Zs(e,[t])}for(var _v=0;_v<GA.length;_v++){var bv=GA[_v],b3=bv.toLowerCase(),x3=bv[0].toUpperCase()+bv.slice(1);Wo(b3,"on"+x3)}Wo(mN,"onAnimationEnd");Wo(gN,"onAnimationIteration");Wo(yN,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(vN,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S3=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function XA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b4(r,e,void 0,t),t.currentTarget=null}function _N(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;XA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;XA(i,a,u),o=l}}}if(mp)throw t=Q0,mp=!1,Q0=null,t}function Ge(t,e){var n=e[aw];n===void 0&&(n=e[aw]=new Set);var r=t+"__bubble";n.has(r)||(bN(e,t,2,!1),n.add(r))}function xv(t,e,n){var r=0;e&&(r|=4),bN(n,t,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[ud]){t[ud]=!0,Ij.forEach(function(n){n!=="selectionchange"&&(S3.has(n)||xv(n,!1,t),xv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ud]||(e[ud]=!0,xv("selectionchange",!1,e))}}function bN(t,e,n,r){switch(iN(e)){case 1:var i=$4;break;case 4:i=L4;break;default:i=cx}n=i.bind(null,e,n,t),i=void 0,!Y0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ys(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Wj(function(){var u=o,c=sx(n),f=[];e:{var d=wN.get(t);if(d!==void 0){var p=hx,g=t;switch(t){case"keypress":if(Hd(n)===0)break e;case"keydown":case"keyup":p=Z4;break;case"focusin":g="focus",p=gv;break;case"focusout":g="blur",p=gv;break;case"beforeblur":case"afterblur":p=gv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$A;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=B4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=n3;break;case mN:case gN:case yN:p=W4;break;case vN:p=i3;break;case"scroll":p=V4;break;case"wheel":p=s3;break;case"copy":case"cut":case"paste":p=K4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=VA}var w=(e&4)!==0,v=!w&&t==="scroll",y=w?d!==null?d+"Capture":null:d;w=[];for(var _=u,b;_!==null;){b=_;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,y!==null&&(A=Gc(_,y),A!=null&&w.push(tf(_,A,b)))),v)break;_=_.return}0<w.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==G0&&(g=n.relatedTarget||n.fromElement)&&(ys(g)||g[ki]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ys(g):null,g!==null&&(v=ea(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=$A,A="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=VA,A="onPointerLeave",y="onPointerEnter",_="pointer"),v=p==null?d:ka(p),b=g==null?d:ka(g),d=new w(A,_+"leave",p,n,c),d.target=v,d.relatedTarget=b,A=null,ys(c)===u&&(w=new w(y,_+"enter",g,n,c),w.target=b,w.relatedTarget=v,A=w),v=A,p&&g)t:{for(w=p,y=g,_=0,b=w;b;b=ya(b))_++;for(b=0,A=y;A;A=ya(A))b++;for(;0<_-b;)w=ya(w),_--;for(;0<b-_;)y=ya(y),b--;for(;_--;){if(w===y||y!==null&&w===y.alternate)break t;w=ya(w),y=ya(y)}w=null}else w=null;p!==null&&YA(f,d,p,w,!1),g!==null&&v!==null&&YA(f,v,g,w,!0)}}e:{if(d=u?ka(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=d3;else if(UA(d))if(cN)x=y3;else{x=m3;var I=p3}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=g3);if(x&&(x=x(t,u))){uN(f,x,n,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&z0(d,"number",d.value)}switch(I=u?ka(u):window,t){case"focusin":(UA(I)||I.contentEditable==="true")&&(Oa=I,tw=u,Tc=null);break;case"focusout":Tc=tw=Oa=null;break;case"mousedown":nw=!0;break;case"contextmenu":case"mouseup":case"dragend":nw=!1,qA(f,n,c);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":qA(f,n,c)}var E;if(px)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ia?aN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sN&&n.locale!=="ko"&&(Ia||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ia&&(E=oN()):(po=c,fx="value"in po?po.value:po.textContent,Ia=!0)),I=_p(u,T),0<I.length&&(T=new LA(T,t,null,n,c),f.push({event:T,listeners:I}),E?T.data=E:(E=lN(n),E!==null&&(T.data=E)))),(E=l3?u3(t,n):c3(t,n))&&(u=_p(u,"onBeforeInput"),0<u.length&&(c=new LA("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}_N(f,e)})}function tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _p(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gc(t,n),o!=null&&r.unshift(tf(t,o,i)),o=Gc(t,e),o!=null&&r.push(tf(t,o,i))),t=t.return}return r}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gc(n,o),l!=null&&s.unshift(tf(n,l,a))):i||(l=Gc(n,o),l!=null&&s.push(tf(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var E3=/\r\n?/g,T3=/\u0000|\uFFFD/g;function QA(t){return(typeof t=="string"?t:""+t).replace(E3,`
`).replace(T3,"")}function cd(t,e,n){if(e=QA(e),QA(t)!==e&&n)throw Error(J(425))}function bp(){}var rw=null,iw=null;function ow(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sw=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,JA=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof JA<"u"?function(t){return JA.resolve(null).then(t).catch(I3)}:sw;function I3(t){setTimeout(function(){throw t})}function Ev(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qc(e)}function To(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Br="__reactFiber$"+ru,nf="__reactProps$"+ru,ki="__reactContainer$"+ru,aw="__reactEvents$"+ru,O3="__reactListeners$"+ru,C3="__reactHandles$"+ru;function ys(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZA(t);t!==null;){if(n=t[Br])return n;t=ZA(t)}return e}t=n,n=t.parentNode}return null}function fh(t){return t=t[Br]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function vg(t){return t[nf]||null}var lw=[],Ra=-1;function Ho(t){return{current:t}}function Ze(t){0>Ra||(t.current=lw[Ra],lw[Ra]=null,Ra--)}function Ke(t,e){Ra++,lw[Ra]=t.current,t.current=e}var Do={},wn=Ho(Do),Nn=Ho(!1),$s=Do;function fl(t,e){var n=t.type.contextTypes;if(!n)return Do;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function xp(){Ze(Nn),Ze(wn)}function e1(t,e,n){if(wn.current!==Do)throw Error(J(168));Ke(wn,e),Ke(Nn,n)}function xN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,p4(t)||"Unknown",i));return ct({},n,r)}function Sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Do,$s=wn.current,Ke(wn,t),Ke(Nn,Nn.current),!0}function t1(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=xN(t,e,$s),r.__reactInternalMemoizedMergedChildContext=t,Ze(Nn),Ze(wn),Ke(wn,t)):Ze(Nn),Ke(Nn,n)}var di=null,wg=!1,Tv=!1;function SN(t){di===null?di=[t]:di.push(t)}function k3(t){wg=!0,SN(t)}function Ko(){if(!Tv&&di!==null){Tv=!0;var t=0,e=$e;try{var n=di;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,wg=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),Gj(ax,Ko),i}finally{$e=e,Tv=!1}}return null}var ja=[],Na=0,Ep=null,Tp=0,ar=[],lr=0,Ls=null,pi=1,mi="";function us(t,e){ja[Na++]=Tp,ja[Na++]=Ep,Ep=t,Tp=e}function EN(t,e,n){ar[lr++]=pi,ar[lr++]=mi,ar[lr++]=Ls,Ls=t;var r=pi;t=mi;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var o=32-Rr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pi=1<<32-Rr(e)+i|n<<i|r,mi=o+t}else pi=1<<o|n<<i|r,mi=t}function gx(t){t.return!==null&&(us(t,1),EN(t,1,0))}function yx(t){for(;t===Ep;)Ep=ja[--Na],ja[Na]=null,Tp=ja[--Na],ja[Na]=null;for(;t===Ls;)Ls=ar[--lr],ar[lr]=null,mi=ar[--lr],ar[lr]=null,pi=ar[--lr],ar[lr]=null}var Gn=null,qn=null,nt=!1,Ir=null;function TN(t,e){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,qn=To(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,qn=null,!0):!1;default:return!1}}function uw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cw(t){if(nt){var e=qn;if(e){var n=e;if(!n1(t,e)){if(uw(t))throw Error(J(418));e=To(n.nextSibling);var r=Gn;e&&n1(t,e)?TN(r,n):(t.flags=t.flags&-4097|2,nt=!1,Gn=t)}}else{if(uw(t))throw Error(J(418));t.flags=t.flags&-4097|2,nt=!1,Gn=t}}}function r1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function fd(t){if(t!==Gn)return!1;if(!nt)return r1(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ow(t.type,t.memoizedProps)),e&&(e=qn)){if(uw(t))throw AN(),Error(J(418));for(;e;)TN(t,e),e=To(e.nextSibling)}if(r1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=To(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Gn?To(t.stateNode.nextSibling):null;return!0}function AN(){for(var t=qn;t;)t=To(t.nextSibling)}function hl(){qn=Gn=null,nt=!1}function vx(t){Ir===null?Ir=[t]:Ir.push(t)}var R3=Ui.ReactCurrentBatchConfig;function Ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i1(t){var e=t._init;return e(t._payload)}function PN(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Oo(y,_),y.index=0,y.sibling=null,y}function o(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,b,A){return _===null||_.tag!==6?(_=Rv(b,y.mode,A),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,A){var x=b.type;return x===Pa?c(y,_,b.props.children,A,b.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ro&&i1(x)===_.type)?(A=i(_,b.props),A.ref=Ku(y,_,b),A.return=y,A):(A=Jd(b.type,b.key,b.props,null,y.mode,A),A.ref=Ku(y,_,b),A.return=y,A)}function u(y,_,b,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=jv(b,y.mode,A),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function c(y,_,b,A,x){return _===null||_.tag!==7?(_=Is(b,y.mode,A,x),_.return=y,_):(_=i(_,b),_.return=y,_)}function f(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rv(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case td:return b=Jd(_.type,_.key,_.props,null,y.mode,b),b.ref=Ku(y,null,_),b.return=y,b;case Aa:return _=jv(_,y.mode,b),_.return=y,_;case ro:var A=_._init;return f(y,A(_._payload),b)}if(lc(_)||Bu(_))return _=Is(_,y.mode,b,null),_.return=y,_;hd(y,_)}return null}function d(y,_,b,A){var x=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(y,_,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case td:return b.key===x?l(y,_,b,A):null;case Aa:return b.key===x?u(y,_,b,A):null;case ro:return x=b._init,d(y,_,x(b._payload),A)}if(lc(b)||Bu(b))return x!==null?null:c(y,_,b,A,null);hd(y,b)}return null}function p(y,_,b,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(b)||null,a(_,y,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case td:return y=y.get(A.key===null?b:A.key)||null,l(_,y,A,x);case Aa:return y=y.get(A.key===null?b:A.key)||null,u(_,y,A,x);case ro:var I=A._init;return p(y,_,b,I(A._payload),x)}if(lc(A)||Bu(A))return y=y.get(b)||null,c(_,y,A,x,null);hd(_,A)}return null}function g(y,_,b,A){for(var x=null,I=null,E=_,T=_=0,P=null;E!==null&&T<b.length;T++){E.index>T?(P=E,E=null):P=E.sibling;var C=d(y,E,b[T],A);if(C===null){E===null&&(E=P);break}t&&E&&C.alternate===null&&e(y,E),_=o(C,_,T),I===null?x=C:I.sibling=C,I=C,E=P}if(T===b.length)return n(y,E),nt&&us(y,T),x;if(E===null){for(;T<b.length;T++)E=f(y,b[T],A),E!==null&&(_=o(E,_,T),I===null?x=E:I.sibling=E,I=E);return nt&&us(y,T),x}for(E=r(y,E);T<b.length;T++)P=p(E,y,T,b[T],A),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),_=o(P,_,T),I===null?x=P:I.sibling=P,I=P);return t&&E.forEach(function(k){return e(y,k)}),nt&&us(y,T),x}function w(y,_,b,A){var x=Bu(b);if(typeof x!="function")throw Error(J(150));if(b=x.call(b),b==null)throw Error(J(151));for(var I=x=null,E=_,T=_=0,P=null,C=b.next();E!==null&&!C.done;T++,C=b.next()){E.index>T?(P=E,E=null):P=E.sibling;var k=d(y,E,C.value,A);if(k===null){E===null&&(E=P);break}t&&E&&k.alternate===null&&e(y,E),_=o(k,_,T),I===null?x=k:I.sibling=k,I=k,E=P}if(C.done)return n(y,E),nt&&us(y,T),x;if(E===null){for(;!C.done;T++,C=b.next())C=f(y,C.value,A),C!==null&&(_=o(C,_,T),I===null?x=C:I.sibling=C,I=C);return nt&&us(y,T),x}for(E=r(y,E);!C.done;T++,C=b.next())C=p(E,y,T,C.value,A),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?T:C.key),_=o(C,_,T),I===null?x=C:I.sibling=C,I=C);return t&&E.forEach(function(j){return e(y,j)}),nt&&us(y,T),x}function v(y,_,b,A){if(typeof b=="object"&&b!==null&&b.type===Pa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case td:e:{for(var x=b.key,I=_;I!==null;){if(I.key===x){if(x=b.type,x===Pa){if(I.tag===7){n(y,I.sibling),_=i(I,b.props.children),_.return=y,y=_;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ro&&i1(x)===I.type){n(y,I.sibling),_=i(I,b.props),_.ref=Ku(y,I,b),_.return=y,y=_;break e}n(y,I);break}else e(y,I);I=I.sibling}b.type===Pa?(_=Is(b.props.children,y.mode,A,b.key),_.return=y,y=_):(A=Jd(b.type,b.key,b.props,null,y.mode,A),A.ref=Ku(y,_,b),A.return=y,y=A)}return s(y);case Aa:e:{for(I=b.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=jv(b,y.mode,A),_.return=y,y=_}return s(y);case ro:return I=b._init,v(y,_,I(b._payload),A)}if(lc(b))return g(y,_,b,A);if(Bu(b))return w(y,_,b,A);hd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,b),_.return=y,y=_):(n(y,_),_=Rv(b,y.mode,A),_.return=y,y=_),s(y)):n(y,_)}return v}var dl=PN(!0),IN=PN(!1),Ap=Ho(null),Pp=null,Ma=null,wx=null;function _x(){wx=Ma=Pp=null}function bx(t){var e=Ap.current;Ze(Ap),t._currentValue=e}function fw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qa(t,e){Pp=t,wx=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(wx!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(Pp===null)throw Error(J(308));Ma=t,Pp.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var vs=null;function xx(t){vs===null?vs=[t]:vs.push(t)}function ON(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ri(t,r)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var io=!1;function Sx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ri(t,n)}return i=r.interleaved,i===null?(e.next=e,xx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ri(t,n)}function Kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lx(t,n)}}function o1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ip(t,e,n,r){var i=t.updateQueue;io=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,w=a;switch(d=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=ct({},f,d);break e;case 2:io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fs|=s,t.lanes=s,t.memoizedState=f}}function s1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var hh={},Kr=Ho(hh),rf=Ho(hh),of=Ho(hh);function ws(t){if(t===hh)throw Error(J(174));return t}function Ex(t,e){switch(Ke(of,e),Ke(rf,t),Ke(Kr,hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=H0(e,t)}Ze(Kr),Ke(Kr,e)}function pl(){Ze(Kr),Ze(rf),Ze(of)}function kN(t){ws(of.current);var e=ws(Kr.current),n=H0(e,t.type);e!==n&&(Ke(rf,t),Ke(Kr,n))}function Tx(t){rf.current===t&&(Ze(Kr),Ze(rf))}var at=Ho(0);function Op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Av=[];function Ax(){for(var t=0;t<Av.length;t++)Av[t]._workInProgressVersionPrimary=null;Av.length=0}var qd=Ui.ReactCurrentDispatcher,Pv=Ui.ReactCurrentBatchConfig,Vs=0,ut=null,Nt=null,Wt=null,Cp=!1,Ac=!1,sf=0,j3=0;function ln(){throw Error(J(321))}function Px(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Ix(t,e,n,r,i,o){if(Vs=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qd.current=t===null||t.memoizedState===null?$3:L3,t=n(r,i),Ac){o=0;do{if(Ac=!1,sf=0,25<=o)throw Error(J(301));o+=1,Wt=Nt=null,e.updateQueue=null,qd.current=V3,t=n(r,i)}while(Ac)}if(qd.current=kp,e=Nt!==null&&Nt.next!==null,Vs=0,Wt=Nt=ut=null,Cp=!1,e)throw Error(J(300));return t}function Ox(){var t=sf!==0;return sf=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function mr(){if(Nt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Wt===null?ut.memoizedState:Wt.next;if(e!==null)Wt=e,Nt=t;else{if(t===null)throw Error(J(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function af(t,e){return typeof e=="function"?e(t):e}function Iv(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Vs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ut.lanes|=c,Fs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Nr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,Fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ov(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Nr(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function RN(){}function jN(t,e){var n=ut,r=mr(),i=e(),o=!Nr(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,Cx(DN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,lf(9,MN.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(J(349));Vs&30||NN(n,e,i)}return i}function NN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MN(t,e,n,r){e.value=n,e.getSnapshot=r,$N(e)&&LN(t)}function DN(t,e,n){return n(function(){$N(e)&&LN(t)})}function $N(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function LN(t){var e=Ri(t,1);e!==null&&jr(e,t,1,-1)}function a1(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},e.queue=t,t=t.dispatch=D3.bind(null,ut,t),[e.memoizedState,t]}function lf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VN(){return mr().memoizedState}function Gd(t,e,n,r){var i=Fr();ut.flags|=t,i.memoizedState=lf(1|e,n,void 0,r===void 0?null:r)}function _g(t,e,n,r){var i=mr();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&Px(r,s.deps)){i.memoizedState=lf(e,n,o,r);return}}ut.flags|=t,i.memoizedState=lf(1|e,n,o,r)}function l1(t,e){return Gd(8390656,8,t,e)}function Cx(t,e){return _g(2048,8,t,e)}function FN(t,e){return _g(4,2,t,e)}function BN(t,e){return _g(4,4,t,e)}function UN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zN(t,e,n){return n=n!=null?n.concat([t]):null,_g(4,4,UN.bind(null,e,t),n)}function kx(){}function WN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Px(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Px(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KN(t,e,n){return Vs&21?(Nr(n,e)||(n=Qj(),ut.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function N3(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Pv.transition;Pv.transition={};try{t(!1),e()}finally{$e=n,Pv.transition=r}}function qN(){return mr().memoizedState}function M3(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GN(t))XN(e,n);else if(n=ON(t,e,n,r),n!==null){var i=Pn();jr(n,t,r,i),YN(n,e,r)}}function D3(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GN(t))XN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,s)){var l=e.interleaved;l===null?(i.next=i,xx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ON(t,e,i,r),n!==null&&(i=Pn(),jr(n,t,r,i),YN(n,e,r))}}function GN(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function XN(t,e){Ac=Cp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lx(t,n)}}var kp={readContext:pr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},$3={readContext:pr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:l1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4194308,4,UN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gd(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M3.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:a1,useDebugValue:kx,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=a1(!1),e=t[0];return t=N3.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Fr();if(nt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ht===null)throw Error(J(349));Vs&30||NN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,l1(DN.bind(null,r,o,t),[t]),r.flags|=2048,lf(9,MN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Ht.identifierPrefix;if(nt){var n=mi,r=pi;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L3={readContext:pr,useCallback:WN,useContext:pr,useEffect:Cx,useImperativeHandle:zN,useInsertionEffect:FN,useLayoutEffect:BN,useMemo:HN,useReducer:Iv,useRef:VN,useState:function(){return Iv(af)},useDebugValue:kx,useDeferredValue:function(t){var e=mr();return KN(e,Nt.memoizedState,t)},useTransition:function(){var t=Iv(af)[0],e=mr().memoizedState;return[t,e]},useMutableSource:RN,useSyncExternalStore:jN,useId:qN,unstable_isNewReconciler:!1},V3={readContext:pr,useCallback:WN,useContext:pr,useEffect:Cx,useImperativeHandle:zN,useInsertionEffect:FN,useLayoutEffect:BN,useMemo:HN,useReducer:Ov,useRef:VN,useState:function(){return Ov(af)},useDebugValue:kx,useDeferredValue:function(t){var e=mr();return Nt===null?e.memoizedState=t:KN(e,Nt.memoizedState,t)},useTransition:function(){var t=Ov(af)[0],e=mr().memoizedState;return[t,e]},useMutableSource:RN,useSyncExternalStore:jN,useId:qN,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bg={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Io(t),o=xi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ao(t,o,i),e!==null&&(jr(e,t,i,r),Kd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Io(t),o=xi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ao(t,o,i),e!==null&&(jr(e,t,i,r),Kd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=Io(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ao(t,i,r),e!==null&&(jr(e,t,r,n),Kd(e,t,r))}};function u1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Zc(n,r)||!Zc(i,o):!0}function QN(t,e,n){var r=!1,i=Do,o=e.contextType;return typeof o=="object"&&o!==null?o=pr(o):(i=Mn(e)?$s:wn.current,r=e.contextTypes,o=(r=r!=null)?fl(t,i):Do),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function c1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bg.enqueueReplaceState(e,e.state,null)}function dw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sx(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pr(o):(o=Mn(e)?$s:wn.current,i.context=fl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(hw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bg.enqueueReplaceState(i,i.state,null),Ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ml(t,e){try{var n="",r=e;do n+=d4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F3=typeof WeakMap=="function"?WeakMap:Map;function JN(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jp||(jp=!0,Ew=r),pw(t,e)},n}function ZN(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pw(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function f1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ez.bind(null,t,e,n),e.then(t,t))}function h1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,Ao(n,e,1))),n.lanes|=1),t)}var B3=Ui.ReactCurrentOwner,kn=!1;function Sn(t,e,n,r){e.child=t===null?IN(e,null,n,r):dl(e,t.child,n,r)}function p1(t,e,n,r,i){n=n.render;var o=e.ref;return Qa(e,i),r=Ix(t,e,n,r,o,i),n=Ox(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ji(t,e,i)):(nt&&n&&gx(e),e.flags|=1,Sn(t,e,r,i),e.child)}function m1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,eM(t,e,o,r,i)):(t=Jd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(s,r)&&t.ref===e.ref)return ji(t,e,i)}return e.flags|=1,t=Oo(o,r),t.ref=e.ref,t.return=e,e.child=t}function eM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Zc(o,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,ji(t,e,i)}return mw(t,e,n,r,i)}function tM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke($a,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke($a,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke($a,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke($a,zn),zn|=r;return Sn(t,e,i,n),e.child}function nM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mw(t,e,n,r,i){var o=Mn(n)?$s:wn.current;return o=fl(e,o),Qa(e,i),n=Ix(t,e,n,r,o,i),r=Ox(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ji(t,e,i)):(nt&&r&&gx(e),e.flags|=1,Sn(t,e,n,i),e.child)}function g1(t,e,n,r,i){if(Mn(n)){var o=!0;Sp(e)}else o=!1;if(Qa(e,i),e.stateNode===null)Xd(t,e),QN(e,n,r),dw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Mn(n)?$s:wn.current,u=fl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&c1(e,s,r,u),io=!1;var d=e.memoizedState;s.state=d,Ip(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Nn.current||io?(typeof c=="function"&&(hw(e,n,c,r),l=e.memoizedState),(a=io||u1(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,CN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Er(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Mn(n)?$s:wn.current,l=fl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&c1(e,s,r,l),io=!1,d=e.memoizedState,s.state=d,Ip(e,r,s,i);var g=e.memoizedState;a!==f||d!==g||Nn.current||io?(typeof p=="function"&&(hw(e,n,p,r),g=e.memoizedState),(u=io||u1(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return gw(t,e,n,r,o,i)}function gw(t,e,n,r,i,o){nM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&t1(e,n,!1),ji(t,e,o);r=e.stateNode,B3.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=dl(e,t.child,null,o),e.child=dl(e,null,a,o)):Sn(t,e,a,o),e.memoizedState=r.state,i&&t1(e,n,!0),e.child}function rM(t){var e=t.stateNode;e.pendingContext?e1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e1(t,e.context,!1),Ex(t,e.containerInfo)}function y1(t,e,n,r,i){return hl(),vx(i),e.flags|=256,Sn(t,e,n,r),e.child}var yw={dehydrated:null,treeContext:null,retryLane:0};function vw(t){return{baseLanes:t,cachePool:null,transitions:null}}function iM(t,e,n){var r=e.pendingProps,i=at.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(at,i&1),t===null)return cw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Eg(s,r,0,null),t=Is(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=vw(n),e.memoizedState=yw,t):Rx(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return U3(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Oo(a,o):(o=Is(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?vw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=yw,r}return o=t.child,t=o.sibling,r=Oo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rx(t,e){return e=Eg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&vx(r),dl(e,t.child,null,n),t=Rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U3(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Cv(Error(J(422))),dd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Eg({mode:"visible",children:r.children},i,0,null),o=Is(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&dl(e,t.child,null,s),e.child.memoizedState=vw(s),e.memoizedState=yw,o);if(!(e.mode&1))return dd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=Cv(o,r,void 0),dd(t,e,s,r)}if(a=(s&t.childLanes)!==0,kn||a){if(r=Ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ri(t,i),jr(r,t,i,-1))}return Lx(),r=Cv(Error(J(421))),dd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qn=To(i.nextSibling),Gn=e,nt=!0,Ir=null,t!==null&&(ar[lr++]=pi,ar[lr++]=mi,ar[lr++]=Ls,pi=t.id,mi=t.overflow,Ls=e),e=Rx(e,r.children),e.flags|=4096,e)}function v1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fw(t.return,e,n)}function kv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function oM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Sn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v1(t,n,e);else if(t.tag===19)v1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Op(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Op(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kv(e,!0,n,null,o);break;case"together":kv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z3(t,e,n){switch(e.tag){case 3:rM(e),hl();break;case 5:kN(e);break;case 1:Mn(e.type)&&Sp(e);break;case 4:Ex(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?iM(t,e,n):(Ke(at,at.current&1),t=ji(t,e,n),t!==null?t.sibling:null);Ke(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,tM(t,e,n)}return ji(t,e,n)}var sM,ww,aM,lM;sM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ww=function(){};aM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(Kr.current);var o=null;switch(n){case"input":i=B0(t,i),r=B0(t,r),o=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),o=[];break;case"textarea":i=W0(t,i),r=W0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bp)}K0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};lM=function(t,e,n,r){n!==r&&(e.flags|=4)};function qu(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W3(t,e,n){var r=e.pendingProps;switch(yx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Mn(e.type)&&xp(),un(e),null;case 3:return r=e.stateNode,pl(),Ze(Nn),Ze(wn),Ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(Pw(Ir),Ir=null))),ww(t,e),un(e),null;case 5:Tx(e);var i=ws(of.current);if(n=e.type,t!==null&&e.stateNode!=null)aM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return un(e),null}if(t=ws(Kr.current),fd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Br]=e,r[nf]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<cc.length;i++)Ge(cc[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":PA(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":OA(r,o),Ge("invalid",r)}K0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",""+a]):Kc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":nd(r),IA(r,o,!0);break;case"textarea":nd(r),CA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Br]=e,t[nf]=r,sM(t,e,!1,!1),e.stateNode=t;e:{switch(s=q0(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<cc.length;i++)Ge(cc[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":PA(t,r),i=B0(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":OA(t,r),i=W0(t,r),Ge("invalid",t);break;default:i=r}K0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Vj(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$j(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qc(t,l):typeof l=="number"&&qc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&nx(t,o,l,s))}switch(n){case"input":nd(t),IA(t,r,!1);break;case"textarea":nd(t),CA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qa(t,!!r.multiple,o,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)lM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ws(of.current),ws(Kr.current),fd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(o=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:cd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return un(e),null;case 13:if(Ze(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&qn!==null&&e.mode&1&&!(e.flags&128))AN(),hl(),e.flags|=98560,o=!1;else if(o=fd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Br]=e}else hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else Ir!==null&&(Pw(Ir),Ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Mt===0&&(Mt=3):Lx())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return pl(),ww(t,e),t===null&&ef(e.stateNode.containerInfo),un(e),null;case 10:return bx(e.type._context),un(e),null;case 17:return Mn(e.type)&&xp(),un(e),null;case 19:if(Ze(at),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)qu(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Op(t),s!==null){for(e.flags|=128,qu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>gl&&(e.flags|=128,r=!0,qu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Op(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nt)return un(e),null}else 2*St()-o.renderingStartTime>gl&&n!==1073741824&&(e.flags|=128,r=!0,qu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=at.current,Ke(at,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return $x(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function H3(t,e){switch(yx(e),e.tag){case 1:return Mn(e.type)&&xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pl(),Ze(Nn),Ze(wn),Ax(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tx(e),null;case 13:if(Ze(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(at),null;case 4:return pl(),null;case 10:return bx(e.type._context),null;case 22:case 23:return $x(),null;case 24:return null;default:return null}}var pd=!1,pn=!1,K3=typeof WeakSet=="function"?WeakSet:Set,se=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function _w(t,e,n){try{n()}catch(r){vt(t,e,r)}}var w1=!1;function q3(t,e){if(rw=vp,t=dN(),mx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iw={focusedElem:t,selectionRange:n},vp=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,v=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Er(e.type,w),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(A){vt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=w1,w1=!1,g}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_w(e,n,o)}i=i.next}while(i!==r)}}function xg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uM(t){var e=t.alternate;e!==null&&(t.alternate=null,uM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[nf],delete e[aw],delete e[O3],delete e[C3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cM(t){return t.tag===5||t.tag===3||t.tag===4}function _1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bp));else if(r!==4&&(t=t.child,t!==null))for(xw(t,e,n),t=t.sibling;t!==null;)xw(t,e,n),t=t.sibling}function Sw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sw(t,e,n),t=t.sibling;t!==null;)Sw(t,e,n),t=t.sibling}var Yt=null,Tr=!1;function Zi(t,e,n){for(n=n.child;n!==null;)fM(t,e,n),n=n.sibling}function fM(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(pg,n)}catch{}switch(n.tag){case 5:pn||Da(n,e);case 6:var r=Yt,i=Tr;Yt=null,Zi(t,e,n),Yt=r,Tr=i,Yt!==null&&(Tr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Tr?(t=Yt,n=n.stateNode,t.nodeType===8?Ev(t.parentNode,n):t.nodeType===1&&Ev(t,n),Qc(t)):Ev(Yt,n.stateNode));break;case 4:r=Yt,i=Tr,Yt=n.stateNode.containerInfo,Tr=!0,Zi(t,e,n),Yt=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&_w(n,e,s),i=i.next}while(i!==r)}Zi(t,e,n);break;case 1:if(!pn&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}Zi(t,e,n);break;case 21:Zi(t,e,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,Zi(t,e,n),pn=r):Zi(t,e,n);break;default:Zi(t,e,n)}}function b1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new K3),e.forEach(function(r){var i=nz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Tr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Tr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(Yt===null)throw Error(J(160));fM(o,s,i),Yt=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hM(e,t),e=e.sibling}function hM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Vr(t),r&4){try{Pc(3,t,t.return),xg(3,t)}catch(w){vt(t,t.return,w)}try{Pc(5,t,t.return)}catch(w){vt(t,t.return,w)}}break;case 1:br(e,t),Vr(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(br(e,t),Vr(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var i=t.stateNode;try{qc(i,"")}catch(w){vt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Nj(i,o),q0(a,s);var u=q0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Vj(i,f):c==="dangerouslySetInnerHTML"?$j(i,f):c==="children"?qc(i,f):nx(i,c,f,u)}switch(a){case"input":U0(i,o);break;case"textarea":Mj(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?qa(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?qa(i,!!o.multiple,o.defaultValue,!0):qa(i,!!o.multiple,o.multiple?[]:"",!1))}i[nf]=o}catch(w){vt(t,t.return,w)}}break;case 6:if(br(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){vt(t,t.return,w)}}break;case 3:if(br(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(e.containerInfo)}catch(w){vt(t,t.return,w)}break;case 4:br(e,t),Vr(t);break;case 13:br(e,t),Vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Mx=St())),r&4&&b1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(pn=(u=pn)||c,br(e,t),pn=u):br(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(d=se,p=d.child,d.tag){case 0:case 11:case 14:case 15:Pc(4,d,d.return);break;case 1:Da(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){vt(r,n,w)}}break;case 5:Da(d,d.return);break;case 22:if(d.memoizedState!==null){S1(f);continue}}p!==null?(p.return=d,se=p):S1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lj("display",s))}catch(w){vt(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){vt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(e,t),Vr(t),r&4&&b1(t);break;case 21:break;default:br(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cM(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qc(i,""),r.flags&=-33);var o=_1(t);Sw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_1(t);xw(t,a,s);break;default:throw Error(J(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G3(t,e,n){se=t,dM(t)}function dM(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pn;a=pd;var u=pn;if(pd=s,(pn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?E1(i):l!==null?(l.return=s,se=l):E1(i);for(;o!==null;)se=o,dM(o),o=o.sibling;se=i,pd=a,pn=u}x1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):x1(t)}}function x1(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pn||xg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&s1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}pn||e.flags&512&&bw(e)}catch(d){vt(e,e.return,d)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function S1(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function E1(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xg(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{bw(e)}catch(l){vt(e,o,l)}break;case 5:var s=e.return;try{bw(e)}catch(l){vt(e,s,l)}}}catch(l){vt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var X3=Math.ceil,Rp=Ui.ReactCurrentDispatcher,jx=Ui.ReactCurrentOwner,hr=Ui.ReactCurrentBatchConfig,ke=0,Ht=null,Ot=null,tn=0,zn=0,$a=Ho(0),Mt=0,uf=null,Fs=0,Sg=0,Nx=0,Ic=null,Cn=null,Mx=0,gl=1/0,hi=null,jp=!1,Ew=null,Po=null,md=!1,mo=null,Np=0,Oc=0,Tw=null,Yd=-1,Qd=0;function Pn(){return ke&6?St():Yd!==-1?Yd:Yd=St()}function Io(t){return t.mode&1?ke&2&&tn!==0?tn&-tn:R3.transition!==null?(Qd===0&&(Qd=Qj()),Qd):(t=$e,t!==0||(t=window.event,t=t===void 0?16:iN(t.type)),t):1}function jr(t,e,n,r){if(50<Oc)throw Oc=0,Tw=null,Error(J(185));uh(t,n,r),(!(ke&2)||t!==Ht)&&(t===Ht&&(!(ke&2)&&(Sg|=n),Mt===4&&ao(t,tn)),Dn(t,r),n===1&&ke===0&&!(e.mode&1)&&(gl=St()+500,wg&&Ko()))}function Dn(t,e){var n=t.callbackNode;R4(t,e);var r=yp(t,t===Ht?tn:0);if(r===0)n!==null&&jA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jA(n),e===1)t.tag===0?k3(T1.bind(null,t)):SN(T1.bind(null,t)),P3(function(){!(ke&6)&&Ko()}),n=null;else{switch(Jj(r)){case 1:n=ax;break;case 4:n=Xj;break;case 16:n=gp;break;case 536870912:n=Yj;break;default:n=gp}n=bM(n,pM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pM(t,e){if(Yd=-1,Qd=0,ke&6)throw Error(J(327));var n=t.callbackNode;if(Ja()&&t.callbackNode!==n)return null;var r=yp(t,t===Ht?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mp(t,r);else{e=r;var i=ke;ke|=2;var o=gM();(Ht!==t||tn!==e)&&(hi=null,gl=St()+500,Ps(t,e));do try{J3();break}catch(a){mM(t,a)}while(!0);_x(),Rp.current=o,ke=i,Ot!==null?e=0:(Ht=null,tn=0,e=Mt)}if(e!==0){if(e===2&&(i=J0(t),i!==0&&(r=i,e=Aw(t,i))),e===1)throw n=uf,Ps(t,0),ao(t,r),Dn(t,St()),n;if(e===6)ao(t,r);else{if(i=t.current.alternate,!(r&30)&&!Y3(i)&&(e=Mp(t,r),e===2&&(o=J0(t),o!==0&&(r=o,e=Aw(t,o))),e===1))throw n=uf,Ps(t,0),ao(t,r),Dn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:cs(t,Cn,hi);break;case 3:if(ao(t,r),(r&130023424)===r&&(e=Mx+500-St(),10<e)){if(yp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sw(cs.bind(null,t,Cn,hi),e);break}cs(t,Cn,hi);break;case 4:if(ao(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Rr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X3(r/1960))-r,10<r){t.timeoutHandle=sw(cs.bind(null,t,Cn,hi),r);break}cs(t,Cn,hi);break;case 5:cs(t,Cn,hi);break;default:throw Error(J(329))}}}return Dn(t,St()),t.callbackNode===n?pM.bind(null,t):null}function Aw(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=Mp(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&Pw(e)),t}function Pw(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function Y3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ao(t,e){for(e&=~Nx,e&=~Sg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function T1(t){if(ke&6)throw Error(J(327));Ja();var e=yp(t,0);if(!(e&1))return Dn(t,St()),null;var n=Mp(t,e);if(t.tag!==0&&n===2){var r=J0(t);r!==0&&(e=r,n=Aw(t,r))}if(n===1)throw n=uf,Ps(t,0),ao(t,e),Dn(t,St()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,Cn,hi),Dn(t,St()),null}function Dx(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(gl=St()+500,wg&&Ko())}}function Bs(t){mo!==null&&mo.tag===0&&!(ke&6)&&Ja();var e=ke;ke|=1;var n=hr.transition,r=$e;try{if(hr.transition=null,$e=1,t)return t()}finally{$e=r,hr.transition=n,ke=e,!(ke&6)&&Ko()}}function $x(){zn=$a.current,Ze($a)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A3(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(yx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xp();break;case 3:pl(),Ze(Nn),Ze(wn),Ax();break;case 5:Tx(r);break;case 4:pl();break;case 13:Ze(at);break;case 19:Ze(at);break;case 10:bx(r.type._context);break;case 22:case 23:$x()}n=n.return}if(Ht=t,Ot=t=Oo(t.current,null),tn=zn=e,Mt=0,uf=null,Nx=Sg=Fs=0,Cn=Ic=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}vs=null}return t}function mM(t,e){do{var n=Ot;try{if(_x(),qd.current=kp,Cp){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cp=!1}if(Vs=0,Wt=Nt=ut=null,Ac=!1,sf=0,jx.current=null,n===null||n.return===null){Mt=1,uf=e,Ot=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=h1(s);if(p!==null){p.flags&=-257,d1(p,s,a,o,e),p.mode&1&&f1(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){f1(o,u,e),Lx();break e}l=Error(J(426))}}else if(nt&&a.mode&1){var v=h1(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),d1(v,s,a,o,e),vx(ml(l,a));break e}}o=l=ml(l,a),Mt!==4&&(Mt=2),Ic===null?Ic=[o]:Ic.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=JN(o,l,e);o1(o,y);break e;case 1:a=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=ZN(o,a,e);o1(o,A);break e}}o=o.return}while(o!==null)}vM(n)}catch(x){e=x,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function gM(){var t=Rp.current;return Rp.current=kp,t===null?kp:t}function Lx(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ht===null||!(Fs&268435455)&&!(Sg&268435455)||ao(Ht,tn)}function Mp(t,e){var n=ke;ke|=2;var r=gM();(Ht!==t||tn!==e)&&(hi=null,Ps(t,e));do try{Q3();break}catch(i){mM(t,i)}while(!0);if(_x(),ke=n,Rp.current=r,Ot!==null)throw Error(J(261));return Ht=null,tn=0,Mt}function Q3(){for(;Ot!==null;)yM(Ot)}function J3(){for(;Ot!==null&&!S4();)yM(Ot)}function yM(t){var e=_M(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?vM(t):Ot=e,jx.current=null}function vM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=H3(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Ot=null;return}}else if(n=W3(n,e,zn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Mt===0&&(Mt=5)}function cs(t,e,n){var r=$e,i=hr.transition;try{hr.transition=null,$e=1,Z3(t,e,n,r)}finally{hr.transition=i,$e=r}return null}function Z3(t,e,n,r){do Ja();while(mo!==null);if(ke&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(j4(t,o),t===Ht&&(Ot=Ht=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,bM(gp,function(){return Ja(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hr.transition,hr.transition=null;var s=$e;$e=1;var a=ke;ke|=4,jx.current=null,q3(t,n),hM(n,t),w3(iw),vp=!!rw,iw=rw=null,t.current=n,G3(n),E4(),ke=a,$e=s,hr.transition=o}else t.current=n;if(md&&(md=!1,mo=t,Np=i),o=t.pendingLanes,o===0&&(Po=null),P4(n.stateNode),Dn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jp)throw jp=!1,t=Ew,Ew=null,t;return Np&1&&t.tag!==0&&Ja(),o=t.pendingLanes,o&1?t===Tw?Oc++:(Oc=0,Tw=t):Oc=0,Ko(),null}function Ja(){if(mo!==null){var t=Jj(Np),e=hr.transition,n=$e;try{if(hr.transition=null,$e=16>t?16:t,mo===null)var r=!1;else{if(t=mo,mo=null,Np=0,ke&6)throw Error(J(331));var i=ke;for(ke|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Pc(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var d=c.sibling,p=c.return;if(uM(c),c===u){se=null;break}if(d!==null){d.return=p,se=d;break}se=p}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,se=y;break e}se=o.return}}var _=t.current;for(se=_;se!==null;){s=se;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,se=b;else e:for(s=_;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xg(9,a)}}catch(x){vt(a,a.return,x)}if(a===s){se=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,se=A;break e}se=a.return}}if(ke=i,Ko(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(pg,t)}catch{}r=!0}return r}finally{$e=n,hr.transition=e}}return!1}function A1(t,e,n){e=ml(n,e),e=JN(t,e,1),t=Ao(t,e,1),e=Pn(),t!==null&&(uh(t,1,e),Dn(t,e))}function vt(t,e,n){if(t.tag===3)A1(t,t,n);else for(;e!==null;){if(e.tag===3){A1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=ml(n,t),t=ZN(e,t,1),e=Ao(e,t,1),t=Pn(),e!==null&&(uh(e,1,t),Dn(e,t));break}}e=e.return}}function ez(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(tn&n)===n&&(Mt===4||Mt===3&&(tn&130023424)===tn&&500>St()-Mx?Ps(t,0):Nx|=n),Dn(t,e)}function wM(t,e){e===0&&(t.mode&1?(e=od,od<<=1,!(od&130023424)&&(od=4194304)):e=1);var n=Pn();t=Ri(t,e),t!==null&&(uh(t,e,n),Dn(t,n))}function tz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wM(t,n)}function nz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),wM(t,n)}var _M;_M=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,z3(t,e,n);kn=!!(t.flags&131072)}else kn=!1,nt&&e.flags&1048576&&EN(e,Tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var i=fl(e,wn.current);Qa(e,n),i=Ix(null,e,r,t,i,n);var o=Ox();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,Sp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sx(e),i.updater=bg,e.stateNode=i,i._reactInternals=e,dw(e,r,t,n),e=gw(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&gx(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iz(r),t=Er(r,t),i){case 0:e=mw(null,e,r,t,n);break e;case 1:e=g1(null,e,r,t,n);break e;case 11:e=p1(null,e,r,t,n);break e;case 14:e=m1(null,e,r,Er(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),mw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),g1(t,e,r,i,n);case 3:e:{if(rM(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,CN(t,e),Ip(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ml(Error(J(423)),e),e=y1(t,e,r,n,i);break e}else if(r!==i){i=ml(Error(J(424)),e),e=y1(t,e,r,n,i);break e}else for(qn=To(e.stateNode.containerInfo.firstChild),Gn=e,nt=!0,Ir=null,n=IN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hl(),r===i){e=ji(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return kN(e),t===null&&cw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ow(r,i)?s=null:o!==null&&ow(r,o)&&(e.flags|=32),nM(t,e),Sn(t,e,s,n),e.child;case 6:return t===null&&cw(e),null;case 13:return iM(t,e,n);case 4:return Ex(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dl(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),p1(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(Ap,r._currentValue),r._currentValue=s,o!==null)if(Nr(o.value,s)){if(o.children===i.children&&!Nn.current){e=ji(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),fw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qa(e,n),i=pr(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),m1(t,e,r,i,n);case 15:return eM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),Xd(t,e),e.tag=1,Mn(r)?(t=!0,Sp(e)):t=!1,Qa(e,n),QN(e,r,i),dw(e,r,i,n),gw(null,e,r,!0,t,n);case 19:return oM(t,e,n);case 22:return tM(t,e,n)}throw Error(J(156,e.tag))};function bM(t,e){return Gj(t,e)}function rz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new rz(t,e,n,r)}function Vx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iz(t){if(typeof t=="function")return Vx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ix)return 11;if(t===ox)return 14}return 2}function Oo(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pa:return Is(n.children,i,o,e);case rx:s=8,i|=8;break;case $0:return t=ur(12,n,e,i|2),t.elementType=$0,t.lanes=o,t;case L0:return t=ur(13,n,e,i),t.elementType=L0,t.lanes=o,t;case V0:return t=ur(19,n,e,i),t.elementType=V0,t.lanes=o,t;case kj:return Eg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oj:s=10;break e;case Cj:s=9;break e;case ix:s=11;break e;case ox:s=14;break e;case ro:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ur(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Is(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function Eg(t,e,n,r){return t=ur(22,t,r,e),t.elementType=kj,t.lanes=n,t.stateNode={isHidden:!1},t}function Rv(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function jv(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dv(0),this.expirationTimes=dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fx(t,e,n,r,i,o,s,a,l){return t=new oz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ur(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sx(o),t}function sz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xM(t){if(!t)return Do;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Mn(n))return xN(t,n,e)}return e}function SM(t,e,n,r,i,o,s,a,l){return t=Fx(n,r,!0,t,i,o,s,a,l),t.context=xM(null),n=t.current,r=Pn(),i=Io(n),o=xi(r,i),o.callback=e??null,Ao(n,o,i),t.current.lanes=i,uh(t,i,r),Dn(t,r),t}function Tg(t,e,n,r){var i=e.current,o=Pn(),s=Io(i);return n=xM(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ao(i,e,s),t!==null&&(jr(t,i,s,o),Kd(t,i,s)),s}function Dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bx(t,e){P1(t,e),(t=t.alternate)&&P1(t,e)}function az(){return null}var EM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ux(t){this._internalRoot=t}Ag.prototype.render=Ux.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Tg(t,e,null,null)};Ag.prototype.unmount=Ux.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){Tg(null,t,null,null)}),e[ki]=null}};function Ag(t){this._internalRoot=t}Ag.prototype.unstable_scheduleHydration=function(t){if(t){var e=tN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<so.length&&e!==0&&e<so[n].priority;n++);so.splice(n,0,t),n===0&&rN(t)}};function zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I1(){}function lz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Dp(s);o.call(u)}}var s=SM(e,r,t,0,null,!1,!1,"",I1);return t._reactRootContainer=s,t[ki]=s.current,ef(t.nodeType===8?t.parentNode:t),Bs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dp(l);a.call(u)}}var l=Fx(t,0,!1,null,null,!1,!1,"",I1);return t._reactRootContainer=l,t[ki]=l.current,ef(t.nodeType===8?t.parentNode:t),Bs(function(){Tg(e,l,n,r)}),l}function Ig(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dp(s);a.call(l)}}Tg(e,s,t,i)}else s=lz(n,e,t,i,r);return Dp(s)}Zj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uc(e.pendingLanes);n!==0&&(lx(e,n|1),Dn(e,St()),!(ke&6)&&(gl=St()+500,Ko()))}break;case 13:Bs(function(){var r=Ri(t,1);if(r!==null){var i=Pn();jr(r,t,1,i)}}),Bx(t,1)}};ux=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=Pn();jr(e,t,134217728,n)}Bx(t,134217728)}};eN=function(t){if(t.tag===13){var e=Io(t),n=Ri(t,e);if(n!==null){var r=Pn();jr(n,t,e,r)}Bx(t,e)}};tN=function(){return $e};nN=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};X0=function(t,e,n){switch(e){case"input":if(U0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vg(r);if(!i)throw Error(J(90));jj(r),U0(r,i)}}}break;case"textarea":Mj(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};Uj=Dx;zj=Bs;var uz={usingClientEntryPoint:!1,Events:[fh,ka,vg,Fj,Bj,Dx]},Gu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cz={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kj(t),t===null?null:t.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance||az,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{pg=gd.inject(cz),Hr=gd}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uz;Jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zx(e))throw Error(J(200));return sz(t,e,null,n)};Jn.createRoot=function(t,e){if(!zx(t))throw Error(J(299));var n=!1,r="",i=EM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fx(t,1,!1,null,null,n,!1,r,i),t[ki]=e.current,ef(t.nodeType===8?t.parentNode:t),new Ux(e)};Jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Kj(e),t=t===null?null:t.stateNode,t};Jn.flushSync=function(t){return Bs(t)};Jn.hydrate=function(t,e,n){if(!Pg(e))throw Error(J(200));return Ig(null,t,e,!0,n)};Jn.hydrateRoot=function(t,e,n){if(!zx(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=EM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=SM(e,null,t,1,n??null,i,!1,o,s),t[ki]=e.current,ef(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ag(e)};Jn.render=function(t,e,n){if(!Pg(e))throw Error(J(200));return Ig(null,t,e,!1,n)};Jn.unmountComponentAtNode=function(t){if(!Pg(t))throw Error(J(40));return t._reactRootContainer?(Bs(function(){Ig(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};Jn.unstable_batchedUpdates=Dx;Jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Ig(t,e,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function TM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TM)}catch(t){console.error(t)}}TM(),Tj.exports=Jn;var fz=Tj.exports,O1=fz;M0.createRoot=O1.createRoot,M0.hydrateRoot=O1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}var go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(go||(go={}));const C1="popstate";function hz(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Iw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$p(i)}return pz(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dz(){return Math.random().toString(36).substr(2,8)}function k1(t,e){return{usr:t.state,key:t.key,idx:e}}function Iw(t,e,n,r){return n===void 0&&(n=null),cf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?iu(e):e,{state:n,key:e&&e.key||r||dz()})}function $p(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=go.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(cf({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=go.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:a,location:w.location,delta:y})}function d(v,y){a=go.Push;let _=Iw(w.location,v,y);u=c()+1;let b=k1(_,u),A=w.createHref(_);try{s.pushState(b,"",A)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(A)}o&&l&&l({action:a,location:w.location,delta:1})}function p(v,y){a=go.Replace;let _=Iw(w.location,v,y);u=c();let b=k1(_,u),A=w.createHref(_);s.replaceState(b,"",A),o&&l&&l({action:a,location:w.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:$p(v);return _=_.replace(/ $/,"%20"),Tt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let w={get action(){return a},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(C1,f),l=v,()=>{i.removeEventListener(C1,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(v){return s.go(v)}};return w}var R1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R1||(R1={}));function mz(t,e,n){return n===void 0&&(n="/"),gz(t,e,n)}function gz(t,e,n,r){let i=typeof e=="string"?iu(e):e,o=Hx(i.pathname||"/",n);if(o==null)return null;let s=AM(t);yz(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Oz(o);a=Az(s[l],u)}return a}function AM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Co([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Ez(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of PM(o.path))i(o,s,l)}),e}function PM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=PM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vz=/^:[\w-]+$/,wz=3,_z=2,bz=1,xz=10,Sz=-2,j1=t=>t==="*";function Ez(t,e){let n=t.split("/"),r=n.length;return n.some(j1)&&(r+=Sz),e&&(r+=_z),n.filter(i=>!j1(i)).reduce((i,o)=>i+(vz.test(o)?wz:o===""?bz:xz),r)}function Tz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Az(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=Pz({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Co([o,f.pathname]),pathnameBase:Nz(Co([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Co([o,f.pathnameBase]))}return s}function Pz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Iz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let w=a[f]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[f];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Iz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Oz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kz=t=>Cz.test(t);function Rz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?iu(t):t,o;if(n)if(kz(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Wx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=N1(n.substring(1),"/"):o=N1(n,e)}else o=e;return{pathname:o,search:Mz(r),hash:Dz(i)}}function N1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kx(t,e){let n=jz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=iu(t):(i=cf({},t),Tt(!i.pathname||!i.pathname.includes("?"),Nv("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Nv("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Nv("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=Rz(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Co=t=>t.join("/").replace(/\/\/+/g,"/"),Nz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $z(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IM=["post","put","patch","delete"];new Set(IM);const Lz=["get",...IM];new Set(Lz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}const Gx=N.createContext(null),Vz=N.createContext(null),qo=N.createContext(null),Og=N.createContext(null),zi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),OM=N.createContext(null);function Fz(t,e){let{relative:n}=e===void 0?{}:e;ou()||Tt(!1);let{basename:r,navigator:i}=N.useContext(qo),{hash:o,pathname:s,search:a}=kM(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Co([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ou(){return N.useContext(Og)!=null}function ta(){return ou()||Tt(!1),N.useContext(Og).location}function CM(t){N.useContext(qo).static||N.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=N.useContext(zi);return t?Zz():Bz()}function Bz(){ou()||Tt(!1);let t=N.useContext(Gx),{basename:e,future:n,navigator:r}=N.useContext(qo),{matches:i}=N.useContext(zi),{pathname:o}=ta(),s=JSON.stringify(Kx(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return CM(()=>{a.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=qx(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Co([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function Cg(){let{matches:t}=N.useContext(zi),e=t[t.length-1];return e?e.params:{}}function kM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(qo),{matches:i}=N.useContext(zi),{pathname:o}=ta(),s=JSON.stringify(Kx(i,r.v7_relativeSplatPath));return N.useMemo(()=>qx(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Uz(t,e){return zz(t,e)}function zz(t,e,n,r){ou()||Tt(!1);let{navigator:i}=N.useContext(qo),{matches:o}=N.useContext(zi),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ta(),c;if(e){var f;let v=typeof e=="string"?iu(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Tt(!1),c=v}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=mz(t,{pathname:p}),w=Gz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Co([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Co([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&w?N.createElement(Og.Provider,{value:{location:ff({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:go.Pop}},w):w}function Wz(){let t=Jz(),e=$z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const Hz=N.createElement(Wz,null);class Kz extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(zi.Provider,{value:this.props.routeContext},N.createElement(OM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qz(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Gx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(zi.Provider,{value:e},r)}function Gz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Tt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let p,g=!1,w=null,v=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||Hz,l&&(u<0&&d===0?(e5("route-fallback"),g=!0,v=null):u===d&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,d+1)),_=()=>{let b;return p?b=w:g?b=v:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,N.createElement(qz,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?N.createElement(Kz,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var RM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RM||{}),jM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jM||{});function Xz(t){let e=N.useContext(Gx);return e||Tt(!1),e}function Yz(t){let e=N.useContext(Vz);return e||Tt(!1),e}function Qz(t){let e=N.useContext(zi);return e||Tt(!1),e}function NM(t){let e=Qz(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function Jz(){var t;let e=N.useContext(OM),n=Yz(),r=NM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Zz(){let{router:t}=Xz(RM.UseNavigateStable),e=NM(jM.UseNavigateStable),n=N.useRef(!1);return CM(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ff({fromRouteId:e},o)))},[t,e])}const M1={};function e5(t,e,n){M1[t]||(M1[t]=!0)}function t5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zd(t){let{to:e,replace:n,state:r,relative:i}=t;ou()||Tt(!1);let{future:o,static:s}=N.useContext(qo),{matches:a}=N.useContext(zi),{pathname:l}=ta(),u=Wi(),c=qx(e,Kx(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ir(t){Tt(!1)}function n5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=go.Pop,navigator:o,static:s=!1,future:a}=t;ou()&&Tt(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:o,static:s,future:ff({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=iu(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:g="default"}=r,w=N.useMemo(()=>{let v=Hx(c,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:p,key:g},navigationType:i}},[l,c,f,d,p,g,i]);return w==null?null:N.createElement(qo.Provider,{value:u},N.createElement(Og.Provider,{children:n,value:w}))}function r5(t){let{children:e,location:n}=t;return Uz(Ow(e),n)}new Promise(()=>{});function Ow(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Ow(r.props.children,o));return}r.type!==ir&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ow(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function i5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function o5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s5(t,e){return t.button===0&&(!e||e==="_self")&&!o5(t)}const a5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l5="6";try{window.__reactRouterVersion=l5}catch{}const u5="startTransition",D1=e4[u5];function c5(t){let{basename:e,children:n,future:r,window:i}=t,o=N.useRef();o.current==null&&(o.current=hz({window:i,v5Compat:!0}));let s=o.current,[a,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=N.useCallback(f=>{u&&D1?D1(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.useEffect(()=>t5(r),[r]),N.createElement(n5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const f5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=i5(e,a5),{basename:p}=N.useContext(qo),g,w=!1;if(typeof u=="string"&&h5.test(u)&&(g=u,f5))try{let b=new URL(window.location.href),A=u.startsWith("//")?new URL(b.protocol+u):new URL(u),x=Hx(A.pathname,p);A.origin===b.origin&&x!=null?u=x+A.search+A.hash:w=!0}catch{}let v=Fz(u,{relative:i}),y=d5(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(b){r&&r(b),b.defaultPrevented||y(b)}return N.createElement("a",Cw({},d,{href:g||v,onClick:w||o?r:_,ref:n,target:l}))});var $1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($1||($1={}));var L1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L1||(L1={}));function d5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Wi(),u=ta(),c=kM(t,{relative:s});return N.useCallback(f=>{if(s5(f,n)){f.preventDefault();let d=r!==void 0?r:$p(u)===$p(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function p5({size:t=42}){return m.jsxs("svg",{width:t,height:t,viewBox:"0 0 128 128",fill:"none","aria-label":"croissant",children:[m.jsx("path",{d:"M24 72c0-20 18-36 40-36s40 16 40 36-18 30-40 30S24 92 24 72Z",fill:"#E6B566"}),m.jsx("path",{d:"M34 72c0-14 14-26 30-26s30 12 30 26-14 22-30 22S34 86 34 72Z",fill:"#F2CC85"}),m.jsx("path",{d:"M46 58c8 6 28 6 36 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"}),m.jsx("path",{d:"M44 74c10 7 30 7 40 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"}),m.jsx("path",{d:"M50 90c8 5 20 5 28 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"})]})}var V1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},DM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new g5;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y5=function(t){const e=MM(t);return DM.encodeByteArray(e,!0)},Lp=function(t){return y5(t).replace(/\./g,"")},$M=function(t){try{return DM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=()=>v5().__FIREBASE_DEFAULTS__,_5=()=>{if(typeof process>"u"||typeof V1>"u")return;const t=V1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$M(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return w5()||_5()||b5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LM=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VM=t=>{const e=LM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FM=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},BM=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lp(JSON.stringify(n)),Lp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function T5(){var t;const e=(t=kg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O5(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C5(){return!T5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k5(){try{return typeof indexedDB=="object"}catch{return!1}}function R5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j5,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?N5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ai(i,a,r)}}function N5(t,e){return t.replace(M5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M5=/\{\$([^}]+)}/g;function D5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(F1(o)&&F1(s)){if(!Vp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $5(t,e){const n=new L5(t,e);return n.subscribe.bind(n)}class L5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mv),i.error===void 0&&(i.error=Mv),i.complete===void 0&&(i.complete=Mv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U5(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B5(t){return t===fs?void 0:t}function U5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const W5={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},H5=Oe.INFO,K5={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},q5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=K5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xx{constructor(e){this.name=e,this._logLevel=H5,this._logHandler=q5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const G5=(t,e)=>e.some(n=>t instanceof n);let B1,U1;function X5(){return B1||(B1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y5(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UM=new WeakMap,kw=new WeakMap,zM=new WeakMap,Dv=new WeakMap,Yx=new WeakMap;function Q5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ko(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UM.set(n,t)}).catch(()=>{}),Yx.set(e,t),e}function J5(t){if(kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kw.set(t,e)}let Rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z5(t){Rw=t(Rw)}function e6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($v(this),e,...n);return zM.set(r,e.sort?e.sort():[e]),ko(r)}:Y5().includes(t)?function(...e){return t.apply($v(this),e),ko(UM.get(this))}:function(...e){return ko(t.apply($v(this),e))}}function t6(t){return typeof t=="function"?e6(t):(t instanceof IDBTransaction&&J5(t),G5(t,X5())?new Proxy(t,Rw):t)}function ko(t){if(t instanceof IDBRequest)return Q5(t);if(Dv.has(t))return Dv.get(t);const e=t6(t);return e!==t&&(Dv.set(t,e),Yx.set(e,t)),e}const $v=t=>Yx.get(t);function n6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ko(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ko(s.result),l.oldVersion,l.newVersion,ko(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const r6=["get","getKey","getAll","getAllKeys","count"],i6=["put","add","delete","clear"],Lv=new Map;function z1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=i6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||r6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Lv.set(e,o),o}Z5(t=>({...t,get:(e,n,r)=>z1(e,n)||t.get(e,n,r),has:(e,n)=>!!z1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jw="@firebase/app",W1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Xx("@firebase/app"),a6="@firebase/app-compat",l6="@firebase/analytics-compat",u6="@firebase/analytics",c6="@firebase/app-check-compat",f6="@firebase/app-check",h6="@firebase/auth",d6="@firebase/auth-compat",p6="@firebase/database",m6="@firebase/data-connect",g6="@firebase/database-compat",y6="@firebase/functions",v6="@firebase/functions-compat",w6="@firebase/installations",_6="@firebase/installations-compat",b6="@firebase/messaging",x6="@firebase/messaging-compat",S6="@firebase/performance",E6="@firebase/performance-compat",T6="@firebase/remote-config",A6="@firebase/remote-config-compat",P6="@firebase/storage",I6="@firebase/storage-compat",O6="@firebase/firestore",C6="@firebase/vertexai-preview",k6="@firebase/firestore-compat",R6="firebase",j6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="[DEFAULT]",N6={[jw]:"fire-core",[a6]:"fire-core-compat",[u6]:"fire-analytics",[l6]:"fire-analytics-compat",[f6]:"fire-app-check",[c6]:"fire-app-check-compat",[h6]:"fire-auth",[d6]:"fire-auth-compat",[p6]:"fire-rtdb",[m6]:"fire-data-connect",[g6]:"fire-rtdb-compat",[y6]:"fire-fn",[v6]:"fire-fn-compat",[w6]:"fire-iid",[_6]:"fire-iid-compat",[b6]:"fire-fcm",[x6]:"fire-fcm-compat",[S6]:"fire-perf",[E6]:"fire-perf-compat",[T6]:"fire-rc",[A6]:"fire-rc-compat",[P6]:"fire-gcs",[I6]:"fire-gcs-compat",[O6]:"fire-fst",[k6]:"fire-fst-compat",[C6]:"fire-vertex","fire-js":"fire-js",[R6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new Map,M6=new Map,Mw=new Map;function H1(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(Mw.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Mw.set(e,t);for(const n of Fp.values())H1(n,t);for(const n of M6.values())H1(n,t);return!0}function Rg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new dh("app","Firebase",D6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=j6;function WM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ro.create("bad-app-name",{appName:String(i)});if(n||(n=FM()),!n)throw Ro.create("no-options");const o=Fp.get(i);if(o){if(Vp(n,o.options)&&Vp(r,o.config))return o;throw Ro.create("duplicate-app",{appName:i})}const s=new z5(i);for(const l of Mw.values())s.addComponent(l);const a=new $6(n,r,s);return Fp.set(i,a),a}function Qx(t=Nw){const e=Fp.get(t);if(!e&&t===Nw&&FM())return WM();if(!e)throw Ro.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=N6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}Us(new $o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebase-heartbeat-database",V6=1,hf="firebase-heartbeat-store";let Vv=null;function HM(){return Vv||(Vv=n6(L6,V6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function F6(t){try{const n=(await HM()).transaction(hf),r=await n.objectStore(hf).get(KM(t));return await n.done,r}catch(e){if(e instanceof ai)Ni.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function K1(t,e){try{const r=(await HM()).transaction(hf,"readwrite");await r.objectStore(hf).put(e,KM(t)),await r.done}catch(n){if(n instanceof ai)Ni.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function KM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=1024,U6=30*24*60*60*1e3;class z6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=q1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=U6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q1(),{heartbeatsToSend:r,unsentEntries:i}=W6(this._heartbeatsCache.heartbeats),o=Lp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ni.warn(n),""}}}function q1(){return new Date().toISOString().substring(0,10)}function W6(t,e=B6){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),G1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k5()?R5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return K1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return K1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function G1(t){return Lp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){Us(new $o("platform-logger",e=>new o6(e),"PRIVATE")),Us(new $o("heartbeat",e=>new z6(e),"PRIVATE")),qr(jw,W1,t),qr(jw,W1,"esm2017"),qr("fire-js","")}K6("");var q6="firebase",G6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(q6,G6,"app");function Jx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X6=qM,GM=new dh("auth","Firebase",qM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Xx("@firebase/auth");function Y6(t,...e){Bp.logLevel<=Oe.WARN&&Bp.warn(`Auth (${su}): ${t}`,...e)}function ep(t,...e){Bp.logLevel<=Oe.ERROR&&Bp.error(`Auth (${su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Zx(t,...e)}function Gr(t,...e){return Zx(t,...e)}function XM(t,e,n){const r=Object.assign(Object.assign({},X6()),{[e]:n});return new dh("auth","Firebase",r).create(e,{appName:t.name})}function Si(t){return XM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GM.create(t,...e)}function me(t,e,...n){if(!t)throw Zx(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ep(e),new Error(e)}function Mi(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Q6(){return X1()==="http:"||X1()==="https:"}function X1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q6()||P5()||"connection"in navigator)?navigator.onLine:!0}function Z6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=E5()||I5()}get(){return J6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new mh(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ki(t,e,n,r,i={}){return QM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ph(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return A5()||(u.referrerPolicy="no-referrer"),YM.fetch()(JM(t,t.config.apiHost,n,a),u)})}async function QM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},e9),e);try{const i=new r9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw yd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw yd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XM(t,c,u);Mr(t,c)}}catch(i){if(i instanceof ai)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function gh(t,e,n,r,i={}){const o=await Ki(t,e,n,r,i);return"mfaPendingCredential"in o&&Mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function JM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?eS(t.config,i):`${t.config.apiScheme}://${i}`}function n9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),t9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}function Y1(t){return t!==void 0&&t.enterprise!==void 0}class i9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function o9(t,e){return Ki(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function ZM(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=tS(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Cc(Fv(i.auth_time)),issuedAtTime:Cc(Fv(i.iat)),expirationTime:Cc(Fv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fv(t){return Number(t)*1e3}function tS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=$M(n);return i?JSON.parse(i):(ep("Failed to decode base64 JWT payload"),null)}catch(i){return ep("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q1(t){const e=tS(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&a9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await df(t,ZM(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tD(o.providerUserInfo):[],a=c9(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $w(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function u9(t){const e=ft(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tD(t){return t.map(e=>{var{providerId:n}=e,r=Jx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){const n=await QM(t,{},async()=>{const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JM(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YM.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h9(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=Q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await f9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Za;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $w(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await df(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eD(this,e)}reload(){return u9(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await df(this,s9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:A,isAnonymous:x,providerData:I,stsTokenManager:E}=n;me(b&&E,e,"internal-error");const T=Za.fromJSON(this.name,E);me(typeof b=="string",e,"internal-error"),eo(f,e.name),eo(d,e.name),me(typeof A=="boolean",e,"internal-error"),me(typeof x=="boolean",e,"internal-error"),eo(p,e.name),eo(g,e.name),eo(w,e.name),eo(v,e.name),eo(y,e.name),eo(_,e.name);const P=new yi({uid:b,auth:e,email:d,emailVerified:A,displayName:f,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:T,createdAt:y,lastLoginAt:_});return I&&Array.isArray(I)&&(P.providerData=I.map(C=>Object.assign({},C))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Za;i.updateFromServerResponse(n);const o=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?tD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Za;a.updateFromIdToken(r);const l=new yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $w(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;function vi(t){Mi(t instanceof Function,"Expected a class definition");let e=J1.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nD.type="NONE";const Z1=nD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=tp(this.userKey,i.apiKey,o),this.fullPersistenceKey=tp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(vi(Z1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||vi(Z1);const s=tp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=yi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new el(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new el(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lD(e))return"Blackberry";if(uD(e))return"Webos";if(iD(e))return"Safari";if((e.includes("chrome/")||oD(e))&&!e.includes("edge/"))return"Chrome";if(aD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rD(t=_n()){return/firefox\//i.test(t)}function iD(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oD(t=_n()){return/crios\//i.test(t)}function sD(t=_n()){return/iemobile/i.test(t)}function aD(t=_n()){return/android/i.test(t)}function lD(t=_n()){return/blackberry/i.test(t)}function uD(t=_n()){return/webos/i.test(t)}function nS(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d9(t=_n()){var e;return nS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p9(){return O5()&&document.documentMode===10}function cD(t=_n()){return nS(t)||aD(t)||uD(t)||lD(t)||/windows phone/i.test(t)||sD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e=[]){let n;switch(t){case"Browser":n=eP(_n());break;case"Worker":n=`${eP(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=6;class v9{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:y9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tP(this),this.idTokenSubscription=new tP(this),this.beforeStateQueue=new m9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZM(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Si(this));const n=e?ft(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g9(this),n=new v9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Y6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return ft(t)}class tP{constructor(e){this.auth=e,this.observer=null,this.addObserver=$5(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _9(t){jg=t}function hD(t){return jg.loadJS(t)}function b9(){return jg.recaptchaEnterpriseScript}function x9(){return jg.gapiScript}function S9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const E9="recaptcha-enterprise",T9="NO_RECAPTCHA";class A9{constructor(e){this.type=E9,this.auth=Go(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{o9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new i9(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Y1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(T9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Y1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=b9();l.length!==0&&(l+=a),hD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function nP(t,e,n,r=!1){const i=new A9(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Lw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await nP(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e){const n=Rg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Vp(o,e??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:e})}function I9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O9(t,e,n){const r=Go(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dD(e),{host:s,port:a}=C9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),k9()}function dD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C9(t){const e=dD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:rP(s)}}}function rP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function R9(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e){return gh(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}async function N9(t,e){return Ki(t,"POST","/v1/accounts:sendOobCode",Hi(t,e))}async function M9(t,e){return N9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return gh(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function $9(t,e){return gh(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends rS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lw(e,n,"signInWithPassword",j9);case"emailLink":return D9(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lw(e,r,"signUpPassword",R9);case"emailLink":return $9(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return gh(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="http://localhost";class zs extends rS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Jx(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new zs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:L9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F9(t){const e=fc(hc(t)).link,n=e?fc(hc(e)).deep_link_id:null,r=fc(hc(t)).deep_link_id;return(r?fc(hc(r)).link:null)||r||n||e||t}class iS{constructor(e){var n,r,i,o,s,a;const l=fc(hc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=V9((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=F9(e);try{return new iS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return pf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iS.parseLink(n);return me(r,"argument-error"),pf._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends pD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends yh{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends yh{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends yh{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){return gh(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yi._fromIdTokenResponse(e,r,i),s=iP(r);return new Lo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iP(r);return new Lo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t){var e;if(Ur(t.app))return Promise.reject(Si(t));const n=Go(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Lo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await B9(n,{returnSecureToken:!0}),i=await Lo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zp(e,n,r,i)}}function mD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(t,o,e,r):o})}async function z9(t,e,n=!1){const r=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Si(r));const i="reauthenticate";try{const o=await df(t,mD(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=tS(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),Lo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e,n=!1){if(Ur(t.app))return Promise.reject(Si(t));const r="signIn",i=await mD(t,r,e),o=await Lo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function H9(t,e){return gD(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q9(t,e,n){const r=Go(t);await Lw(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",M9)}function yD(t,e,n){return Ur(t.app)?Promise.reject(Si(t)):H9(ft(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K9(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){return ft(t).setPersistence(e)}function vD(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function X9(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function Y9(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function Q9(t){return ft(t).signOut()}const Wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wp,"1"),this.storage.removeItem(Wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e3,Z9=10;class _D extends wD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);p9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_D.type="LOCAL";const eW=_D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends wD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bD.type="SESSION";const oS=bD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ng(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await tW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=sS("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function rW(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function iW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sW(){return xD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebaseLocalStorageDb",aW=1,Hp="firebaseLocalStorage",ED="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mg(t,e){return t.transaction([Hp],e?"readwrite":"readonly").objectStore(Hp)}function lW(){const t=indexedDB.deleteDatabase(SD);return new vh(t).toPromise()}function Vw(){const t=indexedDB.open(SD,aW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hp,{keyPath:ED})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hp)?e(r):(r.close(),await lW(),e(await Vw()))})})}async function oP(t,e,n){const r=Mg(t,!0).put({[ED]:e,value:n});return new vh(r).toPromise()}async function uW(t,e){const n=Mg(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function sP(t,e){const n=Mg(t,!0).delete(e);return new vh(n).toPromise()}const cW=800,fW=3;class TD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ng._getInstance(sW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iW(),!this.activeServiceWorker)return;this.sender=new nW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vw();return await oP(e,Wp,"1"),await sP(e,Wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Mg(i,!1).getAll();return new vh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TD.type="LOCAL";const hW=TD;new mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t,e){return e?vi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends rS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pW(t){return gD(t.auth,new aS(t),t.bypassAuthState)}function mW(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),W9(n,new aS(t),t.bypassAuthState)}async function gW(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),z9(n,new aS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pW;case"linkViaPopup":case"linkViaRedirect":return gW;case"reauthViaPopup":case"reauthViaRedirect":return mW;default:Mr(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new mh(2e3,1e4);class La extends AD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=sS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yW.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="pendingRedirect",np=new Map;class wW extends AD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=np.get(this.auth._key());if(!e){try{const r=await _W(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}np.set(this.auth._key(),e)}return this.bypassAuthState||np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _W(t,e){const n=SW(e),r=xW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bW(t,e){np.set(t._key(),e)}function xW(t){return vi(t._redirectPersistence)}function SW(t){return tp(vW,t.config.apiKey,t.name)}async function EW(t,e,n=!1){if(Ur(t.app))return Promise.reject(Si(t));const r=Go(t),i=dW(r,e),s=await new wW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=10*60*1e3;class AW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TW&&this.cachedEventUids.clear(),this.cachedEventUids.has(aP(e))}saveEventToCache(e){this.cachedEventUids.add(aP(e)),this.lastProcessedEventTime=Date.now()}}function aP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CW=/^https?/;async function kW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IW(t);for(const n of e)try{if(RW(n))return}catch{}Mr(t,"unauthorized-domain")}function RW(t){const e=Dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!CW.test(n))return!1;if(OW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=new mh(3e4,6e4);function lP(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NW(t){return new Promise((e,n)=>{var r,i,o;function s(){lP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lP(),n(Gr(t,"network-request-failed"))},timeout:jW.get()})}if(!((i=(r=Xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xr().gapi)===null||o===void 0)&&o.load)s();else{const a=S9("iframefcb");return Xr()[a]=()=>{gapi.load?s():n(Gr(t,"network-request-failed"))},hD(`${x9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rp=null,e})}let rp=null;function MW(t){return rp=rp||NW(t),rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=new mh(5e3,15e3),$W="__/auth/iframe",LW="emulator/auth/iframe",VW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BW(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eS(e,LW):`https://${t.config.authDomain}/${$W}`,r={apiKey:e.apiKey,appName:t.name,v:su},i=FW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ph(r).slice(1)}`}async function UW(t){const e=await MW(t),n=Xr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:BW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Gr(t,"network-request-failed"),a=Xr().setTimeout(()=>{o(s)},DW.get());function l(){Xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WW=500,HW=600,KW="_blank",qW="http://localhost";class uP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GW(t,e,n,r=WW,i=HW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=_n().toLowerCase();n&&(a=oD(u)?KW:n),rD(u)&&(e=e||qW,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(d9(u)&&a!=="_self")return XW(e||"",a),new uP(null);const f=window.open(e||"",a,c);me(f,t,"popup-blocked");try{f.focus()}catch{}return new uP(f)}function XW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="__/auth/handler",QW="emulator/auth/handler",JW=encodeURIComponent("fac");async function cP(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:su,eventId:i};if(e instanceof pD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",D5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof yh){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${JW}=${encodeURIComponent(l)}`:"";return`${ZW(t)}?${ph(a).slice(1)}${u}`}function ZW({config:t}){return t.emulator?eS(t,QW):`https://${t.authDomain}/${YW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class e8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=EW,this._overrideRedirectResult=bW}async _openPopup(e,n,r,i){var o;Mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await cP(e,n,r,Dw(),i);return GW(e,s,sS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await cP(e,n,r,Dw(),i);return rW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UW(e),r=new AW(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Bv];s!==void 0&&n(!!s),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cD()||iD()||nS()}}const t8=e8;var fP="@firebase/auth",hP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i8(t){Us(new $o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fD(t)},u=new w9(r,i,o,l);return I9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new $o("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(r=>new n8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(fP,hP,r8(t)),qr(fP,hP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=5*60,s8=BM("authIdTokenMaxAge")||o8;let dP=null;const a8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s8)return;const i=n==null?void 0:n.token;dP!==i&&(dP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l8(t=Qx()){const e=Rg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P9(t,{popupRedirectResolver:t8,persistence:[hW,eW,oS]}),r=BM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=a8(o.toString());X9(n,s,()=>s(n.currentUser)),vD(n,a=>s(a))}}const i=LM("auth");return i&&O9(n,`http://${i}`),n}function u8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",u8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i8("Browser");var pP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,ID;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function P(){}P.prototype=T.prototype,E.D=T.prototype,E.prototype=new P,E.prototype.constructor=E,E.C=function(C,k,j){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return T.prototype[k].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,P){P||(P=0);var C=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)C[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)C[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=E.g[0],P=E.g[1],k=E.g[2];var j=E.g[3],R=T+(j^P&(k^j))+C[0]+3614090360&4294967295;T=P+(R<<7&4294967295|R>>>25),R=j+(k^T&(P^k))+C[1]+3905402710&4294967295,j=T+(R<<12&4294967295|R>>>20),R=k+(P^j&(T^P))+C[2]+606105819&4294967295,k=j+(R<<17&4294967295|R>>>15),R=P+(T^k&(j^T))+C[3]+3250441966&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(j^P&(k^j))+C[4]+4118548399&4294967295,T=P+(R<<7&4294967295|R>>>25),R=j+(k^T&(P^k))+C[5]+1200080426&4294967295,j=T+(R<<12&4294967295|R>>>20),R=k+(P^j&(T^P))+C[6]+2821735955&4294967295,k=j+(R<<17&4294967295|R>>>15),R=P+(T^k&(j^T))+C[7]+4249261313&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(j^P&(k^j))+C[8]+1770035416&4294967295,T=P+(R<<7&4294967295|R>>>25),R=j+(k^T&(P^k))+C[9]+2336552879&4294967295,j=T+(R<<12&4294967295|R>>>20),R=k+(P^j&(T^P))+C[10]+4294925233&4294967295,k=j+(R<<17&4294967295|R>>>15),R=P+(T^k&(j^T))+C[11]+2304563134&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(j^P&(k^j))+C[12]+1804603682&4294967295,T=P+(R<<7&4294967295|R>>>25),R=j+(k^T&(P^k))+C[13]+4254626195&4294967295,j=T+(R<<12&4294967295|R>>>20),R=k+(P^j&(T^P))+C[14]+2792965006&4294967295,k=j+(R<<17&4294967295|R>>>15),R=P+(T^k&(j^T))+C[15]+1236535329&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(k^j&(P^k))+C[1]+4129170786&4294967295,T=P+(R<<5&4294967295|R>>>27),R=j+(P^k&(T^P))+C[6]+3225465664&4294967295,j=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(j^T))+C[11]+643717713&4294967295,k=j+(R<<14&4294967295|R>>>18),R=P+(j^T&(k^j))+C[0]+3921069994&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^j&(P^k))+C[5]+3593408605&4294967295,T=P+(R<<5&4294967295|R>>>27),R=j+(P^k&(T^P))+C[10]+38016083&4294967295,j=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(j^T))+C[15]+3634488961&4294967295,k=j+(R<<14&4294967295|R>>>18),R=P+(j^T&(k^j))+C[4]+3889429448&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^j&(P^k))+C[9]+568446438&4294967295,T=P+(R<<5&4294967295|R>>>27),R=j+(P^k&(T^P))+C[14]+3275163606&4294967295,j=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(j^T))+C[3]+4107603335&4294967295,k=j+(R<<14&4294967295|R>>>18),R=P+(j^T&(k^j))+C[8]+1163531501&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^j&(P^k))+C[13]+2850285829&4294967295,T=P+(R<<5&4294967295|R>>>27),R=j+(P^k&(T^P))+C[2]+4243563512&4294967295,j=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(j^T))+C[7]+1735328473&4294967295,k=j+(R<<14&4294967295|R>>>18),R=P+(j^T&(k^j))+C[12]+2368359562&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(P^k^j)+C[5]+4294588738&4294967295,T=P+(R<<4&4294967295|R>>>28),R=j+(T^P^k)+C[8]+2272392833&4294967295,j=T+(R<<11&4294967295|R>>>21),R=k+(j^T^P)+C[11]+1839030562&4294967295,k=j+(R<<16&4294967295|R>>>16),R=P+(k^j^T)+C[14]+4259657740&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^j)+C[1]+2763975236&4294967295,T=P+(R<<4&4294967295|R>>>28),R=j+(T^P^k)+C[4]+1272893353&4294967295,j=T+(R<<11&4294967295|R>>>21),R=k+(j^T^P)+C[7]+4139469664&4294967295,k=j+(R<<16&4294967295|R>>>16),R=P+(k^j^T)+C[10]+3200236656&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^j)+C[13]+681279174&4294967295,T=P+(R<<4&4294967295|R>>>28),R=j+(T^P^k)+C[0]+3936430074&4294967295,j=T+(R<<11&4294967295|R>>>21),R=k+(j^T^P)+C[3]+3572445317&4294967295,k=j+(R<<16&4294967295|R>>>16),R=P+(k^j^T)+C[6]+76029189&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^j)+C[9]+3654602809&4294967295,T=P+(R<<4&4294967295|R>>>28),R=j+(T^P^k)+C[12]+3873151461&4294967295,j=T+(R<<11&4294967295|R>>>21),R=k+(j^T^P)+C[15]+530742520&4294967295,k=j+(R<<16&4294967295|R>>>16),R=P+(k^j^T)+C[2]+3299628645&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(k^(P|~j))+C[0]+4096336452&4294967295,T=P+(R<<6&4294967295|R>>>26),R=j+(P^(T|~k))+C[7]+1126891415&4294967295,j=T+(R<<10&4294967295|R>>>22),R=k+(T^(j|~P))+C[14]+2878612391&4294967295,k=j+(R<<15&4294967295|R>>>17),R=P+(j^(k|~T))+C[5]+4237533241&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~j))+C[12]+1700485571&4294967295,T=P+(R<<6&4294967295|R>>>26),R=j+(P^(T|~k))+C[3]+2399980690&4294967295,j=T+(R<<10&4294967295|R>>>22),R=k+(T^(j|~P))+C[10]+4293915773&4294967295,k=j+(R<<15&4294967295|R>>>17),R=P+(j^(k|~T))+C[1]+2240044497&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~j))+C[8]+1873313359&4294967295,T=P+(R<<6&4294967295|R>>>26),R=j+(P^(T|~k))+C[15]+4264355552&4294967295,j=T+(R<<10&4294967295|R>>>22),R=k+(T^(j|~P))+C[6]+2734768916&4294967295,k=j+(R<<15&4294967295|R>>>17),R=P+(j^(k|~T))+C[13]+1309151649&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~j))+C[4]+4149444226&4294967295,T=P+(R<<6&4294967295|R>>>26),R=j+(P^(T|~k))+C[11]+3174756917&4294967295,j=T+(R<<10&4294967295|R>>>22),R=k+(T^(j|~P))+C[2]+718787259&4294967295,k=j+(R<<15&4294967295|R>>>17),R=P+(j^(k|~T))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var P=T-this.blockSize,C=this.B,k=this.h,j=0;j<T;){if(k==0)for(;j<=P;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<T;)if(C[k++]=E.charCodeAt(j++),k==this.blockSize){i(this,C),k=0;break}}else for(;j<T;)if(C[k++]=E[j++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var P=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=P&255,P/=256;for(this.u(E),E=Array(16),T=P=0;4>T;++T)for(var C=0;32>C;C+=8)E[P++]=this.g[T]>>>C&255;return E};function o(E,T){var P=a;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=T(E)}function s(E,T){this.h=T;for(var P=[],C=!0,k=E.length-1;0<=k;k--){var j=E[k]|0;C&&j==T||(P[k]=j,C=!1)}this.g=P}var a={};function l(E){return-128<=E&&128>E?o(E,function(T){return new s([T|0],0>T?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(u(-E));for(var T=[],P=1,C=0;E>=P;C++)T[C]=E/P|0,P*=4294967296;return new s(T,0)}function c(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return v(c(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),C=f,k=0;k<E.length;k+=8){var j=Math.min(8,E.length-k),R=parseInt(E.substring(k,k+j),T);8>j?(j=u(Math.pow(T,j)),C=C.j(j).add(u(R))):(C=C.j(P),C=C.add(u(R)))}return C}var f=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-v(this).m();for(var E=0,T=1,P=0;P<this.g.length;P++){var C=this.i(P);E+=(0<=C?C:4294967296+C)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(w(this))return"-"+v(this).toString(E);for(var T=u(Math.pow(E,6)),P=this,C="";;){var k=A(P,T).g;P=y(P,k.j(T));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(E);if(P=k,g(P))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=y(this,E),w(E)?-1:g(E)?0:1};function v(E){for(var T=E.g.length,P=[],C=0;C<T;C++)P[C]=~E.g[C];return new s(P,~E.h).add(d)}t.abs=function(){return w(this)?v(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],C=0,k=0;k<=T;k++){var j=C+(this.i(k)&65535)+(E.i(k)&65535),R=(j>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);C=R>>>16,j&=65535,R&=65535,P[k]=R<<16|j}return new s(P,P[P.length-1]&-2147483648?-1:0)};function y(E,T){return E.add(v(T))}t.j=function(E){if(g(this)||g(E))return f;if(w(this))return w(E)?v(this).j(v(E)):v(v(this).j(E));if(w(E))return v(this.j(v(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var T=this.g.length+E.g.length,P=[],C=0;C<2*T;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<E.g.length;k++){var j=this.i(C)>>>16,R=this.i(C)&65535,F=E.i(k)>>>16,V=E.i(k)&65535;P[2*C+2*k]+=R*V,_(P,2*C+2*k),P[2*C+2*k+1]+=j*V,_(P,2*C+2*k+1),P[2*C+2*k+1]+=R*F,_(P,2*C+2*k+1),P[2*C+2*k+2]+=j*F,_(P,2*C+2*k+2)}for(C=0;C<T;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=T;C<2*T;C++)P[C]=0;return new s(P,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function b(E,T){this.g=E,this.h=T}function A(E,T){if(g(T))throw Error("division by zero");if(g(E))return new b(f,f);if(w(E))return T=A(v(E),T),new b(v(T.g),v(T.h));if(w(T))return T=A(E,v(T)),new b(v(T.g),T.h);if(30<E.g.length){if(w(E)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,C=T;0>=C.l(E);)P=x(P),C=x(C);var k=I(P,1),j=I(C,1);for(C=I(C,2),P=I(P,2);!g(C);){var R=j.add(C);0>=R.l(E)&&(k=k.add(P),j=R),C=I(C,1),P=I(P,1)}return T=y(E,k.j(T)),new b(k,T)}for(k=f;0<=E.l(T);){for(P=Math.max(1,Math.floor(E.m()/T.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=u(P),R=j.j(T);w(R)||0<R.l(E);)P-=C,j=u(P),R=j.j(T);g(j)&&(j=d),k=k.add(j),E=y(E,R)}return new b(k,E)}t.A=function(E){return A(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)&E.i(C);return new s(P,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)|E.i(C);return new s(P,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)^E.i(C);return new s(P,this.h^E.h)};function x(E){for(var T=E.g.length+1,P=[],C=0;C<T;C++)P[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(P,E.h)}function I(E,T){var P=T>>5;T%=32;for(var C=E.g.length-P,k=[],j=0;j<C;j++)k[j]=0<T?E.i(j+P)>>>T|E.i(j+P+1)<<32-T:E.i(j+P);return new s(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ID=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Os=s}).apply(typeof pP<"u"?pP:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OD,dc,CD,ip,Fw,kD,RD,jD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,S,O){return h==Array.prototype||h==Object.prototype||(h[S]=O.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var S=0;S<h.length;++S){var O=h[S];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(h,S){if(S)e:{var O=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var L=h[M];if(!(L in O))break e;O=O[L]}h=h[h.length-1],M=O[h],S=S(M),S!=M&&S!=null&&e(O,h,{configurable:!0,writable:!0,value:S})}}function o(h,S){h instanceof String&&(h+="");var O=0,M=!1,L={next:function(){if(!M&&O<h.length){var U=O++;return{value:S(U,h[U]),done:!1}}return M=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return o(this,function(S,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(h){var S=typeof h;return S=S!="object"?S:h?Array.isArray(h)?"array":S:"null",S=="array"||S=="object"&&typeof h.length=="number"}function u(h){var S=typeof h;return S=="object"&&h!=null||S=="function"}function c(h,S,O){return h.call.apply(h.bind,arguments)}function f(h,S,O){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,M),h.apply(S,L)}}return function(){return h.apply(S,arguments)}}function d(h,S,O){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,S){var O=Array.prototype.slice.call(arguments,1);return function(){var M=O.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function g(h,S){function O(){}O.prototype=S.prototype,h.aa=S.prototype,h.prototype=new O,h.prototype.constructor=h,h.Qb=function(M,L,U){for(var ee=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ee[Ue-2]=arguments[Ue];return S.prototype[L].apply(M,ee)}}function w(h){const S=h.length;if(0<S){const O=Array(S);for(let M=0;M<S;M++)O[M]=h[M];return O}return[]}function v(h,S){for(let O=1;O<arguments.length;O++){const M=arguments[O];if(l(M)){const L=h.length||0,U=M.length||0;h.length=L+U;for(let ee=0;ee<U;ee++)h[L+ee]=M[ee]}else h.push(M)}}class y{constructor(S,O){this.i=S,this.j=O,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function _(h){return/^[\s\xa0]*$/.test(h)}function b(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var x=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function I(h,S,O){for(const M in h)S.call(O,h[M],M,h)}function E(h,S){for(const O in h)S.call(void 0,h[O],O,h)}function T(h){const S={};for(const O in h)S[O]=h[O];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,S){let O,M;for(let L=1;L<arguments.length;L++){M=arguments[L];for(O in M)h[O]=M[O];for(let U=0;U<P.length;U++)O=P[U],Object.prototype.hasOwnProperty.call(M,O)&&(h[O]=M[O])}}function k(h){var S=1;h=h.split(":");const O=[];for(;0<S&&h.length;)O.push(h.shift()),S--;return h.length&&O.push(h.join(":")),O}function j(h){a.setTimeout(()=>{throw h},0)}function R(){var h=B;let S=null;return h.g&&(S=h.g,h.g=h.g.next,h.g||(h.h=null),S.next=null),S}class F{constructor(){this.h=this.g=null}add(S,O){const M=V.get();M.set(S,O),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new y(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,O){this.h=S,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let z,$=!1,B=new F,G=()=>{const h=a.Promise.resolve(void 0);z=()=>{h.then(te)}};var te=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(O){j(O)}var S=V;S.j(h),100>S.h&&(S.h++,h.next=S.g,S.g=h)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(h,S){this.type=h,this.g=this.target=S,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,S=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const O=()=>{};a.addEventListener("test",O,S),a.removeEventListener("test",O,S)}catch{}return h}();function Ae(h,S){if(ne.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var O=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=S,S=h.relatedTarget){if(x){e:{try{A(S.nodeName);var L=!0;break e}catch{}L=!1}L||(S=null)}}else O=="mouseover"?S=h.fromElement:O=="mouseout"&&(S=h.toElement);this.relatedTarget=S,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}g(Ae,ne);var Fe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),_t=0;function re(h,S,O,M,L){this.listener=h,this.proxy=null,this.src=S,this.type=O,this.capture=!!M,this.ha=L,this.key=++_t,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,S,O,M,L){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var ee=Ee(h,S,M,L);return-1<ee?(S=h[ee],O||(S.fa=!1)):(S=new re(S,this.src,U,!!M,L),S.fa=O,h.push(S)),S};function q(h,S){var O=S.type;if(O in h.g){var M=h.g[O],L=Array.prototype.indexOf.call(M,S,void 0),U;(U=0<=L)&&Array.prototype.splice.call(M,L,1),U&&(oe(S),h.g[O].length==0&&(delete h.g[O],h.h--))}}function Ee(h,S,O,M){for(var L=0;L<h.length;++L){var U=h[L];if(!U.da&&U.listener==S&&U.capture==!!O&&U.ha==M)return L}return-1}var K="closure_lm_"+(1e6*Math.random()|0),ie={};function fe(h,S,O,M,L){if(Array.isArray(S)){for(var U=0;U<S.length;U++)fe(h,S[U],O,M,L);return null}return O=wr(O),h&&h[it]?h.K(S,O,u(M)?!!M.capture:!1,L):ge(h,S,O,!1,M,L)}function ge(h,S,O,M,L,U){if(!S)throw Error("Invalid event type");var ee=u(L)?!!L.capture:!!L,Ue=dt(h);if(Ue||(h[K]=Ue=new le(h)),O=Ue.add(S,O,M,ee,U),O.proxy)return O;if(M=ot(),O.proxy=M,M.src=h,M.listener=O,h.addEventListener)Se||(L=ee),L===void 0&&(L=!1),h.addEventListener(S.toString(),M,L);else if(h.attachEvent)h.attachEvent(st(S.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ot(){function h(O){return S.call(h.src,h.listener,O)}const S=Ft;return h}function At(h,S,O,M,L){if(Array.isArray(S))for(var U=0;U<S.length;U++)At(h,S[U],O,M,L);else M=u(M)?!!M.capture:!!M,O=wr(O),h&&h[it]?(h=h.i,S=String(S).toString(),S in h.g&&(U=h.g[S],O=Ee(U,O,M,L),-1<O&&(oe(U[O]),Array.prototype.splice.call(U,O,1),U.length==0&&(delete h.g[S],h.h--)))):h&&(h=dt(h))&&(S=h.g[S.toString()],h=-1,S&&(h=Ee(S,O,M,L)),(O=-1<h?S[h]:null)&&qt(O))}function qt(h){if(typeof h!="number"&&h&&!h.da){var S=h.src;if(S&&S[it])q(S.i,h);else{var O=h.type,M=h.proxy;S.removeEventListener?S.removeEventListener(O,M,h.capture):S.detachEvent?S.detachEvent(st(O),M):S.addListener&&S.removeListener&&S.removeListener(M),(O=dt(S))?(q(O,h),O.h==0&&(O.src=null,S[K]=null)):oe(h)}}}function st(h){return h in ie?ie[h]:ie[h]="on"+h}function Ft(h,S){if(h.da)h=!0;else{S=new Ae(S,this);var O=h.listener,M=h.ha||h.src;h.fa&&qt(h),h=O.call(M,S)}return h}function dt(h){return h=h[K],h instanceof le?h:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(h){return typeof h=="function"?h:(h[bn]||(h[bn]=function(S){return h.handleEvent(S)}),h[bn])}function tt(){Y.call(this),this.i=new le(this),this.M=this,this.F=null}g(tt,Y),tt.prototype[it]=!0,tt.prototype.removeEventListener=function(h,S,O,M){At(this,h,S,O,M)};function Bt(h,S){var O,M=h.F;if(M)for(O=[];M;M=M.F)O.push(M);if(h=h.M,M=S.type||S,typeof S=="string")S=new ne(S,h);else if(S instanceof ne)S.target=S.target||h;else{var L=S;S=new ne(M,h),C(S,L)}if(L=!0,O)for(var U=O.length-1;0<=U;U--){var ee=S.g=O[U];L=ha(ee,M,!0,S)&&L}if(ee=S.g=h,L=ha(ee,M,!0,S)&&L,L=ha(ee,M,!1,S)&&L,O)for(U=0;U<O.length;U++)ee=S.g=O[U],L=ha(ee,M,!1,S)&&L}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var h=this.i,S;for(S in h.g){for(var O=h.g[S],M=0;M<O.length;M++)oe(O[M]);delete h.g[S],h.h--}}this.F=null},tt.prototype.K=function(h,S,O,M){return this.i.add(String(h),S,!1,O,M)},tt.prototype.L=function(h,S,O,M){return this.i.add(String(h),S,!0,O,M)};function ha(h,S,O,M){if(S=h.i.g[String(S)],!S)return!0;S=S.concat();for(var L=!0,U=0;U<S.length;++U){var ee=S[U];if(ee&&!ee.da&&ee.capture==O){var Ue=ee.listener,Gt=ee.ha||ee.src;ee.fa&&q(h.i,ee),L=Ue.call(Gt,M)!==!1&&L}}return L&&!M.defaultPrevented}function AT(h,S,O){if(typeof h=="function")O&&(h=d(h,O));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(h,S||0)}function PT(h){h.g=AT(()=>{h.g=null,h.i&&(h.i=!1,PT(h))},h.l);const S=h.h;h.h=null,h.m.apply(null,S)}class hU extends Y{constructor(S,O){super(),this.m=S,this.l=O,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:PT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Iu(h){Y.call(this),this.h=h,this.g={}}g(Iu,Y);var IT=[];function OT(h){I(h.g,function(S,O){this.g.hasOwnProperty(O)&&qt(S)},h),h.g={}}Iu.prototype.N=function(){Iu.aa.N.call(this),OT(this)},Iu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ky=a.JSON.stringify,dU=a.JSON.parse,pU=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function qy(){}qy.prototype.h=null;function CT(h){return h.h||(h.h=h.i())}function kT(){}var Ou={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gy(){ne.call(this,"d")}g(Gy,ne);function Xy(){ne.call(this,"c")}g(Xy,ne);var rs={},RT=null;function Lh(){return RT=RT||new tt}rs.La="serverreachability";function jT(h){ne.call(this,rs.La,h)}g(jT,ne);function Cu(h){const S=Lh();Bt(S,new jT(S))}rs.STAT_EVENT="statevent";function NT(h,S){ne.call(this,rs.STAT_EVENT,h),this.stat=S}g(NT,ne);function xn(h){const S=Lh();Bt(S,new NT(S,h))}rs.Ma="timingevent";function MT(h,S){ne.call(this,rs.Ma,h),this.size=S}g(MT,ne);function ku(h,S){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},S)}function Ru(){this.g=!0}Ru.prototype.xa=function(){this.g=!1};function mU(h,S,O,M,L,U){h.info(function(){if(h.g)if(U)for(var ee="",Ue=U.split("&"),Gt=0;Gt<Ue.length;Gt++){var Re=Ue[Gt].split("=");if(1<Re.length){var sn=Re[0];Re=Re[1];var an=sn.split("_");ee=2<=an.length&&an[1]=="type"?ee+(sn+"="+Re+"&"):ee+(sn+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+M+") [attempt "+L+"]: "+S+`
`+O+`
`+ee})}function gU(h,S,O,M,L,U,ee){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+L+"]: "+S+`
`+O+`
`+U+" "+ee})}function da(h,S,O,M){h.info(function(){return"XMLHTTP TEXT ("+S+"): "+vU(h,O)+(M?" "+M:"")})}function yU(h,S){h.info(function(){return"TIMEOUT: "+S})}Ru.prototype.info=function(){};function vU(h,S){if(!h.g)return S;if(!S)return null;try{var O=JSON.parse(S);if(O){for(h=0;h<O.length;h++)if(Array.isArray(O[h])){var M=O[h];if(!(2>M.length)){var L=M[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return Ky(O)}catch{return S}}var Vh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yy;function Fh(){}g(Fh,qy),Fh.prototype.g=function(){return new XMLHttpRequest},Fh.prototype.i=function(){return{}},Yy=new Fh;function Yi(h,S,O,M){this.j=h,this.i=S,this.l=O,this.R=M||1,this.U=new Iu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $T}function $T(){this.i=null,this.g="",this.h=!1}var LT={},Qy={};function Jy(h,S,O){h.L=1,h.v=Wh(ui(S)),h.m=O,h.P=!0,VT(h,null)}function VT(h,S){h.F=Date.now(),Bh(h),h.A=ui(h.v);var O=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),ZT(O.i,"t",M),h.C=0,O=h.j.J,h.h=new $T,h.g=yA(h.j,O?S:null,!h.m),0<h.O&&(h.M=new hU(d(h.Y,h,h.g),h.O)),S=h.U,O=h.g,M=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(IT[0]=L.toString()),L=IT);for(var U=0;U<L.length;U++){var ee=fe(O,L[U],M||S.handleEvent,!1,S.h||S);if(!ee)break;S.g[ee.key]=ee}S=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,S)):(h.u="GET",h.g.ea(h.A,h.u,null,S)),Cu(),mU(h.i,h.u,h.A,h.l,h.R,h.m)}Yi.prototype.ca=function(h){h=h.target;const S=this.M;S&&ci(h)==3?S.j():this.Y(h)},Yi.prototype.Y=function(h){try{if(h==this.g)e:{const an=ci(this.g);var S=this.g.Ba();const ga=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||sA(this.g)))){this.J||an!=4||S==7||(S==8||0>=ga?Cu(3):Cu(2)),Zy(this);var O=this.g.Z();this.X=O;t:if(FT(this)){var M=sA(this.g);h="";var L=M.length,U=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),ju(this);var ee="";break t}this.h.i=new a.TextDecoder}for(S=0;S<L;S++)this.h.h=!0,h+=this.h.i.decode(M[S],{stream:!(U&&S==L-1)});M.length=0,this.h.g+=h,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=O==200,gU(this.i,this.u,this.A,this.l,this.R,an,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Gt=this.g;if((Ue=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ue)){var Re=Ue;break t}}Re=null}if(O=Re)da(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ev(this,O);else{this.o=!1,this.s=3,xn(12),is(this),ju(this);break e}}if(this.P){O=!0;let _r;for(;!this.J&&this.C<ee.length;)if(_r=wU(this,ee),_r==Qy){an==4&&(this.s=4,xn(14),O=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==LT){this.s=4,xn(15),da(this.i,this.l,ee,"[Invalid Chunk]"),O=!1;break}else da(this.i,this.l,_r,null),ev(this,_r);if(FT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ee.length!=0||this.h.h||(this.s=1,xn(16),O=!1),this.o=this.o&&O,!O)da(this.i,this.l,ee,"[Invalid Chunked Response]"),is(this),ju(this);else if(0<ee.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),sv(sn),sn.M=!0,xn(11))}}else da(this.i,this.l,ee,null),ev(this,ee);an==4&&is(this),this.o&&!this.J&&(an==4?dA(this.j,this):(this.o=!1,Bh(this)))}else DU(this.g),O==400&&0<ee.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),is(this),ju(this)}}}catch{}finally{}};function FT(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wU(h,S){var O=h.C,M=S.indexOf(`
`,O);return M==-1?Qy:(O=Number(S.substring(O,M)),isNaN(O)?LT:(M+=1,M+O>S.length?Qy:(S=S.slice(M,M+O),h.C=M+O,S)))}Yi.prototype.cancel=function(){this.J=!0,is(this)};function Bh(h){h.S=Date.now()+h.I,BT(h,h.I)}function BT(h,S){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ku(d(h.ba,h),S)}function Zy(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Yi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(yU(this.i,this.A),this.L!=2&&(Cu(),xn(17)),is(this),this.s=2,ju(this)):BT(this,this.S-h)};function ju(h){h.j.G==0||h.J||dA(h.j,h)}function is(h){Zy(h);var S=h.M;S&&typeof S.ma=="function"&&S.ma(),h.M=null,OT(h.U),h.g&&(S=h.g,h.g=null,S.abort(),S.ma())}function ev(h,S){try{var O=h.j;if(O.G!=0&&(O.g==h||tv(O.h,h))){if(!h.K&&tv(O.h,h)&&O.G==3){try{var M=O.Da.g.parse(S)}catch{M=null}if(Array.isArray(M)&&M.length==3){var L=M;if(L[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<h.F)Yh(O),Gh(O);else break e;ov(O),xn(18)}}else O.za=L[1],0<O.za-O.T&&37500>L[2]&&O.F&&O.v==0&&!O.C&&(O.C=ku(d(O.Za,O),6e3));if(1>=WT(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else ss(O,11)}else if((h.K||O.g==h)&&Yh(O),!_(S))for(L=O.Da.g.parse(S),S=0;S<L.length;S++){let Re=L[S];if(O.T=Re[0],Re=Re[1],O.G==2)if(Re[0]=="c"){O.K=Re[1],O.ia=Re[2];const sn=Re[3];sn!=null&&(O.la=sn,O.j.info("VER="+O.la));const an=Re[4];an!=null&&(O.Aa=an,O.j.info("SVER="+O.Aa));const ga=Re[5];ga!=null&&typeof ga=="number"&&0<ga&&(M=1.5*ga,O.L=M,O.j.info("backChannelRequestTimeoutMs_="+M)),M=O;const _r=h.g;if(_r){const Jh=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jh){var U=M.h;U.g||Jh.indexOf("spdy")==-1&&Jh.indexOf("quic")==-1&&Jh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(nv(U,U.h),U.h=null))}if(M.D){const av=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;av&&(M.ya=av,qe(M.I,M.D,av))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-h.F,O.j.info("Handshake RTT: "+O.R+"ms")),M=O;var ee=h;if(M.qa=gA(M,M.J?M.ia:null,M.W),ee.K){HT(M.h,ee);var Ue=ee,Gt=M.L;Gt&&(Ue.I=Gt),Ue.B&&(Zy(Ue),Bh(Ue)),M.g=ee}else fA(M);0<O.i.length&&Xh(O)}else Re[0]!="stop"&&Re[0]!="close"||ss(O,7);else O.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ss(O,7):iv(O):Re[0]!="noop"&&O.l&&O.l.ta(Re),O.v=0)}}Cu(4)}catch{}}var _U=class{constructor(h,S){this.g=h,this.map=S}};function UT(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zT(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function WT(h){return h.h?1:h.g?h.g.size:0}function tv(h,S){return h.h?h.h==S:h.g?h.g.has(S):!1}function nv(h,S){h.g?h.g.add(S):h.h=S}function HT(h,S){h.h&&h.h==S?h.h=null:h.g&&h.g.has(S)&&h.g.delete(S)}UT.prototype.cancel=function(){if(this.i=KT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function KT(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let S=h.i;for(const O of h.g.values())S=S.concat(O.D);return S}return w(h.i)}function bU(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var S=[],O=h.length,M=0;M<O;M++)S.push(h[M]);return S}S=[],O=0;for(M in h)S[O++]=h[M];return S}function xU(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var S=[];h=h.length;for(var O=0;O<h;O++)S.push(O);return S}S=[],O=0;for(const M in h)S[O++]=M;return S}}}function qT(h,S){if(h.forEach&&typeof h.forEach=="function")h.forEach(S,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,S,void 0);else for(var O=xU(h),M=bU(h),L=M.length,U=0;U<L;U++)S.call(void 0,M[U],O&&O[U],h)}var GT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SU(h,S){if(h){h=h.split("&");for(var O=0;O<h.length;O++){var M=h[O].indexOf("="),L=null;if(0<=M){var U=h[O].substring(0,M);L=h[O].substring(M+1)}else U=h[O];S(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function os(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof os){this.h=h.h,Uh(this,h.j),this.o=h.o,this.g=h.g,zh(this,h.s),this.l=h.l;var S=h.i,O=new Du;O.i=S.i,S.g&&(O.g=new Map(S.g),O.h=S.h),XT(this,O),this.m=h.m}else h&&(S=String(h).match(GT))?(this.h=!1,Uh(this,S[1]||"",!0),this.o=Nu(S[2]||""),this.g=Nu(S[3]||"",!0),zh(this,S[4]),this.l=Nu(S[5]||"",!0),XT(this,S[6]||"",!0),this.m=Nu(S[7]||"")):(this.h=!1,this.i=new Du(null,this.h))}os.prototype.toString=function(){var h=[],S=this.j;S&&h.push(Mu(S,YT,!0),":");var O=this.g;return(O||S=="file")&&(h.push("//"),(S=this.o)&&h.push(Mu(S,YT,!0),"@"),h.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&h.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&h.push("/"),h.push(Mu(O,O.charAt(0)=="/"?AU:TU,!0))),(O=this.i.toString())&&h.push("?",O),(O=this.m)&&h.push("#",Mu(O,IU)),h.join("")};function ui(h){return new os(h)}function Uh(h,S,O){h.j=O?Nu(S,!0):S,h.j&&(h.j=h.j.replace(/:$/,""))}function zh(h,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);h.s=S}else h.s=null}function XT(h,S,O){S instanceof Du?(h.i=S,OU(h.i,h.h)):(O||(S=Mu(S,PU)),h.i=new Du(S,h.h))}function qe(h,S,O){h.i.set(S,O)}function Wh(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Nu(h,S){return h?S?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mu(h,S,O){return typeof h=="string"?(h=encodeURI(h).replace(S,EU),O&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function EU(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var YT=/[#\/\?@]/g,TU=/[#\?:]/g,AU=/[#\?]/g,PU=/[#\?@]/g,IU=/#/g;function Du(h,S){this.h=this.g=null,this.i=h||null,this.j=!!S}function Qi(h){h.g||(h.g=new Map,h.h=0,h.i&&SU(h.i,function(S,O){h.add(decodeURIComponent(S.replace(/\+/g," ")),O)}))}t=Du.prototype,t.add=function(h,S){Qi(this),this.i=null,h=pa(this,h);var O=this.g.get(h);return O||this.g.set(h,O=[]),O.push(S),this.h+=1,this};function QT(h,S){Qi(h),S=pa(h,S),h.g.has(S)&&(h.i=null,h.h-=h.g.get(S).length,h.g.delete(S))}function JT(h,S){return Qi(h),S=pa(h,S),h.g.has(S)}t.forEach=function(h,S){Qi(this),this.g.forEach(function(O,M){O.forEach(function(L){h.call(S,L,M,this)},this)},this)},t.na=function(){Qi(this);const h=Array.from(this.g.values()),S=Array.from(this.g.keys()),O=[];for(let M=0;M<S.length;M++){const L=h[M];for(let U=0;U<L.length;U++)O.push(S[M])}return O},t.V=function(h){Qi(this);let S=[];if(typeof h=="string")JT(this,h)&&(S=S.concat(this.g.get(pa(this,h))));else{h=Array.from(this.g.values());for(let O=0;O<h.length;O++)S=S.concat(h[O])}return S},t.set=function(h,S){return Qi(this),this.i=null,h=pa(this,h),JT(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[S]),this.h+=1,this},t.get=function(h,S){return h?(h=this.V(h),0<h.length?String(h[0]):S):S};function ZT(h,S,O){QT(h,S),0<O.length&&(h.i=null,h.g.set(pa(h,S),w(O)),h.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],S=Array.from(this.g.keys());for(var O=0;O<S.length;O++){var M=S[O];const U=encodeURIComponent(String(M)),ee=this.V(M);for(M=0;M<ee.length;M++){var L=U;ee[M]!==""&&(L+="="+encodeURIComponent(String(ee[M]))),h.push(L)}}return this.i=h.join("&")};function pa(h,S){return S=String(S),h.j&&(S=S.toLowerCase()),S}function OU(h,S){S&&!h.j&&(Qi(h),h.i=null,h.g.forEach(function(O,M){var L=M.toLowerCase();M!=L&&(QT(this,M),ZT(this,L,O))},h)),h.j=S}function CU(h,S){const O=new Ru;if(a.Image){const M=new Image;M.onload=p(Ji,O,"TestLoadImage: loaded",!0,S,M),M.onerror=p(Ji,O,"TestLoadImage: error",!1,S,M),M.onabort=p(Ji,O,"TestLoadImage: abort",!1,S,M),M.ontimeout=p(Ji,O,"TestLoadImage: timeout",!1,S,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else S(!1)}function kU(h,S){const O=new Ru,M=new AbortController,L=setTimeout(()=>{M.abort(),Ji(O,"TestPingServer: timeout",!1,S)},1e4);fetch(h,{signal:M.signal}).then(U=>{clearTimeout(L),U.ok?Ji(O,"TestPingServer: ok",!0,S):Ji(O,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(L),Ji(O,"TestPingServer: error",!1,S)})}function Ji(h,S,O,M,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),M(O)}catch{}}function RU(){this.g=new pU}function jU(h,S,O){const M=O||"";try{qT(h,function(L,U){let ee=L;u(L)&&(ee=Ky(L)),S.push(M+U+"="+encodeURIComponent(ee))})}catch(L){throw S.push(M+"type="+encodeURIComponent("_badmap")),L}}function Hh(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Hh,qy),Hh.prototype.g=function(){return new Kh(this.l,this.j)},Hh.prototype.i=function(h){return function(){return h}}({});function Kh(h,S){tt.call(this),this.D=h,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Kh,tt),t=Kh.prototype,t.open=function(h,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=S,this.readyState=1,Lu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(S.body=h),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$u(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eA(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function eA(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var S=h.value?h.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!h.done}))&&(this.response=this.responseText+=S)}h.done?$u(this):Lu(this),this.readyState==3&&eA(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,$u(this))},t.Qa=function(h){this.g&&(this.response=h,$u(this))},t.ga=function(){this.g&&$u(this)};function $u(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Lu(h)}t.setRequestHeader=function(h,S){this.u.append(h,S)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],S=this.h.entries();for(var O=S.next();!O.done;)O=O.value,h.push(O[0]+": "+O[1]),O=S.next();return h.join(`\r
`)};function Lu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tA(h){let S="";return I(h,function(O,M){S+=M,S+=":",S+=O,S+=`\r
`}),S}function rv(h,S,O){e:{for(M in O){var M=!1;break e}M=!0}M||(O=tA(O),typeof h=="string"?O!=null&&encodeURIComponent(String(O)):qe(h,S,O))}function pt(h){tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pt,tt);var NU=/^https?$/i,MU=["POST","PUT"];t=pt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,S,O,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);S=S?S.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yy.g(),this.v=this.o?CT(this.o):CT(Yy),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(S,String(h),!0),this.B=!1}catch(U){nA(this,U);return}if(h=O||"",O=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var L in M)O.set(L,M[L]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const U of M.keys())O.set(U,M.get(U));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(O.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MU,S,void 0))||M||L||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of O)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oA(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){nA(this,U)}};function nA(h,S){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=S,h.m=5,rA(h),qh(h)}function rA(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Bt(this,"complete"),Bt(this,"abort"),qh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qh(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iA(this):this.bb())},t.bb=function(){iA(this)};function iA(h){if(h.h&&typeof s<"u"&&(!h.v[1]||ci(h)!=4||h.Z()!=2)){if(h.u&&ci(h)==4)AT(h.Ea,0,h);else if(Bt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const ee=h.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var O;if(!(O=S)){var M;if(M=ee===0){var L=String(h.D).match(GT)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),M=!NU.test(L?L.toLowerCase():"")}O=M}if(O)Bt(h,"complete"),Bt(h,"success");else{h.m=6;try{var U=2<ci(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",rA(h)}}finally{qh(h)}}}}function qh(h,S){if(h.g){oA(h);const O=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,S||Bt(h,"ready");try{O.onreadystatechange=M}catch{}}}function oA(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var S=this.g.responseText;return h&&S.indexOf(h)==0&&(S=S.substring(h.length)),dU(S)}};function sA(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function DU(h){const S={};h=(h.g&&2<=ci(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(_(h[M]))continue;var O=k(h[M]);const L=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const U=S[L]||[];S[L]=U,U.push(O)}E(S,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vu(h,S,O){return O&&O.internalChannelParams&&O.internalChannelParams[h]||S}function aA(h){this.Aa=0,this.i=[],this.j=new Ru,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vu("baseRetryDelayMs",5e3,h),this.cb=Vu("retryDelaySeedMs",1e4,h),this.Wa=Vu("forwardChannelMaxRetries",2,h),this.wa=Vu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new UT(h&&h.concurrentRequestLimit),this.Da=new RU,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aA.prototype,t.la=8,t.G=1,t.connect=function(h,S,O,M){xn(0),this.W=h,this.H=S||{},O&&M!==void 0&&(this.H.OSID=O,this.H.OAID=M),this.F=this.X,this.I=gA(this,null,this.W),Xh(this)};function iv(h){if(lA(h),h.G==3){var S=h.U++,O=ui(h.I);if(qe(O,"SID",h.K),qe(O,"RID",S),qe(O,"TYPE","terminate"),Fu(h,O),S=new Yi(h,h.j,S),S.L=2,S.v=Wh(ui(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=S.v,O=!0),O||(S.g=yA(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Bh(S)}mA(h)}function Gh(h){h.g&&(sv(h),h.g.cancel(),h.g=null)}function lA(h){Gh(h),h.u&&(a.clearTimeout(h.u),h.u=null),Yh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Xh(h){if(!zT(h.h)&&!h.s){h.s=!0;var S=h.Ga;z||G(),$||(z(),$=!0),B.add(S,h),h.B=0}}function $U(h,S){return WT(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=S.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ku(d(h.Ga,h,S),pA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Yi(this,this.j,h);let U=this.o;if(this.S&&(U?(U=T(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var S=0,O=0;O<this.i.length;O++){t:{var M=this.i[O];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(S+=M,4096<S){S=O;break e}if(S===4096||O===this.i.length-1){S=O+1;break e}}S=1e3}else S=1e3;S=cA(this,L,S),O=ui(this.I),qe(O,"RID",h),qe(O,"CVER",22),this.D&&qe(O,"X-HTTP-Session-Id",this.D),Fu(this,O),U&&(this.O?S="headers="+encodeURIComponent(String(tA(U)))+"&"+S:this.m&&rv(O,this.m,U)),nv(this.h,L),this.Ua&&qe(O,"TYPE","init"),this.P?(qe(O,"$req",S),qe(O,"SID","null"),L.T=!0,Jy(L,O,null)):Jy(L,O,S),this.G=2}}else this.G==3&&(h?uA(this,h):this.i.length==0||zT(this.h)||uA(this))};function uA(h,S){var O;S?O=S.l:O=h.U++;const M=ui(h.I);qe(M,"SID",h.K),qe(M,"RID",O),qe(M,"AID",h.T),Fu(h,M),h.m&&h.o&&rv(M,h.m,h.o),O=new Yi(h,h.j,O,h.B+1),h.m===null&&(O.H=h.o),S&&(h.i=S.D.concat(h.i)),S=cA(h,O,1e3),O.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),nv(h.h,O),Jy(O,M,S)}function Fu(h,S){h.H&&I(h.H,function(O,M){qe(S,M,O)}),h.l&&qT({},function(O,M){qe(S,M,O)})}function cA(h,S,O){O=Math.min(h.i.length,O);var M=h.l?d(h.l.Na,h.l,h):null;e:{var L=h.i;let U=-1;for(;;){const ee=["count="+O];U==-1?0<O?(U=L[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let Ue=!0;for(let Gt=0;Gt<O;Gt++){let Re=L[Gt].g;const sn=L[Gt].map;if(Re-=U,0>Re)U=Math.max(0,L[Gt].g-100),Ue=!1;else try{jU(sn,ee,"req"+Re+"_")}catch{M&&M(sn)}}if(Ue){M=ee.join("&");break e}}}return h=h.i.splice(0,O),S.D=h,M}function fA(h){if(!h.g&&!h.u){h.Y=1;var S=h.Fa;z||G(),$||(z(),$=!0),B.add(S,h),h.v=0}}function ov(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ku(d(h.Fa,h),pA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,hA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ku(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Gh(this),hA(this))};function sv(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function hA(h){h.g=new Yi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var S=ui(h.qa);qe(S,"RID","rpc"),qe(S,"SID",h.K),qe(S,"AID",h.T),qe(S,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(S,"TO",h.ja),qe(S,"TYPE","xmlhttp"),Fu(h,S),h.m&&h.o&&rv(S,h.m,h.o),h.L&&(h.g.I=h.L);var O=h.g;h=h.ia,O.L=1,O.v=Wh(ui(S)),O.m=null,O.P=!0,VT(O,h)}t.Za=function(){this.C!=null&&(this.C=null,Gh(this),ov(this),xn(19))};function Yh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function dA(h,S){var O=null;if(h.g==S){Yh(h),sv(h),h.g=null;var M=2}else if(tv(h.h,S))O=S.D,HT(h.h,S),M=1;else return;if(h.G!=0){if(S.o)if(M==1){O=S.m?S.m.length:0,S=Date.now()-S.F;var L=h.B;M=Lh(),Bt(M,new MT(M,O)),Xh(h)}else fA(h);else if(L=S.s,L==3||L==0&&0<S.X||!(M==1&&$U(h,S)||M==2&&ov(h)))switch(O&&0<O.length&&(S=h.h,S.i=S.i.concat(O)),L){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function pA(h,S){let O=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(O*=2),O*S}function ss(h,S){if(h.j.info("Error code "+S),S==2){var O=d(h.fb,h),M=h.Xa;const L=!M;M=new os(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uh(M,"https"),Wh(M),L?CU(M.toString(),O):kU(M.toString(),O)}else xn(2);h.G=0,h.l&&h.l.sa(S),mA(h),lA(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function mA(h){if(h.G=0,h.ka=[],h.l){const S=KT(h.h);(S.length!=0||h.i.length!=0)&&(v(h.ka,S),v(h.ka,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.ra()}}function gA(h,S,O){var M=O instanceof os?ui(O):new os(O);if(M.g!="")S&&(M.g=S+"."+M.g),zh(M,M.s);else{var L=a.location;M=L.protocol,S=S?S+"."+L.hostname:L.hostname,L=+L.port;var U=new os(null);M&&Uh(U,M),S&&(U.g=S),L&&zh(U,L),O&&(U.l=O),M=U}return O=h.D,S=h.ya,O&&S&&qe(M,O,S),qe(M,"VER",h.la),Fu(h,M),M}function yA(h,S,O){if(S&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=h.Ca&&!h.pa?new pt(new Hh({eb:O})):new pt(h.pa),S.Ha(h.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vA(){}t=vA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qh(){}Qh.prototype.g=function(h,S){return new Fn(h,S)};function Fn(h,S){tt.call(this),this.g=new aA(S),this.l=h,this.h=S&&S.messageUrlParams||null,h=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(h?h["X-WebChannel-Content-Type"]=S.messageContentType:h={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(h?h["X-WebChannel-Client-Profile"]=S.va:h={"X-WebChannel-Client-Profile":S.va}),this.g.S=h,(h=S&&S.Sb)&&!_(h)&&(this.g.m=h),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!_(S)&&(this.g.D=S,h=this.h,h!==null&&S in h&&(h=this.h,S in h&&delete h[S])),this.j=new ma(this)}g(Fn,tt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){iv(this.g)},Fn.prototype.o=function(h){var S=this.g;if(typeof h=="string"){var O={};O.__data__=h,h=O}else this.u&&(O={},O.__data__=Ky(h),h=O);S.i.push(new _U(S.Ya++,h)),S.G==3&&Xh(S)},Fn.prototype.N=function(){this.g.l=null,delete this.j,iv(this.g),delete this.g,Fn.aa.N.call(this)};function wA(h){Gy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var S=h.__sm__;if(S){e:{for(const O in S){h=O;break e}h=void 0}(this.i=h)&&(h=this.i,S=S!==null&&h in S?S[h]:void 0),this.data=S}else this.data=h}g(wA,Gy);function _A(){Xy.call(this),this.status=1}g(_A,Xy);function ma(h){this.g=h}g(ma,vA),ma.prototype.ua=function(){Bt(this.g,"a")},ma.prototype.ta=function(h){Bt(this.g,new wA(h))},ma.prototype.sa=function(h){Bt(this.g,new _A)},ma.prototype.ra=function(){Bt(this.g,"b")},Qh.prototype.createWebChannel=Qh.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,jD=function(){return new Qh},RD=function(){return Lh()},kD=rs,Fw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vh.NO_ERROR=0,Vh.TIMEOUT=8,Vh.HTTP_ERROR=6,ip=Vh,DT.COMPLETE="complete",CD=DT,kT.EventType=Ou,Ou.OPEN="a",Ou.CLOSE="b",Ou.ERROR="c",Ou.MESSAGE="d",tt.prototype.listen=tt.prototype.K,dc=kT,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,OD=pt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const mP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Xx("@firebase/firestore");function Xu(){return Ws.logLevel}function ue(t,...e){if(Ws.logLevel<=Oe.DEBUG){const n=e.map(lS);Ws.debug(`Firestore (${lu}): ${t}`,...n)}}function Di(t,...e){if(Ws.logLevel<=Oe.ERROR){const n=e.map(lS);Ws.error(`Firestore (${lu}): ${t}`,...n)}}function yl(t,...e){if(Ws.logLevel<=Oe.WARN){const n=e.map(lS);Ws.warn(`Firestore (${lu}): ${t}`,...n)}}function lS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Le(t,e){t||ye()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class f8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h8{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new ND(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new dn(e)}}class d8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new m8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=y8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function vl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new $t(0,0))}static max(){return new we(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends mf{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const v8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends mf{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return v8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Je.fromString(e))}static fromName(e){return new he(Je.fromString(e).popFirst(5))}static empty(){return new he(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Je(e.slice()))}}function w8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Vo(i,he.empty(),e)}function _8(t){return new Vo(t.readTime,t.key,-1)}class Vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vo(we.min(),he.empty(),-1)}static max(){return new Vo(we.max(),he.empty(),-1)}}function b8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==x8)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function E8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _h(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uS.oe=-1;function Dg(t){return t==null}function Kp(t){return t===0&&1/t==-1/0}function T8(t){return typeof t=="number"&&Number.isInteger(t)&&!Kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yP(this.data.getIterator())}getIteratorFrom(e){return new yP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class yP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new nn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $D("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const A8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(Le(!!t),typeof t=="string"){let e=0;const n=A8.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fS(t){const e=t.mapValue.fields.__previous_value__;return cS(e)?fS(e):e}function gf(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class yf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d={mapValue:{}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cS(t)?4:O8(t)?9007199254740991:I8(t)?10:11:ye()}function ri(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gf(t).isEqual(gf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fo(i.timestampValue),a=Fo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hs(i.bytesValue).isEqual(Hs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xt(i.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xt(i.integerValue)===xt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=xt(i.doubleValue),a=xt(o.doubleValue);return s===a?Kp(s)===Kp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gP(s)!==gP(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ri(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function vf(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function wl(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=xt(o.integerValue||o.doubleValue),l=xt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vP(t.timestampValue,e.timestampValue);case 4:return vP(gf(t),gf(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Hs(o),l=Hs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=je(a[u],l[u]);if(c!==0)return c}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=je(xt(o.latitude),xt(s.latitude));return a!==0?a:je(xt(o.longitude),xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},d=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,w=je(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:wP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===_d.mapValue&&s===_d.mapValue)return 0;if(o===_d.mapValue)return 1;if(s===_d.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=je(l[f],c[f]);if(d!==0)return d;const p=wl(a[l[f]],u[c[f]]);if(p!==0)return p}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function vP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Fo(t),r=Fo(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function wP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=wl(n[i],r[i]);if(o)return o}return je(n.length,r.length)}function _l(t){return Bw(t)}function Bw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Bw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Bw(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function _P(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uw(t){return!!t&&"integerValue"in t}function hS(t){return!!t&&"arrayValue"in t}function bP(t){return!!t&&"nullValue"in t}function xP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function op(t){return!!t&&"mapValue"in t}function I8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=kc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){na(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(kc(this.value))}}function LD(t){const e=[];return na(t.fields,(n,r)=>{const i=new Zt([n]);if(op(r)){const o=LD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mn(e,0,we.min(),we.min(),we.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new mn(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new mn(e,2,n,we.min(),we.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,we.min(),we.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.position=e,this.inclusive=n}}function SP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=wl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function C8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{}class Ct extends VD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R8(e,n,r):n==="array-contains"?new M8(e,r):n==="in"?new D8(e,r):n==="not-in"?new $8(e,r):n==="array-contains-any"?new L8(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j8(e,r):new N8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wl(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends VD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return FD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function FD(t){return t.op==="and"}function BD(t){return k8(t)&&FD(t)}function k8(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function zw(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(BD(t))return t.filters.map(e=>zw(e)).join(",");{const e=t.filters.map(n=>zw(n)).join(",");return`${t.op}(${e})`}}function UD(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&UD(s,i.filters[a]),!0):!1}(t,e):void ye()}function zD(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(zD).join(" ,")+"}"}(t):"Filter"}class R8 extends Ct{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class j8 extends Ct{constructor(e,n){super(e,"in",n),this.keys=WD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N8 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=WD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class M8 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hS(n)&&vf(n.arrayValue,this.value)}}class D8 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vf(this.value.arrayValue,n)}}class $8 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vf(this.value.arrayValue,n)}}class L8 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function TP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new V8(t,e,n,r,i,o,s)}function dS(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.ue=n}return e.ue}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EP(t.startAt,e.startAt)&&EP(t.endAt,e.endAt)}function Ww(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function F8(t,e,n,r,i,o,s,a){return new bh(t,e,n,r,i,o,s,a)}function mS(t){return new bh(t)}function AP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HD(t){return t.collectionGroup!==null}function Rc(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nn(Zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Gp(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Gp(Zt.keyField(),r))}return e.ce}function Yr(t){const e=be(t);return e.le||(e.le=B8(e,Rc(t))),e.le}function B8(t,e){if(t.limitType==="F")return TP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gp(i.field,o)});const n=t.endAt?new qp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qp(t.startAt.position,t.startAt.inclusive):null;return TP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hw(t,e){const n=t.filters.concat([e]);return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kw(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $g(t,e){return pS(Yr(t),Yr(e))&&t.limitType===e.limitType}function KD(t){return`${dS(Yr(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zD(i)).join(", ")}]`),Dg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function Lg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=SP(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Rc(r),i)||r.endAt&&!function(s,a,l){const u=SP(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Rc(r),i))}(t,e)}function U8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(const i of Rc(t)){const o=z8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z8(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?wl(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new ht(he.comparator);function $i(){return W8}const GD=new ht(he.comparator);function pc(...t){let e=GD;for(const n of t)e=e.insert(n.key,n);return e}function XD(t){let e=GD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return jc()}function YD(){return jc()}function jc(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const H8=new ht(he.comparator),K8=new nn(he.comparator);function Pe(...t){let e=K8;for(const n of t)e=e.add(n);return e}const q8=new nn(je);function G8(){return q8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function QD(t){return{integerValue:""+t}}function X8(t,e){return T8(e)?QD(e):gS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this._=void 0}}function Y8(t,e,n){return t instanceof Xp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cS(o)&&(o=fS(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof wf?ZD(t,e):t instanceof _f?e2(t,e):function(i,o){const s=JD(i,o),a=PP(s)+PP(i.Pe);return Uw(s)&&Uw(i.Pe)?QD(a):gS(i.serializer,a)}(t,e)}function Q8(t,e,n){return t instanceof wf?ZD(t,e):t instanceof _f?e2(t,e):n}function JD(t,e){return t instanceof Yp?function(r){return Uw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xp extends Vg{}class wf extends Vg{constructor(e){super(),this.elements=e}}function ZD(t,e){const n=t2(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class _f extends Vg{constructor(e){super(),this.elements=e}}function e2(t,e){let n=t2(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class Yp extends Vg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PP(t){return xt(t.integerValue||t.doubleValue)}function t2(t){return hS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wf&&i instanceof wf||r instanceof _f&&i instanceof _f?vl(r.elements,i.elements,ri):r instanceof Yp&&i instanceof Yp?ri(r.Pe,i.Pe):r instanceof Xp&&i instanceof Xp}(t.transform,e.transform)}class Z8{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fg{}function n2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i2(t.key,Ei.none()):new Bg(t.key,t.data,Ei.none());{const n=t.data,r=Hn.empty();let i=new nn(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ra(t.key,r,new Cr(i.toArray()),Ei.none())}}function eH(t,e,n){t instanceof Bg?function(i,o,s){const a=i.value.clone(),l=OP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(i,o,s){if(!sp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=OP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(r2(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof Bg?function(o,s,a,l){if(!sp(o.precondition,s))return a;const u=o.value.clone(),c=CP(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(o,s,a,l){if(!sp(o.precondition,s))return a;const u=CP(o.fieldTransforms,l,s),c=s.data;return c.setAll(r2(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return sp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JD(r.transform,i||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function IP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vl(r,i,(o,s)=>J8(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bg extends Fg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends Fg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OP(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Q8(s,a,n[i]))}return r}function CP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Y8(o,s,e))}return r}class i2 extends Fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nH extends Fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=n2(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(n,r)=>IP(n,r))&&vl(this.baseMutations,e.baseMutations,(n,r)=>IP(n,r))}}class yS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return H8}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new yS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ce;function sH(t){switch(t){default:return ye();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function o2(t){if(t===void 0)return Di("GRPC error has no .code"),X.UNKNOWN;switch(t){case Pt.OK:return X.OK;case Pt.CANCELLED:return X.CANCELLED;case Pt.UNKNOWN:return X.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return X.INTERNAL;case Pt.UNAVAILABLE:return X.UNAVAILABLE;case Pt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Pt.NOT_FOUND:return X.NOT_FOUND;case Pt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Pt.ABORTED:return X.ABORTED;case Pt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Pt.DATA_LOSS:return X.DATA_LOSS;default:return ye()}}(Ce=Pt||(Pt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=new Os([4294967295,4294967295],0);function kP(t){const e=aH().encode(t),n=new ID;return n.update(e),new Uint8Array(n.digest())}function RP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,o],0)]}class vS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Os.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(lH)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kP(e),[r,i]=RP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new vS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=kP(e),[r,i]=RP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ug(we.min(),i,new ht(je),$i(),Pe())}}class xh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class s2{constructor(e,n){this.targetId=e,this.me=n}}class a2{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jP{constructor(){this.fe=0,this.ge=MP(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new xh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=MP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uH{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=NP(),this.Qe=new ht(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ww(o))if(r===0){const s=new he(o.path);this.Ue(n,s,mn.newNoDocument(s,we.min()))}else Le(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Hs(r).toUint8Array()}catch(l){if(l instanceof $D)return yl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vS(s,i,o)}catch(l){return yl(l instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ww(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,mn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ug(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=NP(),this.Qe=new ht(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NP(){return new ht(he.comparator)}function MP(){return new ht(he.comparator)}const cH={asc:"ASCENDING",desc:"DESCENDING"},fH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hH={and:"AND",or:"OR"};class dH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qw(t,e){return t.useProto3Json||Dg(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pH(t,e){return Qp(t,e.toTimestamp())}function Qr(t){return Le(!!t),we.fromTimestamp(function(n){const r=Fo(n);return new $t(r.seconds,r.nanos)}(t))}function wS(t,e){return Gw(t,e).canonicalString()}function Gw(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function u2(t){const e=Je.fromString(t);return Le(p2(e)),e}function Xw(t,e){return wS(t.databaseId,e.path)}function Uv(t,e){const n=u2(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(f2(n))}function c2(t,e){return wS(t.databaseId,e)}function mH(t){const e=u2(t);return e.length===4?Je.emptyPath():f2(e)}function Yw(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f2(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DP(t,e,n){return{name:Xw(t,e),fields:n.value.mapValue.fields}}function gH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Le(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Le(c===void 0||c instanceof Buffer||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?X.UNKNOWN:o2(u.code);return new ce(c,u.message||"")}(s);n=new a2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uv(t,r.document.name),o=Qr(r.document.updateTime),s=r.document.createTime?Qr(r.document.createTime):we.min(),a=new Hn({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ap(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uv(t,r.document),o=r.readTime?Qr(r.readTime):we.min(),s=mn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ap([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uv(t,r.document),o=r.removedTargetIds||[];n=new ap([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oH(i,o),a=r.targetId;n=new s2(a,s)}}return n}function yH(t,e){let n;if(e instanceof Bg)n={update:DP(t,e.key,e.value)};else if(e instanceof i2)n={delete:Xw(t,e.key)};else if(e instanceof ra)n={update:DP(t,e.key,e.data),updateMask:AH(e.fieldMask)};else{if(!(e instanceof nH))return ye();n={verify:Xw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Xp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _f)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function vH(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Qr(i.updateTime):Qr(o);return s.isEqual(we.min())&&(s=Qr(o)),new Z8(s,i.transformResults||[])}(n,e))):[]}function wH(t,e){return{documents:[c2(t,e.path)]}}function _H(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=c2(t,i);const o=function(u){if(u.length!==0)return d2(Dr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ea(d.field),direction:SH(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function bH(t){let e=mH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=h2(f);return d instanceof Dr&&BD(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(g){return new Gp(Ta(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Dg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new qp(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new qp(p,d)}(n.endAt)),F8(e,i,s,o,a,"F",l,u)}function xH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ta(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ta(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ta(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ta(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>h2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function SH(t){return cH[t]}function EH(t){return fH[t]}function TH(t){return hH[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ta(t){return Zt.fromServerFormat(t.fieldPath)}function d2(t){return t instanceof Ct?function(n){if(n.op==="=="){if(xP(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(bP(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xP(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(bP(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:EH(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>d2(i));return r.length===1?r[0]:{compositeFilter:{op:TH(n.op),filters:r}}}(t):ye()}function AH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,o=we.min(),s=we.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.ct=e}}function IH(t){const e=bH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.un=new CH}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Vo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class CH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bl(0)}static kn(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nc(r.mutation,i,Cr.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=pc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$i();const s=jc(),a=function(){return jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ra)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Nc(c.mutation,u,c.mutation.getFieldMask(),$t.now())):s.set(u.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new RH(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new ht((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Cr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=YD();c.forEach(d=>{if(!o.has(d)){const p=n2(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(_s());let a=-1,l=o;return s.next(u=>Q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:a,changes:XD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=pc();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,l=>{const u=function(f,d){return new bh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,mn.newInvalidDocument(c)))});let a=pc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Nc(c.mutation,u,Cr.empty(),$t.now()),Lg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IH(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.overlays=new ht(he.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=_s(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=_s(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iH(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Tr=new nn(Ut.Er),this.dr=new nn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new Je([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new Je([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nn(Ut.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rH(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(je);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new he(o),0);let a=new nn(je);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.Mr=e,this.docs=function(){return new ht(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$i();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||b8(_8(c),r)<=0||(i.has(c.key)||Lg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VH(this)}getSize(e){return Q.resolve(this.size)}}class VH extends kH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.persistence=e,this.Nr=new uu(n=>dS(n),pS),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _S,this.targetCount=0,this.kr=bl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new DH,this.referenceDelegate=e(this),this.Ur=new FH(this),this.indexManager=new OH,this.remoteDocumentCache=function(i){return new LH(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PH(n),this.Gr=new NH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $H(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new UH(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UH extends S8{constructor(e){super(),this.currentSequenceNumber=e}}class bS{constructor(e){this.persistence=e,this.Jr=new _S,this.Yr=null}static Zr(e){return new bS(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=he.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return C5()?8:E8(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new zH;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xu()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Xu()<=Oe.DEBUG&&ue("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xu()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):Q.resolve())}Yi(e,n){if(AP(n))return Q.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kw(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,Kw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return AP(n)||i.isEqual(we.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Q.resolve(null):(Xu()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(n)),this.rs(e,s,n,w8(i,-1)).next(a=>a))})}ts(e,n){let r=new nn(qD(e));return n.forEach((i,o)=>{Lg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Xu()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(je),this._s=new uu(o=>dS(o),pS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KH(t,e,n,r){return new HH(t,e,n,r)}async function m2(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Pe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function qH(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=Q.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(w=>{const v=u.docVersions.get(g);Le(v!==null),w.version.compareTo(v)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function g2(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function GH(t,e){const n=be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(on.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(w,v,y){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=$i(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(XH(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(we.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function XH(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$i();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function YH(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QH(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new yo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Qw(t,e,n){const r=be(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!_h(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $P(t,e,n){const r=be(t);let i=we.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=be(l),d=f._s.get(c);return d!==void 0?Q.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,s,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Pe())).next(a=>(JH(r,U8(e),a),{documents:a,Ts:o})))}function JH(t,e,n){let r=t.us.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class LP{constructor(){this.activeTargetIds=G8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZH{constructor(){this.so=new LP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new LP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function zv(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class rK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=zv(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw yl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=tK[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=zv();return new Promise((s,a)=>{const l=new OD;l.setWithCredentials(!0),l.listenOnce(CD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ip.NO_ERROR:const c=l.getResponseJson();ue(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case ip.TIMEOUT:ue(cn,`RPC '${e}' ${o} timed out`),a(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const f=l.getStatus();if(ue(cn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(y)>=0?y:X.UNKNOWN}(p.status);a(new ce(g,p.message))}else a(new ce(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(X.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ue(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ue(cn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=zv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jD(),a=RD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ue(cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,p=!1;const g=new nK({Io:v=>{p?ue(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(ue(cn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ue(cn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),w=(v,y,_)=>{v.listen(y,b=>{try{_(b)}catch(A){setTimeout(()=>{throw A},0)}})};return w(f,dc.EventType.OPEN,()=>{p||(ue(cn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(f,dc.EventType.CLOSE,()=>{p||(p=!0,ue(cn,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(f,dc.EventType.ERROR,v=>{p||(p=!0,yl(cn,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),w(f,dc.EventType.MESSAGE,v=>{var y;if(!p){const _=v.data[0];Le(!!_);const b=_,A=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(A){ue(cn,`RPC '${e}' stream ${i} received error:`,A);const x=A.status;let I=function(P){const C=Pt[P];if(C!==void 0)return o2(C)}(x),E=A.message;I===void 0&&(I=X.INTERNAL,E="Unknown error status: "+x+" with message "+A.message),p=!0,g.So(new ce(I,E)),f.close()}else ue(cn,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),w(a,kD.STAT_EVENT,v=>{v.stat===Fw.PROXY?ue(cn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Fw.NOPROXY&&ue(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return new dH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iK extends v2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gH(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Qr(s.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Yw(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ww(l)?{documents:wH(o,l)}:{query:_H(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=l2(o,s.resumeToken);const u=qw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=Qp(o,s.snapshotVersion.toTimestamp());const u=qw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Yw(this.serializer),n.removeTarget=e,this.a_(n)}}class oK extends v2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vH(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Yw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yH(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Gw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(X.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Gw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(X.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ia(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await Sh(u),u.q_.set("Unknown"),u.L_.delete(4),await Wg(u)}(this))})}),this.q_=new aK(r,i)}}async function Wg(t){if(ia(t))for(const e of t.B_)await e(!0)}async function Sh(t){for(const e of t.B_)await e(!1)}function w2(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),AS(n)?TS(n):cu(n).r_()&&ES(n,e))}function SS(t,e){const n=be(t),r=cu(n);n.N_.delete(e),r.r_()&&_2(n,e),n.N_.size===0&&(r.r_()?r.o_():ia(n)&&n.q_.set("Unknown"))}function ES(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cu(t).A_(e)}function _2(t,e){t.Q_.xe(e),cu(t).R_(e)}function TS(t){t.Q_=new uH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.q_.v_()}function AS(t){return ia(t)&&!cu(t).n_()&&t.N_.size>0}function ia(t){return be(t).L_.size===0}function b2(t){t.Q_=void 0}async function uK(t){t.q_.set("Online")}async function cK(t){t.N_.forEach((e,n)=>{ES(t,e)})}async function fK(t,e){b2(t),AS(t)?(t.q_.M_(e),TS(t)):t.q_.set("Unknown")}async function hK(t,e,n){if(t.q_.set("Online"),e instanceof a2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jp(t,r)}else if(e instanceof ap?t.Q_.Ke(e):e instanceof s2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await g2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),_2(o,l);const f=new yo(c.target,l,u,c.sequenceNumber);ES(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Jp(t,r)}}async function Jp(t,e,n){if(!_h(e))throw e;t.L_.add(1),await Sh(t),t.q_.set("Offline"),n||(n=()=>g2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wg(t)})}function x2(t,e){return e().catch(n=>Jp(t,n,e))}async function Hg(t){const e=be(t),n=Bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dK(e);)try{const i=await YH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pK(e,i)}catch(i){await Jp(e,i)}S2(e)&&E2(e)}function dK(t){return ia(t)&&t.O_.length<10}function pK(t,e){t.O_.push(e);const n=Bo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function S2(t){return ia(t)&&!Bo(t).n_()&&t.O_.length>0}function E2(t){Bo(t).start()}async function mK(t){Bo(t).p_()}async function gK(t){const e=Bo(t);for(const n of t.O_)e.m_(n.mutations)}async function yK(t,e,n){const r=t.O_.shift(),i=yS.from(r,e,n);await x2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hg(t)}async function vK(t,e){e&&Bo(t).V_&&await async function(r,i){if(function(s){return sH(s)&&s!==X.ABORTED}(i.code)){const o=r.O_.shift();Bo(r).s_(),await x2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hg(r)}}(t,e),S2(t)&&E2(t)}async function FP(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ia(n);n.L_.add(3),await Sh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wg(n)}async function wK(t,e){const n=be(t);e?(n.L_.delete(2),await Wg(n)):e||(n.L_.add(2),await Sh(n),n.q_.set("Unknown"))}function cu(t){return t.K_||(t.K_=function(n,r,i){const o=be(n);return o.w_(),new iK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uK.bind(null,t),Ro:cK.bind(null,t),mo:fK.bind(null,t),d_:hK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),AS(t)?TS(t):t.q_.set("Unknown")):(await t.K_.stop(),b2(t))})),t.K_}function Bo(t){return t.U_||(t.U_=function(n,r,i){const o=be(n);return o.w_(),new oK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mK.bind(null,t),mo:vK.bind(null,t),f_:gK.bind(null,t),g_:yK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hg(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new PS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(t,e){if(Di("AsyncQueue",`${e}: ${t}`),_h(t))return new ce(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.W_=new ht(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xl(e,n,nl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bK{constructor(){this.queries=UP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=be(n),o=i.queries;i.queries=UP(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function UP(){return new uu(t=>KD(t),$g)}async function xK(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new _K,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=IS(s,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&OS(n)}async function SK(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EK(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&OS(n)}function TK(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function OS(t){t.Y_.forEach(e=>{e.next()})}var Jw,zP;(zP=Jw||(Jw={})).ea="default",zP.Cache="cache";class AK{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.key=e}}class A2{constructor(e){this.key=e}}class PK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=qD(e),this.Ra=new nl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BP,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=Lg(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,g){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return w(p)-w(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new xl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new A2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new T2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OK{constructor(e){this.key=e,this.va=!1}}class CK{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new uu(a=>KD(a),$g),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(he.comparator),this.Na=new Map,this.La=new _S,this.Ba={},this.ka=new Map,this.qa=bl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kK(t,e,n=!0){const r=R2(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await P2(r,e,n,!0),i}async function RK(t,e){const n=R2(t);await P2(n,e,!0,!1)}async function P2(t,e,n,r){const i=await QH(t.localStore,Yr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await jK(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&w2(t.remoteStore,i),a}async function jK(t,e,n,r,i){t.Ka=(f,d,p)=>async function(w,v,y,_){let b=v.view.ma(y);b.ns&&(b=await $P(w.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,b)));const A=_&&_.targetChanges.get(v.targetId),x=_&&_.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(b,w.isPrimaryClient,A,x);return HP(w,v.targetId,I.wa),I.snapshot}(t,f,d,p);const o=await $P(t.localStore,e,!0),s=new PK(e,o.Ts),a=s.ma(o.documents),l=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);HP(t,n,u.wa);const c=new IK(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function NK(t,e,n){const r=be(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!$g(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&SS(r.remoteStore,i.targetId),Zw(r,i.targetId)}).catch(wh)):(Zw(r,i.targetId),await Qw(r.localStore,i.targetId,!0))}async function MK(t,e){const n=be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SS(n.remoteStore,r.targetId))}async function DK(t,e,n){const r=zK(t);try{const i=await function(s,a){const l=be(s),u=$t.now(),c=a.reduce((p,g)=>p.add(g.key),Pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=$i(),w=Pe();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((y,_)=>{_.isValidDocument()||(w=w.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const _ of a){const b=tH(_,f.get(_.key).overlayedDocument);b!=null&&y.push(new ra(_.key,b,LD(b.value.mapValue),Ei.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(v=>{d=v;const y=v.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:d.batchId,changes:XD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new ht(je)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Eh(r,i.changes),await Hg(r.remoteStore)}catch(i){const o=IS(i,"Failed to persist write");n.reject(o)}}async function I2(t,e){const n=be(t);try{const r=await GH(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Le(s.va):i.removedDocuments.size>0&&(Le(s.va),s.va=!1))}),await Eh(n,r,e)}catch(r){await wh(r)}}function WP(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=be(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&OS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $K(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new ht(he.comparator);s=s.insert(o,mn.newNoDocument(o,we.min()));const a=Pe().add(o),l=new Ug(we.min(),new Map,new ht(je),s,a);await I2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),CS(r)}else await Qw(r.localStore,e,!1).then(()=>Zw(r,e,n)).catch(wh)}async function LK(t,e){const n=be(t),r=e.batch.batchId;try{const i=await qH(n.localStore,e);C2(n,r,null),O2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eh(n,i)}catch(i){await wh(i)}}async function VK(t,e,n){const r=be(t);try{const i=await function(s,a){const l=be(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);C2(r,e,n),O2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eh(r,i)}catch(i){await wh(i)}}function O2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function C2(t,e,n){const r=be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Zw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||k2(t,r)})}function k2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(SS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CS(t))}function HP(t,e,n){for(const r of n)r instanceof T2?(t.La.addReference(r.key,e),FK(t,r)):r instanceof A2?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||k2(t,r.key)):ye()}function FK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),CS(t))}function CS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new OK(n)),t.Oa=t.Oa.insert(n,r),w2(t.remoteStore,new yo(Yr(mS(n.path)),r,"TargetPurposeLimboResolution",uS.oe))}}async function Eh(t,e,n){const r=be(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=xS.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,d=>Q.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!_h(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(d,w)}}}(r.localStore,o))}async function BK(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await m2(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(X.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eh(n,r.hs)}}function UK(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function R2(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$K.bind(null,e),e.Ca.d_=EK.bind(null,e.eventManager),e.Ca.$a=TK.bind(null,e.eventManager),e}function zK(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VK.bind(null,e),e}class Zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return KH(this.persistence,new WH,e.initialUser,this.serializer)}Ga(e){return new BH(bS.Zr,this.serializer)}Wa(e){return new ZH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zp.provider={build:()=>new Zp};class e_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BK.bind(null,this.syncEngine),await wK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bK}()}createDatastore(e){const n=zg(e.databaseInfo.databaseId),r=function(o){return new rK(o)}(e.databaseInfo);return function(o,s,a,l){return new sK(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new lK(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WP(this.syncEngine,n,0),function(){return VP.D()?new VP:new eK}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new CK(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=be(i);ue("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sh(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}e_.provider={build:()=>new e_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=MD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await m2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KK(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FP(e.remoteStore,i)),t._onlineComponents=e}async function KK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await Hv(t,new Zp)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Hv(t,new Zp);return t._offlineComponents}async function j2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await KP(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await KP(t,new e_))),t._onlineComponents}function qK(t){return j2(t).then(e=>e.syncEngine)}async function qP(t){const e=await j2(t),n=e.eventManager;return n.onListen=kK.bind(null,e.syncEngine),n.onUnlisten=NK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MK.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GK(t,e,n,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XP(t){if(!he.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YP(t){if(he.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kg(t);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c8;switch(r.type){case"firstParty":return new p8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GP.get(n);r&&(ue("ComponentProvider","Removing Datastore"),GP.delete(n),r.terminate())}(this),Promise.resolve()}}function XK(t,e,n,r={}){var i;const o=(t=rl(t,qg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dn.MOCK_USER;else{a=S5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(u)}t._authCredentials=new f8(new ND(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class jo extends fu{constructor(e,n,r){super(e,n,mS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new he(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function D2(t,e,...n){if(t=ft(t),M2("collection","path",e),t instanceof qg){const r=Je.fromString(e,...n);return YP(r),new jo(t,null,r)}{if(!(t instanceof $n||t instanceof jo))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return YP(r),new jo(t.firestore,null,r)}}function il(t,e,...n){if(t=ft(t),arguments.length===1&&(e=MD.newId()),M2("doc","path",e),t instanceof qg){const r=Je.fromString(e,...n);return XP(r),new $n(t,null,new he(r))}{if(!(t instanceof $n||t instanceof jo))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return XP(r),new $n(t.firestore,t instanceof jo?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y2(this,"async_queue_retry"),this.Vu=()=>{const r=Wv();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Cs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_h(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=PS.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ZP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class em extends qg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JP(e),this._firestoreClient=void 0,await e}}}function YK(t,e){const n=typeof t=="object"?t:Qx(),r=typeof t=="string"?t:"(default)",i=Rg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VM("firestore");o&&XK(i,...o)}return i}function $2(t){if(t._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QK(t),t._firestoreClient}function QK(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new P8(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,N2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(on.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=/^__.*__$/;class L2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class NS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new NS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(V2(this.Cu)&&JK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zg(e)}Qu(e,n,r,i=!1){return new NS({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F2(t){const e=t._freezeSettings(),n=zg(t._databaseId);return new ZK(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Xg extends kS{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xg}}function eq(t,e,n,r){const i=t.Qu(1,e,n);U2("Data must be an object, but it was:",i,r);const o=[],s=Hn.empty();na(r,(l,u)=>{const c=MS(e,l,n);u=ft(u);const f=i.Nu(c);if(u instanceof Xg)o.push(c);else{const d=Th(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Cr(o);return new L2(s,a,i.fieldTransforms)}function tq(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[eI(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(eI(e,o[d])),l.push(o[d+1]);const u=[],c=Hn.empty();for(let d=a.length-1;d>=0;--d)if(!oq(u,a[d])){const p=a[d];let g=l[d];g=ft(g);const w=s.Nu(p);if(g instanceof Xg)u.push(p);else{const v=Th(g,w);v!=null&&(u.push(p),c.set(p,v))}}const f=new Cr(u);return new L2(c,f,s.fieldTransforms)}function nq(t,e,n,r=!1){return Th(n,t.Qu(r?4:3,e))}function Th(t,e){if(B2(t=ft(t)))return U2("Unsupported field value:",e,t),rq(t,e);if(t instanceof kS)return function(r,i){if(!V2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Th(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:Qp(i.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,o)}}if(r instanceof RS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:l2(i.serializer,r._byteString)};if(r instanceof $n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jS)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return gS(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Kg(r)}`)}(t,e)}function rq(t,e){const n={};return DD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,(r,i)=>{const o=Th(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function B2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof RS||t instanceof Sl||t instanceof $n||t instanceof kS||t instanceof jS)}function U2(t,e,n){if(!B2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Kg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eI(t,e,n){if((e=ft(e))instanceof Gg)return e._internalPath;if(typeof e=="string")return MS(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const iq=new RegExp("[~\\*/\\[\\]]");function MS(t,e,n){if(e.search(iq)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gg(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ce(X.INVALID_ARGUMENT,a+t+l)}function oq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sq extends z2{data(){return super.data()}}function DS(t,e){return typeof e=="string"?MS(t,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $S{}class lq extends $S{}function uq(t,e,...n){let r=[];e instanceof $S&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof LS).length,a=o.filter(l=>l instanceof Yg).length;if(s>1||s>0&&a>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yg extends lq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return W2(e._query,n),new fu(e.firestore,e.converter,Hw(e._query,n))}_parse(e){const n=F2(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nI(f,c);const p=[];for(const g of f)p.push(tI(l,o,g));d={arrayValue:{values:p}}}else d=tI(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nI(f,c),d=nq(a,s,f,c==="in"||c==="not-in");return Ct.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cq(t,e,n){const r=e,i=DS("where",t);return Yg._create(i,r,n)}class LS extends $S{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new LS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)W2(s,l),s=Hw(s,l)}(e._query,n),new fu(e.firestore,e.converter,Hw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tI(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HD(e)&&n.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!he.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _P(t,new he(r))}if(n instanceof $n)return _P(t,n._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(n)}.`)}function nI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W2(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fq{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>xt(s.doubleValue));return new jS(o)}convertGeoPoint(e){return new RS(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gf(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Le(p2(r));const i=new yf(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H2 extends z2{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lp extends H2{data(e={}){return super.data(e)}}class hq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lp(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new lp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new lp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:dq(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class K2 extends fq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function pq(t,e,n,...r){t=rl(t,$n);const i=rl(t.firestore,em),o=F2(i);let s;return s=typeof(e=ft(e))=="string"||e instanceof Gg?tq(o,"updateDoc",t._key,e,n,r):eq(o,"updateDoc",t._key,e),mq(i,[s.toMutation(t._key,Ei.exists(!0))])}function ks(t,...e){var n,r,i;t=ft(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ZP(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof $n)u=rl(t.firestore,em),c=mS(t._key.path),l={next:f=>{e[s]&&e[s](gq(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=rl(t,fu);u=rl(f.firestore,em),c=f._query;const d=new K2(u);l={next:p=>{e[s]&&e[s](new hq(u,d,f,p))},error:e[s+1],complete:e[s+2]},aq(t._query)}return function(d,p,g,w){const v=new WK(w),y=new AK(p,v,g);return d.asyncQueue.enqueueAndForget(async()=>xK(await qP(d),y)),()=>{v.Za(),d.asyncQueue.enqueueAndForget(async()=>SK(await qP(d),y))}}($2(u),c,a,l)}function mq(t,e){return function(r,i){const o=new Cs;return r.asyncQueue.enqueueAndForget(async()=>DK(await qK(r),i,o)),o.promise}($2(t),e)}function gq(t,e,n){const r=n.docs.get(e._key),i=new K2(t);return new H2(t,i,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){lu=i})(su),Us(new $o("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new em(new h8(r.getProvider("auth-internal")),new g8(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qr(mP,"4.7.3",e),qr(mP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="type.googleapis.com/google.protobuf.Int64Value",vq="type.googleapis.com/google.protobuf.UInt64Value";function q2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function t_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>t_(e));if(typeof t=="function"||typeof t=="object")return q2(t,e=>t_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function nm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case yq:case vq:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>nm(e)):typeof t=="function"||typeof t=="object"?q2(t,e=>nm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ol extends ai{constructor(e,n,r){super(`${VS}/${e}`,n||""),this.details=r}}function wq(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _q(t,e){let n=wq(t),r=n,i;try{const o=e&&e.error;if(o){const s=o.status;if(typeof s=="string"){if(!rI[s])return new ol("internal","internal");n=rI[s],r=s}const a=o.message;typeof a=="string"&&(r=a),i=o.details,i!==void 0&&(i=nm(i))}}catch{}return n==="ok"?null:new ol(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="us-central1";function xq(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new ol("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Sq{constructor(e,n,r,i,o=n_,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new bq(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=n_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Eq(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function Tq(t,e,n){return r=>Pq(t,e,r,{})}async function Aq(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}function Pq(t,e,n,r){const i=t._url(e);return Iq(t,i,n,r)}async function Iq(t,e,n,r){n=t_(n);const i={data:n},o={},s=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=r.timeout||7e4,l=xq(a),u=await Promise.race([Aq(e,i,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new ol("cancelled","Firebase Functions instance was deleted.");const c=_q(u.status,u.json);if(c)throw c;if(!u.json)throw new ol("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new ol("internal","Response is missing data field.");return{data:nm(f)}}const iI="@firebase/functions",oI="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="auth-internal",Cq="app-check-internal",kq="messaging-internal";function Rq(t,e){const n=(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider(Oq),a=r.getProvider(kq),l=r.getProvider(Cq);return new Sq(o,s,a,l,i,t)};Us(new $o(VS,n,"PUBLIC").setMultipleInstances(!0)),qr(iI,oI,e),qr(iI,oI,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t=Qx(),e=n_){const r=Rg(ft(t),VS).getImmediate({identifier:e}),i=VM("functions");return i&&Nq(r,...i),r}function Nq(t,e,n){Eq(ft(t),e,n)}function mt(t,e,n){return Tq(ft(t),e)}Rq(fetch.bind(self));const Mq={apiKey:"AIzaSyAc39l6xYMg3K_fYksvKdEw-pZ0mTma7eg",authDomain:"the-beer-game-37777398-4d5fb.firebaseapp.com",projectId:"the-beer-game-37777398-4d5fb",storageBucket:"the-beer-game-37777398-4d5fb.firebasestorage.app",messagingSenderId:"719771955560",appId:"1:719771955560:web:171d7ce2015d05e9ca26dd",measurementId:"G-M0VP3BE637"},FS=WM(Mq),Rn=l8(FS),vo=YK(FS),gt=jq(FS);function Ah(){const[t,e]=N.useState(Rn.currentUser),[n,r]=N.useState("player"),[i,o]=N.useState(null),[s,a]=N.useState(!0),[l,u]=N.useState(!1),c=N.useCallback(async()=>{Rn.currentUser&&await Rn.currentUser.getIdToken(!0)},[]);N.useEffect(()=>{const g=vD(Rn,async w=>{if(e(w),w){const y=(await eD(w,!1)).claims.role??"player";r(y)}else r("player"),o(null);a(!1)});return()=>g()},[]),N.useEffect(()=>{if(!t){o(null),u(!1);return}if(n==="admin"){o("approved"),u(!1);return}u(!0);const g=il(vo,"instructors",t.uid),w=ks(g,v=>{v.exists()?o(v.data().status):o(null),u(!1)},v=>{console.error("Error listening to instructor status:",v),o(null),u(!1)});return()=>w()},[t,n]);const f=n==="admin",d=f||i==="approved"||n==="host";return{user:t,role:n,instructorStatus:i,isAdmin:f,isApprovedInstructor:d,isHost:d,loading:s,statusLoading:l,refreshToken:c}}const G2=N.createContext(void 0);function Dq({children:t}){const[e,n]=N.useState(()=>localStorage.getItem("theme")||"dark");N.useEffect(()=>{localStorage.setItem("theme",e),e==="light"?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")},[e]);const r=()=>{n(i=>i==="dark"?"light":"dark")};return m.jsx(G2.Provider,{value:{theme:e,toggleTheme:r},children:t})}function $q(){const t=N.useContext(G2);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function Lq(){const{isApprovedInstructor:t,isAdmin:e,user:n}=Ah(),{theme:r,toggleTheme:i}=$q(),o=ta(),s=Wi(),a=o.pathname==="/"||o.pathname.startsWith("/instructor")||o.pathname.startsWith("/s/");async function l(){await Q9(Rn),s("/")}function u(){return e?"Admin Mode":t?"Instructor Mode":"Player Mode"}return m.jsxs("div",{className:"header",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.05)",paddingBottom:24,marginBottom:24},children:[m.jsxs(Tn,{to:"/",className:"brand",children:[m.jsx(p5,{}),m.jsxs("div",{children:[m.jsx("h1",{style:{fontSize:24,letterSpacing:"-0.5px"},children:"Croissant Lab"}),m.jsx("div",{className:"small",style:{opacity:.7},children:"Scientific Dough Management"})]})]}),m.jsxs("div",{className:"row",style:{gap:8},children:[m.jsx("button",{className:"btn secondary",onClick:i,title:r==="dark"?"Switch to Light Mode":"Switch to Dark Mode",style:{width:40,height:40,padding:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:r==="dark"?m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):m.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),m.jsx("span",{className:"badge",style:{padding:"4px 8px",borderRadius:4,fontSize:10,alignSelf:"center"},children:u()}),a&&m.jsxs(m.Fragment,{children:[m.jsx(Tn,{className:`btn ${o.pathname==="/"?"secondary":"outline"} small`,to:"/",children:"Player Login"}),m.jsx(Tn,{className:`btn ${o.pathname==="/instructor/login"?"secondary":"outline"} small`,to:"/instructor/login",children:"Instructor Login"}),m.jsx(Tn,{className:`btn ${o.pathname==="/instructor/register"?"secondary":"outline"} small`,to:"/instructor/register",children:"Get Instructor Access"})]}),e&&o.pathname!=="/admin"&&m.jsx(Tn,{className:"btn outline small",to:"/admin",children:"Admin"}),t&&o.pathname!=="/host"&&m.jsx(Tn,{className:"btn secondary small",to:"/host",children:"Dashboard"}),n&&t&&m.jsx("button",{className:"btn ghost small",onClick:l,children:"Sign Out"})]})]})}function xd({children:t,requireAdmin:e,requireInstructor:n}){const{user:r,role:i,isAdmin:o,isApprovedInstructor:s,loading:a,statusLoading:l}=Ah();return a?m.jsx("div",{className:"card",style:{textAlign:"center",padding:40},children:m.jsx("p",{children:"Loading..."})}):r?e&&!o?m.jsx(Zd,{to:"/",replace:!0}):n&&i==="instructor"&&l?m.jsx("div",{className:"card",style:{textAlign:"center",padding:40},children:m.jsx("p",{children:"Loading..."})}):n&&!s?m.jsx(Zd,{to:"/",replace:!0}):m.jsx(m.Fragment,{children:t}):m.jsx(Zd,{to:"/instructor/login",replace:!0})}const Qe={registerInstructor:mt(gt,"registerInstructor"),checkInstructorStatus:mt(gt,"checkInstructorStatus"),requestPasswordReset:mt(gt,"requestPasswordReset"),listPendingInstructors:mt(gt,"listPendingInstructors"),listAllInstructors:mt(gt,"listAllInstructors"),getInstructorDetail:mt(gt,"getInstructorDetail"),approveInstructor:mt(gt,"approveInstructor"),rejectInstructor:mt(gt,"rejectInstructor"),revokeInstructorAccess:mt(gt,"revokeInstructorAccess"),getInstructorUsageStats:mt(gt,"getInstructorUsageStats"),getMySessions:mt(gt,"getMySessions"),createSession:mt(gt,"createSession"),joinSession:mt(gt,"joinSession"),submitOrder:mt(gt,"submitOrder"),advanceReveal:mt(gt,"advanceReveal"),nudgePlayer:mt(gt,"nudgePlayer"),endSession:mt(gt,"endSession"),deleteSession:mt(gt,"deleteSession"),startSession:mt(gt,"startSession"),kickPlayer:mt(gt,"kickPlayer"),redrawSession:mt(gt,"redrawSession"),finishWeek:mt(gt,"finishWeek")},Vq="/assets/dragons-2Yd3k7Wq.png";function Fq(){const t=Wi(),[e,n]=N.useState(""),[r,i]=N.useState(""),[o,s]=N.useState(!1),[a,l]=N.useState("");async function u(c){l(""),s(!0);try{const f=await Qe.joinSession({code:e.trim().toUpperCase(),name:r.trim(),allowTakeover:c});t(`/play/${f.data.sessionId}`,{state:{resumed:f.data.resumed}})}catch(f){console.error(f);const d=String((f==null?void 0:f.code)??"");if((d==="already-exists"||d==="functions/already-exists")&&confirm("Name already in use. Do you want to take over the session?"))return s(!1),u(!0);l((f==null?void 0:f.message)??"Join failed")}finally{s(!1)}}return m.jsx("div",{style:{backgroundImage:`url(${Vq})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"calc(100vh - 100px)",padding:20,borderRadius:20,display:"flex",flexDirection:"column"},children:m.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,0.92)",backdropFilter:"blur(10px)",maxWidth:400,width:"100%"},children:[m.jsxs("div",{className:"row",style:{marginBottom:8},children:[m.jsx("h2",{style:{margin:0},children:"Join a Session"}),m.jsx("span",{className:"badge",children:"Players"})]}),m.jsx("p",{children:"Enter the session code from your instructor and choose a baker name."}),m.jsx("label",{children:"Session code"}),m.jsx("input",{value:e,onChange:c=>n(c.target.value.toUpperCase()),placeholder:"e.g., ABCD12",style:{fontFamily:"var(--mono)",letterSpacing:"1px",fontSize:16}}),m.jsx("label",{children:"Your name"}),m.jsx("input",{value:r,onChange:c=>i(c.target.value),placeholder:"e.g., Alex"}),m.jsx("div",{className:"row",style:{marginTop:16},children:m.jsx("button",{className:`btn${o?" loading":""}`,disabled:o||!e.trim()||!r.trim(),onClick:()=>u(),children:"Join Bakery"})}),a&&m.jsx("div",{className:"hr"}),a&&m.jsx("p",{className:"text-danger",children:a})]})})})}function Bq(){const{user:t,isApprovedInstructor:e,isAdmin:n}=Ah(),[r,i]=N.useState({demandMu:50,demandSigma:20,price:1,cost:.2,salvage:0,weeks:10}),[o,s]=N.useState(null),[a,l]=N.useState(!1),[u,c]=N.useState(""),[f,d]=N.useState(""),[p,g]=N.useState([]);N.useEffect(()=>{if(!t)return;const A=uq(D2(vo,"sessions"),cq("createdByUid","==",t.uid));return ks(A,x=>{const I=x.docs.map(E=>({id:E.id,data:E.data()})).sort((E,T)=>{var k,j,R,F;const P=((j=(k=E.data.createdAt)==null?void 0:k.toMillis)==null?void 0:j.call(k))??0;return(((F=(R=T.data.createdAt)==null?void 0:R.toMillis)==null?void 0:F.call(R))??0)-P});g(I),d("")},x=>{console.error(x),d((x==null?void 0:x.message)??"Failed to load sessions.")})},[t]);async function w(){if(c(""),!e){c("You need to be an approved instructor to create sessions.");return}l(!0);try{const A=Math.max(1,Math.min(52,Math.round(Number(r.weeks??10)))),x=await Qe.createSession({...r,weeks:A});s(x.data)}catch(A){console.error(A),c((A==null?void 0:A.message)??"Create session failed")}finally{l(!1)}}async function v(A){d(""),l(!0);try{await Qe.endSession({sessionId:A}),d("Session ended.")}catch(x){console.error(x),d((x==null?void 0:x.message)??"End session failed")}finally{l(!1)}}async function y(A){if(confirm("Delete this finished session? This cannot be undone.")){d(""),l(!0);try{await Qe.deleteSession({sessionId:A}),d("Session deleted.")}catch(x){console.error(x),d((x==null?void 0:x.message)??"Delete session failed")}finally{l(!1)}}}const _=p.filter(A=>{var x;return((x=A.data)==null?void 0:x.status)!=="finished"}),b=p.filter(A=>{var x;return((x=A.data)==null?void 0:x.status)==="finished"});return m.jsxs("div",{className:"grid two",children:[m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"row",style:{marginBottom:12},children:[m.jsx("h2",{style:{margin:0},children:"Create New Session"}),e&&m.jsx("span",{className:"badge success",children:n?"Admin":"Instructor"})]}),m.jsx("p",{className:"small",children:"Set the demand model, pricing, and duration before you launch."}),m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"baseline"},children:[m.jsx("h3",{style:{margin:0},children:"Demand Distribution"}),m.jsx("span",{className:"small",children:"Training + in-game demand draws"})]}),m.jsxs("div",{className:"grid two",children:[m.jsxs("div",{children:[m.jsx("label",{children:"Mean (mu)"}),m.jsx("input",{type:"number",value:r.demandMu,onChange:A=>i(x=>({...x,demandMu:Number(A.target.value)}))})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Std Deviation (sigma)"}),m.jsx("input",{type:"number",value:r.demandSigma,onChange:A=>i(x=>({...x,demandSigma:Number(A.target.value)}))})]})]}),m.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"baseline",marginTop:16},children:[m.jsx("h3",{style:{margin:0},children:"Pricing"}),m.jsx("span",{className:"small",children:"All values are per-unit"})]}),m.jsxs("div",{className:"grid three",children:[m.jsxs("div",{children:[m.jsx("label",{children:"Sales Price"}),m.jsx("input",{type:"number",step:"0.01",value:r.price,onChange:A=>i(x=>({...x,price:Number(A.target.value)}))})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Unit Cost"}),m.jsx("input",{type:"number",step:"0.01",value:r.cost,onChange:A=>i(x=>({...x,cost:Number(A.target.value)}))})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Salvage Value"}),m.jsx("input",{type:"number",step:"0.01",value:r.salvage,onChange:A=>i(x=>({...x,salvage:Number(A.target.value)}))})]})]}),m.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"baseline",marginTop:16},children:[m.jsx("h3",{style:{margin:0},children:"Duration"}),m.jsxs("span",{className:"small",children:[r.weeks*5," total days"]})]}),m.jsxs("div",{className:"grid two",children:[m.jsxs("div",{children:[m.jsx("label",{children:"Weeks in Game"}),m.jsx("input",{type:"number",min:1,max:52,step:1,value:r.weeks,onChange:A=>i(x=>({...x,weeks:Math.max(1,Math.min(52,Math.round(Number(A.target.value))))}))})]}),m.jsxs("div",{children:[m.jsx("label",{children:"Schedule"}),m.jsxs("div",{className:"small",style:{padding:"12px 0"},children:[r.weeks," weeks x 5 days = ",m.jsx("span",{className:"mono",children:r.weeks*5})," decisions"]})]})]}),m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"row",children:[m.jsx("button",{className:`btn${a?" loading":""}`,disabled:a||!e,onClick:w,children:"Create Session"}),!e&&m.jsx("span",{className:"small text-danger",children:"Instructor access required."})]}),o&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"card success-highlight",style:{marginTop:8},children:[m.jsx("p",{style:{margin:0},children:"Session created! Share this code with players:"}),m.jsx("div",{className:"session-code",style:{marginTop:12},children:o.code})]})]}),u&&m.jsx("div",{className:"hr"}),u&&m.jsx("p",{className:"text-danger",children:u})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"row",style:{marginBottom:8},children:[m.jsx("h2",{style:{margin:0},children:"Your Sessions"}),m.jsxs("span",{className:"badge",children:[_.length," active"]})]}),m.jsx("p",{className:"small",children:"Click to open the host control room."}),m.jsx("div",{style:{background:"var(--warning-bg, #fff3cd)",border:"1px solid var(--warning-border, #ffc107)",borderRadius:6,padding:"8px 12px",marginBottom:12},children:m.jsx("p",{className:"small",style:{margin:0,color:"var(--warning-text, #856404)"},children:"Sessions are automatically deleted after 30 days."})}),m.jsx("div",{className:"hr"}),f&&m.jsx("p",{className:"text-danger",children:f}),_.length===0?m.jsx("div",{style:{textAlign:"center",padding:"30px 0"},children:m.jsx("p",{className:"small",children:"No active sessions. Create one to get started."})}):m.jsx("div",{className:"grid",children:_.map(A=>{const x={lobby:{label:"Lobby",dotClass:"pending"},training:{label:"Training",dotClass:"pending"},ordering:{label:"Ordering",dotClass:"active"},revealing:{label:"Revealing",dotClass:"active"},finished:{label:"Finished",dotClass:"finished"}}[A.data.status]??{label:A.data.status,dotClass:"pending"};return m.jsx("div",{className:"player-card",children:m.jsxs("div",{className:"row",children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"row",style:{gap:8,marginBottom:4},children:[m.jsx("span",{className:"mono font-bold",style:{fontSize:16},children:A.data.code}),m.jsx("span",{className:`status-dot ${x.dotClass}`})]}),m.jsxs("div",{className:"small",children:["Week ",(A.data.weekIndex??0)+1," of ",A.data.weeks??10,"  ",A.data.playersCount??0," players"]})]}),m.jsxs("div",{className:"row",children:[m.jsx(Tn,{className:"btn secondary",to:`/host/session/${A.id}`,children:"Open"}),m.jsx("button",{className:"btn ghost",disabled:a,onClick:()=>{confirm("End this session for all players?")&&v(A.id)},children:"End"})]})]})},A.id)})}),b.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"row",style:{marginBottom:8},children:[m.jsx("h3",{style:{margin:0},children:"Completed Sessions"}),m.jsxs("span",{className:"badge",children:[b.length," total"]})]}),m.jsx("p",{className:"small",children:"Open to review, or delete if no longer needed."}),m.jsx("div",{className:"grid",children:b.map(A=>m.jsx("div",{className:"player-card",children:m.jsxs("div",{className:"row",children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"row",style:{gap:8,marginBottom:4},children:[m.jsx("span",{className:"mono font-bold",style:{fontSize:16},children:A.data.code}),m.jsx("span",{className:"status-dot finished"})]}),m.jsxs("div",{className:"small",children:["Week ",(A.data.weekIndex??0)+1," of ",A.data.weeks??10,"  ",A.data.playersCount??0," players"]})]}),m.jsxs("div",{className:"row",children:[m.jsx(Tn,{className:"btn secondary",to:`/host/session/${A.id}`,children:"Open"}),m.jsx("button",{className:"btn danger",disabled:a,onClick:()=>y(A.id),children:"Delete"})]})]})},A.id))})]}),m.jsx("div",{className:"hr"}),m.jsx("p",{className:"small",children:"Players join at the homepage using the session code."})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Setup Summary"}),m.jsx("p",{className:"small",children:"A quick snapshot of the configuration you are about to launch."}),m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"kpi",children:[m.jsxs("div",{className:"pill accent",children:["Mean: ",m.jsx("span",{className:"mono",children:r.demandMu})]}),m.jsxs("div",{className:"pill",children:["Std: ",m.jsx("span",{className:"mono",children:r.demandSigma})]}),m.jsxs("div",{className:"pill",children:["Weeks: ",m.jsx("span",{className:"mono",children:r.weeks})]}),m.jsxs("div",{className:"pill",children:["Days: ",m.jsx("span",{className:"mono",children:r.weeks*5})]})]}),m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"grid two",children:[m.jsxs("div",{className:"card highlight",children:[m.jsx("h3",{children:"Margins"}),m.jsxs("p",{className:"small",style:{marginTop:6},children:["Sell: ",m.jsxs("span",{className:"mono",children:["$",r.price.toFixed(2)]})," / Cost:"," ",m.jsxs("span",{className:"mono",children:["$",r.cost.toFixed(2)]})]}),m.jsxs("p",{className:"small",children:["Salvage: ",m.jsxs("span",{className:"mono",children:["$",r.salvage.toFixed(2)]})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"Notes"}),m.jsx("p",{className:"small",children:"You can redraw the distribution before starting if you want a different dataset."})]})]})]})]})}function El(t){return t.reduce((e,n)=>e+n,0)/(t.length||1)}function sl(t){const e=El(t),n=t.reduce((r,i)=>r+(i-e)**2,0)/Math.max(1,t.length-1);return Math.sqrt(n)}function Uq(t){const e=El(t),n=sl(t);if(n<=0)return 0;const r=t.length||1;return t.reduce((o,s)=>o+(s-e)**3,0)/r/Math.max(1e-9,n**3)}function zq(t){const e=El(t),n=sl(t);if(n<=0)return 0;const r=t.length||1;return t.reduce((o,s)=>o+(s-e)**4,0)/r/Math.max(1e-9,n**4)-3}function X2(t,e){const n=Math.min(...t),r=Math.max(...t),i=Math.max(1,r-n),o=Math.max(1,Math.ceil(i/e)),s=[];for(let u=0;u<e;u++){const c=n+u*o,f=c+o;s.push({label:`${c}-${f-1}`,count:0})}for(const u of t){const c=Math.min(e-1,Math.floor((u-n)/o));s[c].count+=1}const l=Math.max(...s.map(u=>u.count),1);return{data:s,minX:n,maxX:r,scaleToHistogram:l}}function Wq(t,e,n){const r=(t-e)/n;return 1/(n*Math.sqrt(2*Math.PI))*Math.exp(-.5*r*r)}function Hq(t,e,n,r,i){const o=[],s=r-n;for(let l=0;l<i;l++){const u=n+s*l/(i-1);o.push({x:Math.round(u*10)/10,y:Wq(u,t,e)})}const a=Math.max(...o.map(l=>l.y),1e-9);return o.map(l=>({x:l.x,y:l.y/a}))}const Kv=50,Kq={1:"",2:"",3:""};function Y2({players:t,rows:e}){const[n,r]=N.useState(!1),i=N.useMemo(()=>{if(e&&e.length)return[...e].sort((u,c)=>c.profit-u.profit);const l=(t??[]).map(u=>{const c=(u.ordersByWeek??[]).filter(d=>typeof d=="number"),f=c.length?c.reduce((d,p)=>d+p,0)/c.length:0;return{uid:u.uid,name:u.name??"Anonymous",profit:u.cumulativeProfit??0,avgOrder:f}});return l.sort((u,c)=>c.profit-u.profit),l},[t,e]),o=n?i:i.slice(0,Kv),s=i.length>Kv;return i.length===0?m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Leaderboard"}),m.jsx("p",{className:"small",children:"No players yet."})]}):m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"row",style:{marginBottom:8},children:[m.jsx("h2",{style:{margin:0},children:"Leaderboard"}),m.jsxs("span",{className:"badge",children:[i.length," players"]})]}),m.jsxs("p",{className:"small",children:["Total profit and average order quantity.",s&&!n&&` Showing top ${Kv}.`]}),m.jsx("div",{className:"hr"}),m.jsx("div",{style:{overflowX:"auto",maxHeight:500,overflowY:"auto"},children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{width:60},children:"Rank"}),m.jsx("th",{children:"Baker"}),m.jsx("th",{style:{textAlign:"right"},children:"Profit"}),m.jsx("th",{style:{textAlign:"right"},children:"Avg Order"})]})}),m.jsx("tbody",{children:o.map((a,l)=>{const u=l+1,c=u<=3,f=a.profit>=0?"var(--success)":"var(--danger)";return m.jsxs("tr",{className:c?"highlight":"",children:[m.jsx("td",{className:"mono",style:{fontWeight:c?700:400},children:Kq[u]??u}),m.jsx("td",{style:{fontWeight:c?600:400},children:a.name}),m.jsxs("td",{className:"mono",style:{textAlign:"right",color:f,fontWeight:600},children:[a.profit>=0?"+":"",a.profit.toFixed(2)]}),m.jsx("td",{className:"mono",style:{textAlign:"right"},children:a.avgOrder.toFixed(1)})]},a.uid)})})]})}),s&&m.jsx("div",{style:{marginTop:16,textAlign:"center"},children:m.jsx("button",{className:"btn ghost",onClick:()=>r(a=>!a),children:n?"Show top 50 only":`Show all ${i.length} players`})})]})}function Q2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Q2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Q2(t))&&(r&&(r+=" "),r+=e);return r}var qq=Array.isArray,Vn=qq,Gq=typeof Zh=="object"&&Zh&&Zh.Object===Object&&Zh,J2=Gq,Xq=J2,Yq=typeof self=="object"&&self&&self.Object===Object&&self,Qq=Xq||Yq||Function("return this")(),li=Qq,Jq=li,Zq=Jq.Symbol,Ph=Zq,sI=Ph,Z2=Object.prototype,eG=Z2.hasOwnProperty,tG=Z2.toString,Yu=sI?sI.toStringTag:void 0;function nG(t){var e=eG.call(t,Yu),n=t[Yu];try{t[Yu]=void 0;var r=!0}catch{}var i=tG.call(t);return r&&(e?t[Yu]=n:delete t[Yu]),i}var rG=nG,iG=Object.prototype,oG=iG.toString;function sG(t){return oG.call(t)}var aG=sG,aI=Ph,lG=rG,uG=aG,cG="[object Null]",fG="[object Undefined]",lI=aI?aI.toStringTag:void 0;function hG(t){return t==null?t===void 0?fG:cG:lI&&lI in Object(t)?lG(t):uG(t)}var qi=hG;function dG(t){return t!=null&&typeof t=="object"}var Gi=dG,pG=qi,mG=Gi,gG="[object Symbol]";function yG(t){return typeof t=="symbol"||mG(t)&&pG(t)==gG}var hu=yG,vG=Vn,wG=hu,_G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bG=/^\w*$/;function xG(t,e){if(vG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wG(t)?!0:bG.test(t)||!_G.test(t)||e!=null&&t in Object(e)}var BS=xG;function SG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xo=SG;const du=We(Xo);var EG=qi,TG=Xo,AG="[object AsyncFunction]",PG="[object Function]",IG="[object GeneratorFunction]",OG="[object Proxy]";function CG(t){if(!TG(t))return!1;var e=EG(t);return e==PG||e==IG||e==AG||e==OG}var US=CG;const xe=We(US);var kG=li,RG=kG["__core-js_shared__"],jG=RG,qv=jG,uI=function(){var t=/[^.]+$/.exec(qv&&qv.keys&&qv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function NG(t){return!!uI&&uI in t}var MG=NG,DG=Function.prototype,$G=DG.toString;function LG(t){if(t!=null){try{return $G.call(t)}catch{}try{return t+""}catch{}}return""}var e$=LG,VG=US,FG=MG,BG=Xo,UG=e$,zG=/[\\^$.*+?()[\]{}|]/g,WG=/^\[object .+?Constructor\]$/,HG=Function.prototype,KG=Object.prototype,qG=HG.toString,GG=KG.hasOwnProperty,XG=RegExp("^"+qG.call(GG).replace(zG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YG(t){if(!BG(t)||FG(t))return!1;var e=VG(t)?XG:WG;return e.test(UG(t))}var QG=YG;function JG(t,e){return t==null?void 0:t[e]}var ZG=JG,e7=QG,t7=ZG;function n7(t,e){var n=t7(t,e);return e7(n)?n:void 0}var oa=n7,r7=oa,i7=r7(Object,"create"),Qg=i7,cI=Qg;function o7(){this.__data__=cI?cI(null):{},this.size=0}var s7=o7;function a7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var l7=a7,u7=Qg,c7="__lodash_hash_undefined__",f7=Object.prototype,h7=f7.hasOwnProperty;function d7(t){var e=this.__data__;if(u7){var n=e[t];return n===c7?void 0:n}return h7.call(e,t)?e[t]:void 0}var p7=d7,m7=Qg,g7=Object.prototype,y7=g7.hasOwnProperty;function v7(t){var e=this.__data__;return m7?e[t]!==void 0:y7.call(e,t)}var w7=v7,_7=Qg,b7="__lodash_hash_undefined__";function x7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_7&&e===void 0?b7:e,this}var S7=x7,E7=s7,T7=l7,A7=p7,P7=w7,I7=S7;function pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pu.prototype.clear=E7;pu.prototype.delete=T7;pu.prototype.get=A7;pu.prototype.has=P7;pu.prototype.set=I7;var O7=pu;function C7(){this.__data__=[],this.size=0}var k7=C7;function R7(t,e){return t===e||t!==t&&e!==e}var zS=R7,j7=zS;function N7(t,e){for(var n=t.length;n--;)if(j7(t[n][0],e))return n;return-1}var Jg=N7,M7=Jg,D7=Array.prototype,$7=D7.splice;function L7(t){var e=this.__data__,n=M7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$7.call(e,n,1),--this.size,!0}var V7=L7,F7=Jg;function B7(t){var e=this.__data__,n=F7(e,t);return n<0?void 0:e[n][1]}var U7=B7,z7=Jg;function W7(t){return z7(this.__data__,t)>-1}var H7=W7,K7=Jg;function q7(t,e){var n=this.__data__,r=K7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var G7=q7,X7=k7,Y7=V7,Q7=U7,J7=H7,Z7=G7;function mu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mu.prototype.clear=X7;mu.prototype.delete=Y7;mu.prototype.get=Q7;mu.prototype.has=J7;mu.prototype.set=Z7;var Zg=mu,eX=oa,tX=li,nX=eX(tX,"Map"),WS=nX,fI=O7,rX=Zg,iX=WS;function oX(){this.size=0,this.__data__={hash:new fI,map:new(iX||rX),string:new fI}}var sX=oX;function aX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lX=aX,uX=lX;function cX(t,e){var n=t.__data__;return uX(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ey=cX,fX=ey;function hX(t){var e=fX(this,t).delete(t);return this.size-=e?1:0,e}var dX=hX,pX=ey;function mX(t){return pX(this,t).get(t)}var gX=mX,yX=ey;function vX(t){return yX(this,t).has(t)}var wX=vX,_X=ey;function bX(t,e){var n=_X(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var xX=bX,SX=sX,EX=dX,TX=gX,AX=wX,PX=xX;function gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gu.prototype.clear=SX;gu.prototype.delete=EX;gu.prototype.get=TX;gu.prototype.has=AX;gu.prototype.set=PX;var HS=gu,t$=HS,IX="Expected a function";function KS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(IX);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(KS.Cache||t$),n}KS.Cache=t$;var n$=KS;const OX=We(n$);var CX=n$,kX=500;function RX(t){var e=CX(t,function(r){return n.size===kX&&n.clear(),r}),n=e.cache;return e}var jX=RX,NX=jX,MX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DX=/\\(\\)?/g,$X=NX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MX,function(n,r,i,o){e.push(i?o.replace(DX,"$1"):r||n)}),e}),LX=$X;function VX(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qS=VX,hI=Ph,FX=qS,BX=Vn,UX=hu,dI=hI?hI.prototype:void 0,pI=dI?dI.toString:void 0;function r$(t){if(typeof t=="string")return t;if(BX(t))return FX(t,r$)+"";if(UX(t))return pI?pI.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zX=r$,WX=zX;function HX(t){return t==null?"":WX(t)}var i$=HX,KX=Vn,qX=BS,GX=LX,XX=i$;function YX(t,e){return KX(t)?t:qX(t,e)?[t]:GX(XX(t))}var o$=YX,QX=hu;function JX(t){if(typeof t=="string"||QX(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ty=JX,ZX=o$,eY=ty;function tY(t,e){e=ZX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[eY(e[n++])];return n&&n==r?t:void 0}var GS=tY,nY=GS;function rY(t,e,n){var r=t==null?void 0:nY(t,e);return r===void 0?n:r}var s$=rY;const dr=We(s$);function iY(t){return t==null}var oY=iY;const ve=We(oY);var sY=qi,aY=Vn,lY=Gi,uY="[object String]";function cY(t){return typeof t=="string"||!aY(t)&&lY(t)&&sY(t)==uY}var fY=cY;const qs=We(fY);var a$={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.element"),YS=Symbol.for("react.portal"),ny=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),oy=Symbol.for("react.provider"),sy=Symbol.for("react.context"),hY=Symbol.for("react.server_context"),ay=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),fy=Symbol.for("react.lazy"),dY=Symbol.for("react.offscreen"),l$;l$=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XS:switch(t=t.type,t){case ny:case iy:case ry:case ly:case uy:return t;default:switch(t=t&&t.$$typeof,t){case hY:case sy:case ay:case fy:case cy:case oy:return t;default:return e}}case YS:return e}}}Ve.ContextConsumer=sy;Ve.ContextProvider=oy;Ve.Element=XS;Ve.ForwardRef=ay;Ve.Fragment=ny;Ve.Lazy=fy;Ve.Memo=cy;Ve.Portal=YS;Ve.Profiler=iy;Ve.StrictMode=ry;Ve.Suspense=ly;Ve.SuspenseList=uy;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(t){return yr(t)===sy};Ve.isContextProvider=function(t){return yr(t)===oy};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XS};Ve.isForwardRef=function(t){return yr(t)===ay};Ve.isFragment=function(t){return yr(t)===ny};Ve.isLazy=function(t){return yr(t)===fy};Ve.isMemo=function(t){return yr(t)===cy};Ve.isPortal=function(t){return yr(t)===YS};Ve.isProfiler=function(t){return yr(t)===iy};Ve.isStrictMode=function(t){return yr(t)===ry};Ve.isSuspense=function(t){return yr(t)===ly};Ve.isSuspenseList=function(t){return yr(t)===uy};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ny||t===iy||t===ry||t===ly||t===uy||t===dY||typeof t=="object"&&t!==null&&(t.$$typeof===fy||t.$$typeof===cy||t.$$typeof===oy||t.$$typeof===sy||t.$$typeof===ay||t.$$typeof===l$||t.getModuleId!==void 0)};Ve.typeOf=yr;a$.exports=Ve;var pY=a$.exports,mY=qi,gY=Gi,yY="[object Number]";function vY(t){return typeof t=="number"||gY(t)&&mY(t)==yY}var u$=vY;const wY=We(u$);var _Y=u$;function bY(t){return _Y(t)&&t!=+t}var xY=bY;const yu=We(xY);var kr=function(e){return e===0?0:e>0?1:-1},bs=function(e){return qs(e)&&e.indexOf("%")===e.length-1},Z=function(e){return wY(e)&&!yu(e)},SY=function(e){return ve(e)},Dt=function(e){return Z(e)||qs(e)},EY=0,sa=function(e){var n=++EY;return"".concat(e||"").concat(n)},Gs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!qs(e))return r;var o;if(bs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return yu(o)&&(o=r),i&&o>n&&(o=n),o},ho=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},TY=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Et=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function rm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):dr(r,e))===n})}var AY=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,s=0,a=1/0,l=-1/0,u=0,c=0,f=0;f<n;f++)u=e[f].cx||0,c=e[f].cy||0,r+=u,i+=c,o+=u*c,s+=u*u,a=Math.min(a,u),l=Math.max(l,u);var d=n*s!==r*r?(n*o-r*i)/(n*s-r*r):0;return{xmin:a,xmax:l,a:d,b:(i-d*r)/n}},PY=function(e,n){return Z(e)&&Z(n)?e-n:qs(e)&&qs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function al(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function r_(t){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(t)}var IY=["viewBox","children"],OY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mI=["points","pathLength"],Gv={svg:IY,polygon:mI,polyline:mI},QS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],im=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!du(r))return null;var i={};return Object.keys(r).forEach(function(o){QS.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},CY=function(e,n,r){return function(i){return e(n,r,i),null}},bf=function(e,n,r){if(!du(e)||r_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];QS.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=CY(s,n,r))}),i},kY=["children"],RY=["children"];function gI(t,e){if(t==null)return{};var n=jY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i_(t){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(t)}var yI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vI=null,Xv=null,JS=function t(e){if(e===vI&&Array.isArray(Xv))return Xv;var n=[];return N.Children.forEach(e,function(r){ve(r)||(pY.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Xv=n,vI=e,n};function Ln(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ti(i)}):r=[Ti(e)],JS(t).forEach(function(i){var o=dr(i,"type.displayName")||dr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wn(t,e){var n=Ln(t,e);return n&&n[0]}var wI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},NY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MY=function(e){return e&&e.type&&qs(e.type)&&NY.indexOf(e.type)>=0},c$=function(e){return e&&i_(e)==="object"&&"clipDot"in e},DY=function(e,n,r,i){var o,s=(o=Gv==null?void 0:Gv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xe(e)&&(i&&s.includes(n)||OY.includes(n))||r&&QS.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!du(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;DY((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},o_=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return _I(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!_I(o,s))return!1}return!0},_I=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=gI(r,kY),s=n.props||{},a=s.children,l=gI(s,RY);return i&&a?al(o,l)&&o_(i,a):!i&&!a?al(o,l):!1}return!1},bI=function(e,n){var r=[],i={};return JS(e).forEach(function(o,s){if(MY(o))r.push(o);else if(o){var a=Ti(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},$Y=function(e){var n=e&&e.type;return n&&yI[n]?yI[n]:null},LY=function(e,n){return JS(n).indexOf(e)},VY=["children","width","height","viewBox","className","style","title","desc"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function FY(t,e){if(t==null)return{};var n=BY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=FY(t,VY),c=i||{width:n,height:r,x:0,y:0},f=Ie("recharts-surface",o);return D.createElement("svg",s_({},_e(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,a),D.createElement("desc",null,l),e)}var UY=["children","className"];function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function zY(t,e){if(t==null)return{};var n=WY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Me=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=zY(t,UY),o=Ie("recharts-layer",r);return D.createElement("g",l_({className:o},_e(i,!0),{ref:e}),n)}),Ai=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function HY(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var KY=HY,qY=KY;function GY(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:qY(t,e,n)}var XY=GY,YY="\\ud800-\\udfff",QY="\\u0300-\\u036f",JY="\\ufe20-\\ufe2f",ZY="\\u20d0-\\u20ff",eQ=QY+JY+ZY,tQ="\\ufe0e\\ufe0f",nQ="\\u200d",rQ=RegExp("["+nQ+YY+eQ+tQ+"]");function iQ(t){return rQ.test(t)}var f$=iQ;function oQ(t){return t.split("")}var sQ=oQ,h$="\\ud800-\\udfff",aQ="\\u0300-\\u036f",lQ="\\ufe20-\\ufe2f",uQ="\\u20d0-\\u20ff",cQ=aQ+lQ+uQ,fQ="\\ufe0e\\ufe0f",hQ="["+h$+"]",u_="["+cQ+"]",c_="\\ud83c[\\udffb-\\udfff]",dQ="(?:"+u_+"|"+c_+")",d$="[^"+h$+"]",p$="(?:\\ud83c[\\udde6-\\uddff]){2}",m$="[\\ud800-\\udbff][\\udc00-\\udfff]",pQ="\\u200d",g$=dQ+"?",y$="["+fQ+"]?",mQ="(?:"+pQ+"(?:"+[d$,p$,m$].join("|")+")"+y$+g$+")*",gQ=y$+g$+mQ,yQ="(?:"+[d$+u_+"?",u_,p$,m$,hQ].join("|")+")",vQ=RegExp(c_+"(?="+c_+")|"+yQ+gQ,"g");function wQ(t){return t.match(vQ)||[]}var _Q=wQ,bQ=sQ,xQ=f$,SQ=_Q;function EQ(t){return xQ(t)?SQ(t):bQ(t)}var TQ=EQ,AQ=XY,PQ=f$,IQ=TQ,OQ=i$;function CQ(t){return function(e){e=OQ(e);var n=PQ(e)?IQ(e):void 0,r=n?n[0]:e.charAt(0),i=n?AQ(n,1).join(""):e.slice(1);return r[t]()+i}}var kQ=CQ,RQ=kQ,jQ=RQ("toUpperCase"),NQ=jQ;const hy=We(NQ);function He(t){return function(){return t}}const v$=Math.cos,om=Math.sin,Lr=Math.sqrt,sm=Math.PI,dy=2*sm,f_=Math.PI,h_=2*f_,hs=1e-6,MQ=h_-hs;function w$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function DQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $Q{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w$:DQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>hs)if(!(Math.abs(f*l-u*c)>hs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-a,w=l*l+u*u,v=p*p+g*g,y=Math.sqrt(w),_=Math.sqrt(d),b=o*Math.tan((f_-Math.acos((w+d-v)/(2*y*_)))/2),A=b/_,x=b/y;Math.abs(A-1)>hs&&this._append`L${e+A*c},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+x*l},${this._y1=n+x*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>hs||Math.abs(this._y1-c)>hs)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%h_+h_),d>MQ?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>hs&&this._append`A${r},${r},0,${+(d>=f_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ZS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $Q(e)}function eE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _$(t){this._context=t}_$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function py(t){return new _$(t)}function b$(t){return t[0]}function x$(t){return t[1]}function S$(t,e){var n=He(!0),r=null,i=py,o=null,s=ZS(a);t=typeof t=="function"?t:t===void 0?b$:He(t),e=typeof e=="function"?e:e===void 0?x$:He(e);function a(l){var u,c=(l=eE(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Sd(t,e,n){var r=null,i=He(!0),o=null,s=py,a=null,l=ZS(u);t=typeof t=="function"?t:t===void 0?b$:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?x$:He(+n);function u(f){var d,p,g,w=(f=eE(f)).length,v,y=!1,_,b=new Array(w),A=new Array(w);for(o==null&&(a=s(_=l())),d=0;d<=w;++d){if(!(d<w&&i(v=f[d],d,f))===y)if(y=!y)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=p;--g)a.point(b[g],A[g]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+t(v,d,f),A[d]=+e(v,d,f),a.point(r?+r(v,d,f):b[d],n?+n(v,d,f):A[d]))}if(_)return a=null,_+""||null}function c(){return S$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class E${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function LQ(t){return new E$(t,!0)}function VQ(t){return new E$(t,!1)}const tE={draw(t,e){const n=Lr(e/sm);t.moveTo(n,0),t.arc(0,0,n,0,dy)}},FQ={draw(t,e){const n=Lr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T$=Lr(1/3),BQ=T$*2,UQ={draw(t,e){const n=Lr(e/BQ),r=n*T$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},zQ={draw(t,e){const n=Lr(e),r=-n/2;t.rect(r,r,n,n)}},WQ=.8908130915292852,A$=om(sm/10)/om(7*sm/10),HQ=om(dy/10)*A$,KQ=-v$(dy/10)*A$,qQ={draw(t,e){const n=Lr(e*WQ),r=HQ*n,i=KQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=dy*o/5,a=v$(s),l=om(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Yv=Lr(3),GQ={draw(t,e){const n=-Lr(e/(Yv*3));t.moveTo(0,n*2),t.lineTo(-Yv*n,-n),t.lineTo(Yv*n,-n),t.closePath()}},er=-.5,tr=Lr(3)/2,d_=1/Lr(12),XQ=(d_/2+1)*3,YQ={draw(t,e){const n=Lr(e/XQ),r=n/2,i=n*d_,o=r,s=n*d_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function QQ(t,e){let n=null,r=ZS(i);t=typeof t=="function"?t:He(t||tE),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function am(){}function lm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function P$(t){this._context=t}P$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JQ(t){return new P$(t)}function I$(t){this._context=t}I$.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZQ(t){return new I$(t)}function O$(t){this._context=t}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eJ(t){return new O$(t)}function C$(t){this._context=t}C$.prototype={areaStart:am,areaEnd:am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tJ(t){return new C$(t)}function xI(t){return t<0?-1:1}function SI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(xI(o)+xI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function EI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function um(t){this._context=t}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qv(this,this._t0,EI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qv(this,EI(this,n=SI(this,t,e)),n);break;default:Qv(this,this._t0,n=SI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k$(t){this._context=new R$(t)}(k$.prototype=Object.create(um.prototype)).point=function(t,e){um.prototype.point.call(this,e,t)};function R$(t){this._context=t}R$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function nJ(t){return new um(t)}function rJ(t){return new k$(t)}function j$(t){this._context=t}j$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TI(t),i=TI(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function iJ(t){return new j$(t)}function my(t,e){this._context=t,this._t=e}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function oJ(t){return new my(t,.5)}function sJ(t){return new my(t,0)}function aJ(t){return new my(t,1)}function Tl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function p_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lJ(t,e){return t[e]}function uJ(t){const e=[];return e.key=t,e}function cJ(){var t=He([]),e=p_,n=Tl,r=lJ;function i(o){var s=Array.from(t.apply(this,arguments),uJ),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=eE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?p_:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Tl,i):n},i}function fJ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Tl(t,e)}}function hJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Tl(t,e)}}function dJ(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,g=0;g<a;++g){var w=t[e[g]],v=w[r][1]||0,y=w[r-1][1]||0;p+=v-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Tl(t,e)}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var pJ=["type","size","sizeType"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=yJ(t,"string");return xf(e)=="symbol"?e:e+""}function yJ(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vJ(t,e){if(t==null)return{};var n=wJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var N$={symbolCircle:tE,symbolCross:FQ,symbolDiamond:UQ,symbolSquare:zQ,symbolStar:qQ,symbolTriangle:GQ,symbolWye:YQ},_J=Math.PI/180,bJ=function(e){var n="symbol".concat(hy(e));return N$[n]||tE},xJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_J;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SJ=function(e,n){N$["symbol".concat(hy(e))]=n},gy=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=vJ(e,pJ),u=PI(PI({},l),{},{type:r,size:o,sizeType:a}),c=function(){var v=bJ(r),y=QQ().type(v).size(xJ(o,a,r));return y()},f=u.className,d=u.cx,p=u.cy,g=_e(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",m_({},g,{className:Ie("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};gy.registerSymbol=SJ;function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function PJ(t,e,n){return e&&AJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IJ(t,e,n){return e=cm(e),OJ(t,M$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function OJ(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(t)}function CJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function kJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function Sf(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=RJ(t,"string");return Al(e)=="symbol"?e:e+""}function RJ(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,nE=function(t){function e(){return TJ(this,e),IJ(this,e,arguments)}return kJ(e,t),PJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=EJ({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(gy,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var w=p.formatter||l,v=Ie(Sf(Sf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=xe(p.value)?null:p.value;Ai(!xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return D.createElement("li",g_({className:v,style:f,key:"legend-item-".concat(g)},bf(r.props,p,g)),D.createElement(a_,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(N.PureComponent);Sf(nE,"displayName","Legend");Sf(nE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jJ=Zg;function NJ(){this.__data__=new jJ,this.size=0}var MJ=NJ;function DJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $J=DJ;function LJ(t){return this.__data__.get(t)}var VJ=LJ;function FJ(t){return this.__data__.has(t)}var BJ=FJ,UJ=Zg,zJ=WS,WJ=HS,HJ=200;function KJ(t,e){var n=this.__data__;if(n instanceof UJ){var r=n.__data__;if(!zJ||r.length<HJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new WJ(r)}return n.set(t,e),this.size=n.size,this}var qJ=KJ,GJ=Zg,XJ=MJ,YJ=$J,QJ=VJ,JJ=BJ,ZJ=qJ;function vu(t){var e=this.__data__=new GJ(t);this.size=e.size}vu.prototype.clear=XJ;vu.prototype.delete=YJ;vu.prototype.get=QJ;vu.prototype.has=JJ;vu.prototype.set=ZJ;var $$=vu,eZ="__lodash_hash_undefined__";function tZ(t){return this.__data__.set(t,eZ),this}var nZ=tZ;function rZ(t){return this.__data__.has(t)}var iZ=rZ,oZ=HS,sZ=nZ,aZ=iZ;function fm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oZ;++e<n;)this.add(t[e])}fm.prototype.add=fm.prototype.push=sZ;fm.prototype.has=aZ;var L$=fm;function lZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var V$=lZ;function uZ(t,e){return t.has(e)}var F$=uZ,cZ=L$,fZ=V$,hZ=F$,dZ=1,pZ=2;function mZ(t,e,n,r,i,o){var s=n&dZ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&pZ?new cZ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],w=e[f];if(r)var v=s?r(w,g,f,e,t,o):r(g,w,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!fZ(e,function(y,_){if(!hZ(p,_)&&(g===y||i(g,y,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(g===w||i(g,w,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var B$=mZ,gZ=li,yZ=gZ.Uint8Array,vZ=yZ;function wZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _Z=wZ;function bZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var rE=bZ,OI=Ph,CI=vZ,xZ=zS,SZ=B$,EZ=_Z,TZ=rE,AZ=1,PZ=2,IZ="[object Boolean]",OZ="[object Date]",CZ="[object Error]",kZ="[object Map]",RZ="[object Number]",jZ="[object RegExp]",NZ="[object Set]",MZ="[object String]",DZ="[object Symbol]",$Z="[object ArrayBuffer]",LZ="[object DataView]",kI=OI?OI.prototype:void 0,Jv=kI?kI.valueOf:void 0;function VZ(t,e,n,r,i,o,s){switch(n){case LZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $Z:return!(t.byteLength!=e.byteLength||!o(new CI(t),new CI(e)));case IZ:case OZ:case RZ:return xZ(+t,+e);case CZ:return t.name==e.name&&t.message==e.message;case jZ:case MZ:return t==e+"";case kZ:var a=EZ;case NZ:var l=r&AZ;if(a||(a=TZ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=PZ,s.set(t,e);var c=SZ(a(t),a(e),r,i,o,s);return s.delete(t),c;case DZ:if(Jv)return Jv.call(t)==Jv.call(e)}return!1}var FZ=VZ;function BZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var U$=BZ,UZ=U$,zZ=Vn;function WZ(t,e,n){var r=e(t);return zZ(t)?r:UZ(r,n(t))}var HZ=WZ;function KZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var qZ=KZ;function GZ(){return[]}var XZ=GZ,YZ=qZ,QZ=XZ,JZ=Object.prototype,ZZ=JZ.propertyIsEnumerable,RI=Object.getOwnPropertySymbols,eee=RI?function(t){return t==null?[]:(t=Object(t),YZ(RI(t),function(e){return ZZ.call(t,e)}))}:QZ,tee=eee;function nee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ree=nee,iee=qi,oee=Gi,see="[object Arguments]";function aee(t){return oee(t)&&iee(t)==see}var lee=aee,jI=lee,uee=Gi,z$=Object.prototype,cee=z$.hasOwnProperty,fee=z$.propertyIsEnumerable,hee=jI(function(){return arguments}())?jI:function(t){return uee(t)&&cee.call(t,"callee")&&!fee.call(t,"callee")},iE=hee,hm={exports:{}};function dee(){return!1}var pee=dee;hm.exports;(function(t,e){var n=li,r=pee,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(hm,hm.exports);var W$=hm.exports,mee=9007199254740991,gee=/^(?:0|[1-9]\d*)$/;function yee(t,e){var n=typeof t;return e=e??mee,!!e&&(n=="number"||n!="symbol"&&gee.test(t))&&t>-1&&t%1==0&&t<e}var oE=yee,vee=9007199254740991;function wee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vee}var sE=wee,_ee=qi,bee=sE,xee=Gi,See="[object Arguments]",Eee="[object Array]",Tee="[object Boolean]",Aee="[object Date]",Pee="[object Error]",Iee="[object Function]",Oee="[object Map]",Cee="[object Number]",kee="[object Object]",Ree="[object RegExp]",jee="[object Set]",Nee="[object String]",Mee="[object WeakMap]",Dee="[object ArrayBuffer]",$ee="[object DataView]",Lee="[object Float32Array]",Vee="[object Float64Array]",Fee="[object Int8Array]",Bee="[object Int16Array]",Uee="[object Int32Array]",zee="[object Uint8Array]",Wee="[object Uint8ClampedArray]",Hee="[object Uint16Array]",Kee="[object Uint32Array]",Xe={};Xe[Lee]=Xe[Vee]=Xe[Fee]=Xe[Bee]=Xe[Uee]=Xe[zee]=Xe[Wee]=Xe[Hee]=Xe[Kee]=!0;Xe[See]=Xe[Eee]=Xe[Dee]=Xe[Tee]=Xe[$ee]=Xe[Aee]=Xe[Pee]=Xe[Iee]=Xe[Oee]=Xe[Cee]=Xe[kee]=Xe[Ree]=Xe[jee]=Xe[Nee]=Xe[Mee]=!1;function qee(t){return xee(t)&&bee(t.length)&&!!Xe[_ee(t)]}var Gee=qee;function Xee(t){return function(e){return t(e)}}var H$=Xee,dm={exports:{}};dm.exports;(function(t,e){var n=J2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(dm,dm.exports);var Yee=dm.exports,Qee=Gee,Jee=H$,NI=Yee,MI=NI&&NI.isTypedArray,Zee=MI?Jee(MI):Qee,K$=Zee,ete=ree,tte=iE,nte=Vn,rte=W$,ite=oE,ote=K$,ste=Object.prototype,ate=ste.hasOwnProperty;function lte(t,e){var n=nte(t),r=!n&&tte(t),i=!n&&!r&&rte(t),o=!n&&!r&&!i&&ote(t),s=n||r||i||o,a=s?ete(t.length,String):[],l=a.length;for(var u in t)(e||ate.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ite(u,l)))&&a.push(u);return a}var ute=lte,cte=Object.prototype;function fte(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cte;return t===n}var hte=fte;function dte(t,e){return function(n){return t(e(n))}}var q$=dte,pte=q$,mte=pte(Object.keys,Object),gte=mte,yte=hte,vte=gte,wte=Object.prototype,_te=wte.hasOwnProperty;function bte(t){if(!yte(t))return vte(t);var e=[];for(var n in Object(t))_te.call(t,n)&&n!="constructor"&&e.push(n);return e}var xte=bte,Ste=US,Ete=sE;function Tte(t){return t!=null&&Ete(t.length)&&!Ste(t)}var Ih=Tte,Ate=ute,Pte=xte,Ite=Ih;function Ote(t){return Ite(t)?Ate(t):Pte(t)}var yy=Ote,Cte=HZ,kte=tee,Rte=yy;function jte(t){return Cte(t,Rte,kte)}var Nte=jte,DI=Nte,Mte=1,Dte=Object.prototype,$te=Dte.hasOwnProperty;function Lte(t,e,n,r,i,o){var s=n&Mte,a=DI(t),l=a.length,u=DI(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:$te.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var w=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){d=a[f];var y=t[d],_=e[d];if(r)var b=s?r(_,y,d,e,t,o):r(y,_,d,t,e,o);if(!(b===void 0?y===_||i(y,_,n,r,o):b)){w=!1;break}v||(v=d=="constructor")}if(w&&!v){var A=t.constructor,x=e.constructor;A!=x&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof x=="function"&&x instanceof x)&&(w=!1)}return o.delete(t),o.delete(e),w}var Vte=Lte,Fte=oa,Bte=li,Ute=Fte(Bte,"DataView"),zte=Ute,Wte=oa,Hte=li,Kte=Wte(Hte,"Promise"),qte=Kte,Gte=oa,Xte=li,Yte=Gte(Xte,"Set"),G$=Yte,Qte=oa,Jte=li,Zte=Qte(Jte,"WeakMap"),ene=Zte,v_=zte,w_=WS,__=qte,b_=G$,x_=ene,X$=qi,wu=e$,$I="[object Map]",tne="[object Object]",LI="[object Promise]",VI="[object Set]",FI="[object WeakMap]",BI="[object DataView]",nne=wu(v_),rne=wu(w_),ine=wu(__),one=wu(b_),sne=wu(x_),ds=X$;(v_&&ds(new v_(new ArrayBuffer(1)))!=BI||w_&&ds(new w_)!=$I||__&&ds(__.resolve())!=LI||b_&&ds(new b_)!=VI||x_&&ds(new x_)!=FI)&&(ds=function(t){var e=X$(t),n=e==tne?t.constructor:void 0,r=n?wu(n):"";if(r)switch(r){case nne:return BI;case rne:return $I;case ine:return LI;case one:return VI;case sne:return FI}return e});var ane=ds,Zv=$$,lne=B$,une=FZ,cne=Vte,UI=ane,zI=Vn,WI=W$,fne=K$,hne=1,HI="[object Arguments]",KI="[object Array]",Ed="[object Object]",dne=Object.prototype,qI=dne.hasOwnProperty;function pne(t,e,n,r,i,o){var s=zI(t),a=zI(e),l=s?KI:UI(t),u=a?KI:UI(e);l=l==HI?Ed:l,u=u==HI?Ed:u;var c=l==Ed,f=u==Ed,d=l==u;if(d&&WI(t)){if(!WI(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Zv),s||fne(t)?lne(t,e,n,r,i,o):une(t,e,l,n,r,i,o);if(!(n&hne)){var p=c&&qI.call(t,"__wrapped__"),g=f&&qI.call(e,"__wrapped__");if(p||g){var w=p?t.value():t,v=g?e.value():e;return o||(o=new Zv),i(w,v,n,r,o)}}return d?(o||(o=new Zv),cne(t,e,n,r,i,o)):!1}var mne=pne,gne=mne,GI=Gi;function Y$(t,e,n,r,i){return t===e?!0:t==null||e==null||!GI(t)&&!GI(e)?t!==t&&e!==e:gne(t,e,n,r,Y$,i)}var aE=Y$,yne=$$,vne=aE,wne=1,_ne=2;function bne(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new yne;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?vne(c,u,wne|_ne,r,f):d))return!1}}return!0}var xne=bne,Sne=Xo;function Ene(t){return t===t&&!Sne(t)}var Q$=Ene,Tne=Q$,Ane=yy;function Pne(t){for(var e=Ane(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Tne(i)]}return e}var Ine=Pne;function One(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var J$=One,Cne=xne,kne=Ine,Rne=J$;function jne(t){var e=kne(t);return e.length==1&&e[0][2]?Rne(e[0][0],e[0][1]):function(n){return n===t||Cne(n,t,e)}}var Nne=jne;function Mne(t,e){return t!=null&&e in Object(t)}var Dne=Mne,$ne=o$,Lne=iE,Vne=Vn,Fne=oE,Bne=sE,Une=ty;function zne(t,e,n){e=$ne(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Une(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Bne(i)&&Fne(s,i)&&(Vne(t)||Lne(t)))}var Wne=zne,Hne=Dne,Kne=Wne;function qne(t,e){return t!=null&&Kne(t,e,Hne)}var Gne=qne,Xne=aE,Yne=s$,Qne=Gne,Jne=BS,Zne=Q$,ere=J$,tre=ty,nre=1,rre=2;function ire(t,e){return Jne(t)&&Zne(e)?ere(tre(t),e):function(n){var r=Yne(n,t);return r===void 0&&r===e?Qne(n,t):Xne(e,r,nre|rre)}}var ore=ire;function sre(t){return t}var _u=sre;function are(t){return function(e){return e==null?void 0:e[t]}}var lre=are,ure=GS;function cre(t){return function(e){return ure(e,t)}}var fre=cre,hre=lre,dre=fre,pre=BS,mre=ty;function gre(t){return pre(t)?hre(mre(t)):dre(t)}var yre=gre,vre=Nne,wre=ore,_re=_u,bre=Vn,xre=yre;function Sre(t){return typeof t=="function"?t:t==null?_re:typeof t=="object"?bre(t)?wre(t[0],t[1]):vre(t):xre(t)}var Yo=Sre;function Ere(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Z$=Ere;function Tre(t){return t!==t}var Are=Tre;function Pre(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ire=Pre,Ore=Z$,Cre=Are,kre=Ire;function Rre(t,e,n){return e===e?kre(t,e,n):Ore(t,Cre,n)}var jre=Rre,Nre=jre;function Mre(t,e){var n=t==null?0:t.length;return!!n&&Nre(t,e,0)>-1}var Dre=Mre;function $re(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Lre=$re;function Vre(){}var Fre=Vre,e0=G$,Bre=Fre,Ure=rE,zre=1/0,Wre=e0&&1/Ure(new e0([,-0]))[1]==zre?function(t){return new e0(t)}:Bre,Hre=Wre,Kre=L$,qre=Dre,Gre=Lre,Xre=F$,Yre=Hre,Qre=rE,Jre=200;function Zre(t,e,n){var r=-1,i=qre,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Gre;else if(o>=Jre){var u=e?null:Yre(t);if(u)return Qre(u);s=!1,i=Xre,l=new Kre}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var eie=Zre,tie=Yo,nie=eie;function rie(t,e){return t&&t.length?nie(t,tie(e)):[]}var iie=rie;const XI=We(iie);function eL(t,e,n){return e===!0?XI(t,n):xe(e)?XI(t,e):t}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var oie=["ref"];function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nL(r.key),r)}}function aie(t,e,n){return e&&QI(t.prototype,e),n&&QI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lie(t,e,n){return e=pm(e),uie(t,tL()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function uie(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cie(t)}function cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function vy(t,e,n){return e=nL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nL(t){var e=hie(t,"string");return Pl(e)=="symbol"?e:e+""}function hie(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function die(t,e){if(t==null)return{};var n=pie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mie(t){return t.value}function gie(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=die(e,oie);return D.createElement(nE,n)}var JI=1,Rs=function(t){function e(){var n;sie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lie(this,e,[].concat(i)),vy(n,"lastBoundingBox",{width:-1,height:-1}),n}return fie(e,t),aie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>JI||Math.abs(i.height-this.lastBoundingBox.height)>JI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fi(fi({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=fi(fi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},gie(o,fi(fi({},this.props),{},{payload:eL(c,u,mie)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fi(fi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Z(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);vy(Rs,"displayName","Legend");vy(Rs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZI=Ph,yie=iE,vie=Vn,eO=ZI?ZI.isConcatSpreadable:void 0;function wie(t){return vie(t)||yie(t)||!!(eO&&t&&t[eO])}var _ie=wie,bie=U$,xie=_ie;function rL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=xie),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?rL(a,e-1,n,r,i):bie(i,a):r||(i[i.length]=a)}return i}var iL=rL;function Sie(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Eie=Sie,Tie=Eie,Aie=Tie(),Pie=Aie,Iie=Pie,Oie=yy;function Cie(t,e){return t&&Iie(t,e,Oie)}var oL=Cie,kie=Ih;function Rie(t,e){return function(n,r){if(n==null)return n;if(!kie(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var jie=Rie,Nie=oL,Mie=jie,Die=Mie(Nie),lE=Die,$ie=lE,Lie=Ih;function Vie(t,e){var n=-1,r=Lie(t)?Array(t.length):[];return $ie(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var sL=Vie;function Fie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Bie=Fie,tO=hu;function Uie(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=tO(t),s=e!==void 0,a=e===null,l=e===e,u=tO(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var zie=Uie,Wie=zie;function Hie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Wie(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Kie=Hie,t0=qS,qie=GS,Gie=Yo,Xie=sL,Yie=Bie,Qie=H$,Jie=Kie,Zie=_u,eoe=Vn;function toe(t,e,n){e.length?e=t0(e,function(o){return eoe(o)?function(s){return qie(s,o.length===1?o[0]:o)}:o}):e=[Zie];var r=-1;e=t0(e,Qie(Gie));var i=Xie(t,function(o,s,a){var l=t0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Yie(i,function(o,s){return Jie(o,s,n)})}var noe=toe;function roe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ioe=roe,ooe=ioe,nO=Math.max;function soe(t,e,n){return e=nO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=nO(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ooe(t,this,a)}}var aoe=soe;function loe(t){return function(){return t}}var uoe=loe,coe=oa,foe=function(){try{var t=coe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aL=foe,hoe=uoe,rO=aL,doe=_u,poe=rO?function(t,e){return rO(t,"toString",{configurable:!0,enumerable:!1,value:hoe(e),writable:!0})}:doe,moe=poe,goe=800,yoe=16,voe=Date.now;function woe(t){var e=0,n=0;return function(){var r=voe(),i=yoe-(r-n);if(n=r,i>0){if(++e>=goe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _oe=woe,boe=moe,xoe=_oe,Soe=xoe(boe),Eoe=Soe,Toe=_u,Aoe=aoe,Poe=Eoe;function Ioe(t,e){return Poe(Aoe(t,e,Toe),t+"")}var Ooe=Ioe,Coe=zS,koe=Ih,Roe=oE,joe=Xo;function Noe(t,e,n){if(!joe(n))return!1;var r=typeof e;return(r=="number"?koe(n)&&Roe(e,n.length):r=="string"&&e in n)?Coe(n[e],t):!1}var wy=Noe,Moe=iL,Doe=noe,$oe=Ooe,iO=wy,Loe=$oe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&iO(t,e[0],e[1])?e=[]:n>2&&iO(e[0],e[1],e[2])&&(e=[e[0]]),Doe(t,Moe(e,1),[])}),Voe=Loe;const uE=We(Voe);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function Foe(t,e){return Woe(t)||zoe(t,e)||Uoe(t,e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(t,e){if(t){if(typeof t=="string")return oO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Woe(t){if(Array.isArray(t))return t}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return e=Koe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=qoe(t,"string");return Ef(e)=="symbol"?e:e+""}function qoe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Goe(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var lL=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,w=e.label,v=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,b=function(){if(c&&c.length){var j={padding:0,margin:0},R=(d?uE(c,d):c).map(function(F,V){if(F.type==="none")return null;var W=n0({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),z=F.formatter||f||Goe,$=F.value,B=F.name,G=$,te=B;if(z&&G!=null&&te!=null){var Y=z($,B,F,V,c);if(Array.isArray(Y)){var ne=Foe(Y,2);G=ne[0],te=ne[1]}else G=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:W},Dt(te)?D.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Dt(te)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:j},R)}return null},A=n0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=n0({margin:0},u),I=!ve(w),E=I?w:"",T=Ie("recharts-default-tooltip",p),P=Ie("recharts-tooltip-label",g);I&&v&&c!==void 0&&c!==null&&(E=v(w,c));var C=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",E_({className:T,style:A},C),D.createElement("p",{className:P,style:x},D.isValidElement(E)?E:"".concat(E)),b())};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Td(t,e,n){return e=Xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Yoe(t,"string");return Tf(e)=="symbol"?e:e+""}function Yoe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",Qoe={visibility:"hidden"};function Joe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ie(Qu,Td(Td(Td(Td({},"".concat(Qu,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(Qu,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(Qu,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(Qu,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function aO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Z(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+a,w=l[r]+u;return g>w?Math.max(c,l[r]):Math.max(f,l[r])}function Zoe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ese(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=aO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=aO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Zoe({translateX:c,translateY:f,useTranslate3d:a})):u=Qoe,{cssProperties:u,cssClasses:Joe({translateX:c,translateY:f,coordinate:n})}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function rse(t,e,n){return e&&nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ise(t,e,n){return e=mm(e),ose(t,uL()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function ose(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(t)}function sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function A_(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=lse(t,"string");return Il(e)=="symbol"?e:e+""}function lse(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cO=1,use=function(t){function e(){var n;tse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ise(this,e,[].concat(i)),A_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),A_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ase(e,t),rse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>cO||Math.abs(r.height-this.state.lastBoundingBox.height)>cO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,g=i.position,w=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,b=ese({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),A=b.cssClasses,x=b.cssProperties,I=uO(uO({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:A,style:I,ref:function(T){r.wrapperNode=T}},u)}}])}(N.PureComponent),cse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qo={isSsr:cse()};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function dse(t,e,n){return e&&hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pse(t,e,n){return e=gm(e),mse(t,fL()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function mse(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(t)}function gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function cE(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=vse(t,"string");return Ol(e)=="symbol"?e:e+""}function vse(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wse(t){return t.dataKey}function _se(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(lL,e)}var En=function(t){function e(){return fse(this,e),pse(this,e,arguments)}return yse(e,t),dse(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,g=i.payload,w=i.payloadUniqBy,v=i.position,y=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,A=i.wrapperStyle,x=g??[];f&&x.length&&(x=eL(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),w,wse));var I=x.length>0;return D.createElement(use,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:I,offset:p,position:v,reverseDirection:y,useTranslate3d:_,viewBox:b,wrapperStyle:A},_se(u,hO(hO({},this.props),{},{payload:x})))}}])}(N.PureComponent);cE(En,"displayName","Tooltip");cE(En,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bse=li,xse=function(){return bse.Date.now()},Sse=xse,Ese=/\s/;function Tse(t){for(var e=t.length;e--&&Ese.test(t.charAt(e)););return e}var Ase=Tse,Pse=Ase,Ise=/^\s+/;function Ose(t){return t&&t.slice(0,Pse(t)+1).replace(Ise,"")}var Cse=Ose,kse=Cse,dO=Xo,Rse=hu,pO=NaN,jse=/^[-+]0x[0-9a-f]+$/i,Nse=/^0b[01]+$/i,Mse=/^0o[0-7]+$/i,Dse=parseInt;function $se(t){if(typeof t=="number")return t;if(Rse(t))return pO;if(dO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kse(t);var n=Nse.test(t);return n||Mse.test(t)?Dse(t.slice(2),n?2:8):jse.test(t)?pO:+t}var dL=$se,Lse=Xo,r0=Sse,mO=dL,Vse="Expected a function",Fse=Math.max,Bse=Math.min;function Use(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Vse);e=mO(e)||0,Lse(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Fse(mO(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(I){var E=r,T=i;return r=i=void 0,u=I,s=t.apply(T,E),s}function g(I){return u=I,a=setTimeout(y,e),c?p(I):s}function w(I){var E=I-l,T=I-u,P=e-E;return f?Bse(P,o-T):P}function v(I){var E=I-l,T=I-u;return l===void 0||E>=e||E<0||f&&T>=o}function y(){var I=r0();if(v(I))return _(I);a=setTimeout(y,w(I))}function _(I){return a=void 0,d&&r?p(I):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function A(){return a===void 0?s:_(r0())}function x(){var I=r0(),E=v(I);if(r=arguments,i=this,l=I,E){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),s}return x.cancel=b,x.flush=A,x}var zse=Use,Wse=zse,Hse=Xo,Kse="Expected a function";function qse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Kse);return Hse(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wse(t,e,{leading:r,maxWait:e,trailing:i})}var Gse=qse;const pL=We(Gse);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Qse(t,"string");return Af(e)=="symbol"?e:e+""}function Qse(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jse(t,e){return nae(t)||tae(t,e)||eae(t,e)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){if(t){if(typeof t=="string")return yO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yO(t,e)}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nae(t){if(Array.isArray(t))return t}var Cl=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,g=t.debounce,w=g===void 0?0:g,v=t.id,y=t.className,_=t.onResize,b=t.style,A=b===void 0?{}:b,x=N.useRef(null),I=N.useRef();I.current=_,N.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var E=N.useState({containerWidth:i.width,containerHeight:i.height}),T=Jse(E,2),P=T[0],C=T[1],k=N.useCallback(function(R,F){C(function(V){var W=Math.round(R),z=Math.round(F);return V.containerWidth===W&&V.containerHeight===z?V:{containerWidth:W,containerHeight:z}})},[]);N.useEffect(function(){var R=function(B){var G,te=B[0].contentRect,Y=te.width,ne=te.height;k(Y,ne),(G=I.current)===null||G===void 0||G.call(I,Y,ne)};w>0&&(R=pL(R,w,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),V=x.current.getBoundingClientRect(),W=V.width,z=V.height;return k(W,z),F.observe(x.current),function(){F.disconnect()}},[k,w]);var j=N.useMemo(function(){var R=P.containerWidth,F=P.containerHeight;if(R<0||F<0)return null;Ai(bs(s)||bs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ai(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=bs(s)?R:s,W=bs(l)?F:l;n&&n>0&&(V?W=V/n:W&&(V=W*n),d&&W>d&&(W=d)),Ai(V>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,W,s,l,c,f,n);var z=!Array.isArray(p)&&Ti(p.type).endsWith("Chart");return D.Children.map(p,function($){return D.isValidElement($)?N.cloneElement($,Ad({width:V,height:W},z?{style:Ad({height:"100%",width:"100%",maxHeight:W,maxWidth:V},$.props.style)}:{})):$})},[n,p,l,d,f,c,P,s]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Ie("recharts-responsive-container",y),style:Ad(Ad({},A),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:x},j)}),fE=function(e){return null};fE.displayName="Cell";function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=oae(t,"string");return Pf(e)=="symbol"?e:e+""}function oae(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var va={widthCache:{},cacheCount:0},sae=2e3,aae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wO="recharts_measurement_span";function lae(t){var e=I_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Mc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qo.isSsr)return{width:0,height:0};var r=lae(n),i=JSON.stringify({text:e,copyStyle:r});if(va.widthCache[i])return va.widthCache[i];try{var o=document.getElementById(wO);o||(o=document.createElement("span"),o.setAttribute("id",wO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=I_(I_({},aae),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return va.widthCache[i]=l,++va.cacheCount>sae&&(va.cacheCount=0,va.widthCache={}),l}catch{return{width:0,height:0}}},uae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function ym(t,e){return dae(t)||hae(t,e)||fae(t,e)||cae()}function cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function dae(t){if(Array.isArray(t))return t}function pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gae(r.key),r)}}function mae(t,e,n){return e&&bO(t.prototype,e),n&&bO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gae(t){var e=yae(t,"string");return If(e)=="symbol"?e:e+""}function yae(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_ae=Object.keys(mL),Va="NaN";function bae(t,e){return t*mL[e]}var Pd=function(){function t(e,n){pae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!vae.test(n)&&(this.num=NaN,this.unit=""),_ae.includes(n)&&(this.num=bae(e,n),this.unit="px")}return mae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wae.exec(n))!==null&&r!==void 0?r:[],o=ym(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function gL(t){if(t.includes(Va))return Va;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=xO.exec(e))!==null&&n!==void 0?n:[],i=ym(r,4),o=i[1],s=i[2],a=i[3],l=Pd.parse(o??""),u=Pd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Va;e=e.replace(xO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=SO.exec(e))!==null&&f!==void 0?f:[],p=ym(d,4),g=p[1],w=p[2],v=p[3],y=Pd.parse(g??""),_=Pd.parse(v??""),b=w==="+"?y.add(_):y.subtract(_);if(b.isNaN())return Va;e=e.replace(SO,b.toString())}return e}var EO=/\(([^()]*)\)/;function xae(t){for(var e=t;e.includes("(");){var n=EO.exec(e),r=ym(n,2),i=r[1];e=e.replace(EO,gL(i))}return e}function Sae(t){var e=t.replace(/\s+/g,"");return e=xae(e),e=gL(e),e}function Eae(t){try{return Sae(t)}catch{return Va}}function i0(t){var e=Eae(t.slice(5,-1));return e===Va?"":e}var Tae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Aae=["dx","dy","angle","className","breakAll"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function TO(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AO(t,e){return kae(t)||Cae(t,e)||Oae(t,e)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kae(t){if(Array.isArray(t))return t}var yL=/[ \f\n\r\t\v\u2028\u2029]+/,vL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(yL));var s=o.map(function(l){return{word:l,width:Mc(l,i).width}}),a=r?0:Mc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Rae=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=Z(s),f=a,d=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(W,z){var $=z.word,B=z.width,G=W[W.length-1];if(G&&(i==null||o||G.width+B+r<Number(i)))G.words.push($),G.width+=B+r;else{var te={words:[$],width:B};W.push(te)}return W},[])},p=d(n),g=function(V){return V.reduce(function(W,z){return W.width>z.width?W:z})};if(!c)return p;for(var w="",v=function(V){var W=f.slice(0,V),z=vL({breakAll:u,style:l,children:W+w}).wordsWithComputedWidth,$=d(z),B=$.length>s||g($).width>Number(i);return[B,$]},y=0,_=f.length-1,b=0,A;y<=_&&b<=f.length-1;){var x=Math.floor((y+_)/2),I=x-1,E=v(I),T=AO(E,2),P=T[0],C=T[1],k=v(x),j=AO(k,1),R=j[0];if(!P&&!R&&(y=x+1),P&&R&&(_=x-1),!P&&R){A=C;break}b++}return A||p},IO=function(e){var n=ve(e)?[]:e.toString().split(yL);return[{words:n}]},jae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Qo.isSsr){var l,u,c=vL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return IO(i);return Rae({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return IO(i)},OO="#808080",vm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,g=e.verticalAnchor,w=g===void 0?"end":g,v=e.fill,y=v===void 0?OO:v,_=TO(e,Tae),b=N.useMemo(function(){return jae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),A=_.dx,x=_.dy,I=_.angle,E=_.className,T=_.breakAll,P=TO(_,Aae);if(!Dt(r)||!Dt(o))return null;var C=r+(Z(A)?A:0),k=o+(Z(x)?x:0),j;switch(w){case"start":j=i0("calc(".concat(u,")"));break;case"middle":j=i0("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:j=i0("calc(".concat(b.length-1," * -").concat(a,")"));break}var R=[];if(f){var F=b[0].width,V=_.width;R.push("scale(".concat((Z(V)?V/F:1)/F,")"))}return I&&R.push("rotate(".concat(I,", ").concat(C,", ").concat(k,")")),R.length&&(P.transform=R.join(" ")),D.createElement("text",O_({},_e(P,!0),{x:C,y:k,className:Ie("recharts-text",E),textAnchor:p,fill:y.includes("url")?OO:y}),b.map(function(W,z){var $=W.words.join(T?"":" ");return D.createElement("tspan",{x:C,dy:z===0?j:a,key:"".concat($,"-").concat(z)},$)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hE(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===Nae?t:Mae,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Mae(){return 0}function wL(t){return t===null?NaN:+t}function*Dae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $ae=hE(No),Oh=$ae.right;hE(wL).center;class CO extends Map{constructor(e,n=Fae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kO(this,e))}has(e){return super.has(kO(this,e))}set(e,n){return super.set(Lae(this,e),n)}delete(e){return super.delete(Vae(this,e))}}function kO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Lae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bae(t=No){if(t===No)return _L;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _L(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Uae=Math.sqrt(50),zae=Math.sqrt(10),Wae=Math.sqrt(2);function wm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Uae?10:o>=zae?5:o>=Wae?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?wm(t,e,n*2):[a,l,u]}function C_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?wm(e,t,n):wm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function k_(t,e,n){return e=+e,t=+t,n=+n,wm(t,e,n)[2]}function R_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?k_(e,t,n):k_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_L:Bae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),g=Math.min(r,Math.floor(e+(l-u)*f/l+d));bL(t,e,p,g,i)}const o=t[e];let s=n,a=r;for(Ju(t,n,e),i(t[r],o)>0&&Ju(t,n,r);s<a;){for(Ju(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Ju(t,n,a):(++a,Ju(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Ju(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hae(t,e,n){if(t=Float64Array.from(Dae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jO(t);if(e>=1)return RO(t);var r,i=(r-1)*e,o=Math.floor(i),s=RO(bL(t,o).subarray(0,o+1)),a=jO(t.subarray(o+1));return s+(a-s)*(i-o)}}function Kae(t,e,n=wL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function qae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const j_=Symbol("implicit");function dE(){var t=new CO,e=[],n=[],r=j_;function i(o){let s=t.get(o);if(s===void 0){if(r!==j_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new CO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return dE(e,n).unknown(r)},vr.apply(i,arguments),i}function Of(){var t=dE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,g=p?i:r,w=p?r:i;o=(w-g)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),g+=(w-g-o*(d-l))*c,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var v=qae(d).map(function(y){return g+o*y});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Of(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},vr.apply(f(),arguments)}function xL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xL(e())},t}function Dc(){return xL(Of.apply(null,arguments).paddingInner(1))}function pE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ch(){}var Cf=.7,_m=1/Cf,ll="\\s*([+-]?\\d+)\\s*",kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gae=/^#([0-9a-f]{3,8})$/,Xae=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),Yae=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),Qae=new RegExp(`^rgba\\(${ll},${ll},${ll},${kf}\\)$`),Jae=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${kf}\\)$`),Zae=new RegExp(`^hsl\\(${kf},${Jr},${Jr}\\)$`),ele=new RegExp(`^hsla\\(${kf},${Jr},${Jr},${kf}\\)$`),NO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pE(Ch,Rf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MO,formatHex:MO,formatHex8:tle,formatHsl:nle,formatRgb:DO,toString:DO});function MO(){return this.rgb().formatHex()}function tle(){return this.rgb().formatHex8()}function nle(){return EL(this).formatHsl()}function DO(){return this.rgb().formatRgb()}function Rf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$O(e):n===3?new jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Id(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Id(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xae.exec(t))?new jn(e[1],e[2],e[3],1):(e=Yae.exec(t))?new jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qae.exec(t))?Id(e[1],e[2],e[3],e[4]):(e=Jae.exec(t))?Id(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zae.exec(t))?FO(e[1],e[2]/100,e[3]/100,1):(e=ele.exec(t))?FO(e[1],e[2]/100,e[3]/100,e[4]):NO.hasOwnProperty(t)?$O(NO[t]):t==="transparent"?new jn(NaN,NaN,NaN,0):null}function $O(t){return new jn(t>>16&255,t>>8&255,t&255,1)}function Id(t,e,n,r){return r<=0&&(t=e=n=NaN),new jn(t,e,n,r)}function rle(t){return t instanceof Ch||(t=Rf(t)),t?(t=t.rgb(),new jn(t.r,t.g,t.b,t.opacity)):new jn}function N_(t,e,n,r){return arguments.length===1?rle(t):new jn(t,e,n,r??1)}function jn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pE(jn,N_,SL(Ch,{brighter(t){return t=t==null?_m:Math.pow(_m,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cf:Math.pow(Cf,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jn(js(this.r),js(this.g),js(this.b),bm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LO,formatHex:LO,formatHex8:ile,formatRgb:VO,toString:VO}));function LO(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}`}function ile(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}${xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function VO(){const t=bm(this.opacity);return`${t===1?"rgb(":"rgba("}${js(this.r)}, ${js(this.g)}, ${js(this.b)}${t===1?")":`, ${t})`}`}function bm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function js(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xs(t){return t=js(t),(t<16?"0":"")+t.toString(16)}function FO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Or(t,e,n,r)}function EL(t){if(t instanceof Or)return new Or(t.h,t.s,t.l,t.opacity);if(t instanceof Ch||(t=Rf(t)),!t)return new Or;if(t instanceof Or)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Or(s,a,l,t.opacity)}function ole(t,e,n,r){return arguments.length===1?EL(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pE(Or,ole,SL(Ch,{brighter(t){return t=t==null?_m:Math.pow(_m,t),new Or(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cf:Math.pow(Cf,t),new Or(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jn(o0(t>=240?t-240:t+120,i,r),o0(t,i,r),o0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Or(BO(this.h),Od(this.s),Od(this.l),bm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bm(this.opacity);return`${t===1?"hsl(":"hsla("}${BO(this.h)}, ${Od(this.s)*100}%, ${Od(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BO(t){return t=(t||0)%360,t<0?t+360:t}function Od(t){return Math.max(0,Math.min(1,t||0))}function o0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mE=t=>()=>t;function sle(t,e){return function(n){return t+n*e}}function ale(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lle(t){return(t=+t)==1?TL:function(e,n){return n-e?ale(e,n,t):mE(isNaN(e)?n:e)}}function TL(t,e){var n=e-t;return n?sle(t,n):mE(isNaN(t)?e:t)}const UO=function t(e){var n=lle(e);function r(i,o){var s=n((i=N_(i)).r,(o=N_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=TL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ule(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function cle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=bu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function hle(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var M_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s0=new RegExp(M_.source,"g");function ple(t){return function(){return t}}function mle(t){return function(e){return t(e)+""}}function gle(t,e){var n=M_.lastIndex=s0.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=M_.exec(t))&&(i=s0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:xm(r,i)})),n=s0.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?mle(l[0].x):ple(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function bu(t,e){var n=typeof e,r;return e==null||n==="boolean"?mE(e):(n==="number"?xm:n==="string"?(r=Rf(e))?(e=r,UO):gle:e instanceof Rf?UO:e instanceof Date?hle:cle(e)?ule:Array.isArray(e)?fle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dle:xm)(t,e)}function gE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yle(t,e){e===void 0&&(e=t,t=bu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function vle(t){return function(){return t}}function Sm(t){return+t}var zO=[0,1];function An(t){return t}function D_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vle(isNaN(e)?NaN:.5)}function wle(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _le(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=D_(i,r),o=n(s,o)):(r=D_(r,i),o=n(o,s)),function(a){return o(r(a))}}function ble(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=D_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Oh(t,a,1,r)-1;return o[l](i[l](a))}}function kh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _y(){var t=zO,e=zO,n=bu,r,i,o,s=An,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==An&&(s=wle(t[0],t[d-1])),a=d>2?ble:_le,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),xm)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Sm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=gE,c()},f.clamp=function(d){return arguments.length?(s=d?!0:An,c()):s!==An},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function yE(){return _y()(An,An)}function xle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Em(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kl(t){return t=Em(Math.abs(t)),t?t[1]:NaN}function Sle(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Ele(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jf(t){if(!(e=Tle.exec(t)))throw new Error("invalid format: "+t);var e;return new vE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jf.prototype=vE.prototype;function vE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ale(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var AL;function Ple(t,e){var n=Em(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(AL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Em(t,Math.max(0,e+o-1))[0]}function WO(t,e){var n=Em(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WO(t*100,e),r:WO,s:Ple,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KO(t){return t}var qO=Array.prototype.map,GO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ile(t){var e=t.grouping===void 0||t.thousands===void 0?KO:Sle(qO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?KO:Ele(qO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=jf(f);var d=f.fill,p=f.align,g=f.sign,w=f.symbol,v=f.zero,y=f.width,_=f.comma,b=f.precision,A=f.trim,x=f.type;x==="n"?(_=!0,x="g"):HO[x]||(b===void 0&&(b=12),A=!0,x="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",E=w==="$"?r:/[%p]/.test(x)?s:"",T=HO[x],P=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(k){var j=I,R=E,F,V,W;if(x==="c")R=T(k)+R,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),b),A&&(k=Ale(k)),z&&+k==0&&g!=="+"&&(z=!1),j=(z?g==="("?g:a:g==="-"||g==="("?"":g)+j,R=(x==="s"?GO[8+AL/3]:"")+R+(z&&g==="("?")":""),P){for(F=-1,V=k.length;++F<V;)if(W=k.charCodeAt(F),48>W||W>57){R=(W===46?i+k.slice(F+1):k.slice(F))+R,k=k.slice(0,F);break}}}_&&!v&&(k=e(k,1/0));var $=j.length+k.length+R.length,B=$<y?new Array(y-$+1).join(d):"";switch(_&&v&&(k=e(B+k,B.length?y-R.length:1/0),B=""),p){case"<":k=j+k+R+B;break;case"=":k=j+B+k+R;break;case"^":k=B.slice(0,$=B.length>>1)+j+k+R+B.slice($);break;default:k=B+j+k+R;break}return o(k)}return C.toString=function(){return f+""},C}function c(f,d){var p=u((f=jf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(kl(d)/3)))*3,w=Math.pow(10,-g),v=GO[8+g/3];return function(y){return p(w*y)+v}}return{format:u,formatPrefix:c}}var Cd,wE,PL;Ole({thousands:",",grouping:[3],currency:["$",""]});function Ole(t){return Cd=Ile(t),wE=Cd.format,PL=Cd.formatPrefix,Cd}function Cle(t){return Math.max(0,-kl(Math.abs(t)))}function kle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kl(e)/3)))*3-kl(Math.abs(t)))}function Rle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kl(e)-kl(t))+1}function IL(t,e,n,r){var i=R_(t,e,n),o;switch(r=jf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=kle(i,s))&&(r.precision=o),PL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rle(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cle(i))&&(r.precision=o-(r.type==="%")*2);break}}return wE(r)}function Jo(t){var e=t.domain;return t.ticks=function(n){var r=e();return C_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return IL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=k_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Tm(){var t=yE();return t.copy=function(){return kh(t,Tm())},vr.apply(t,arguments),Jo(t)}function OL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OL(t).unknown(e)},t=arguments.length?Array.from(t,Sm):[0,1],Jo(n)}function CL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function XO(t){return Math.log(t)}function YO(t){return Math.exp(t)}function jle(t){return-Math.log(-t)}function Nle(t){return-Math.exp(-t)}function Mle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dle(t){return t===10?Mle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $le(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QO(t){return(e,n)=>-t(-e,n)}function _E(t){const e=t(XO,YO),n=e.domain;let r=10,i,o;function s(){return i=$le(r),o=Dle(r),n()[0]<0?(i=QO(i),o=QO(o),t(jle,Nle)):t(XO,YO),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),g,w;const v=a==null?10:+a;let y=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(w=d<0?g/o(-d):g*o(d),!(w<u)){if(w>c)break;y.push(w)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(w=d>0?g/o(-d):g*o(d),!(w<u)){if(w>c)break;y.push(w)}y.length*2<v&&(y=C_(u,c,v))}else y=C_(d,p,Math.min(p-d,v)).map(o);return f?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=jf(l)).precision==null&&(l.trim=!0),l=wE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(CL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function kL(){const t=_E(_y()).domain([1,10]);return t.copy=()=>kh(t,kL()).base(t.base()),vr.apply(t,arguments),t}function JO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bE(t){var e=1,n=t(JO(e),ZO(e));return n.constant=function(r){return arguments.length?t(JO(e=+r),ZO(e)):e},Jo(n)}function RL(){var t=bE(_y());return t.copy=function(){return kh(t,RL()).constant(t.constant())},vr.apply(t,arguments)}function eC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Lle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vle(t){return t<0?-t*t:t*t}function xE(t){var e=t(An,An),n=1;function r(){return n===1?t(An,An):n===.5?t(Lle,Vle):t(eC(n),eC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Jo(e)}function SE(){var t=xE(_y());return t.copy=function(){return kh(t,SE()).exponent(t.exponent())},vr.apply(t,arguments),t}function Fle(){return SE.apply(null,arguments).exponent(.5)}function tC(t){return Math.sign(t)*t*t}function Ble(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jL(){var t=yE(),e=[0,1],n=!1,r;function i(o){var s=Ble(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(tC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sm)).map(tC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),Jo(i)}function NL(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Kae(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Oh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return NL().domain(t).range(e).unknown(r)},vr.apply(o,arguments)}function ML(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Oh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ML().domain([t,e]).range(i).unknown(o)},vr.apply(Jo(s),arguments)}function DL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Oh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return DL().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const a0=new Date,l0=new Date;function Vt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Vt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(a0.setTime(+o),l0.setTime(+s),t(a0),t(l0),Math.floor(n(a0,l0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Am=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Am.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Am);Am.range;const wi=1e3,cr=wi*60,_i=cr*60,Li=_i*24,EE=Li*7,nC=Li*30,u0=Li*365,Ss=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCSeconds());Ss.range;const TE=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi)},(t,e)=>{t.setTime(+t+e*cr)},(t,e)=>(e-t)/cr,t=>t.getMinutes());TE.range;const AE=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*cr)},(t,e)=>(e-t)/cr,t=>t.getUTCMinutes());AE.range;const PE=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi-t.getMinutes()*cr)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());PE.range;const IE=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());IE.range;const Rh=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*cr)/Li,t=>t.getDate()-1);Rh.range;const by=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);by.range;const $L=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));$L.range;function aa(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*cr)/EE)}const xy=aa(0),Pm=aa(1),Ule=aa(2),zle=aa(3),Rl=aa(4),Wle=aa(5),Hle=aa(6);xy.range;Pm.range;Ule.range;zle.range;Rl.range;Wle.range;Hle.range;function la(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/EE)}const Sy=la(0),Im=la(1),Kle=la(2),qle=la(3),jl=la(4),Gle=la(5),Xle=la(6);Sy.range;Im.range;Kle.range;qle.range;jl.range;Gle.range;Xle.range;const OE=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OE.range;const CE=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CE.range;const Vi=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vi.range;const Fi=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fi.range;function LL(t,e,n,r,i,o){const s=[[Ss,1,wi],[Ss,5,5*wi],[Ss,15,15*wi],[Ss,30,30*wi],[o,1,cr],[o,5,5*cr],[o,15,15*cr],[o,30,30*cr],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Li],[r,2,2*Li],[n,1,EE],[e,1,nC],[e,3,3*nC],[t,1,u0]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,f){const d=Math.abs(c-u)/f,p=hE(([,,v])=>v).right(s,d);if(p===s.length)return t.every(R_(u/u0,c/u0,f));if(p===0)return Am.every(Math.max(R_(u,c,f),1));const[g,w]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return g.every(w)}return[a,l]}const[Yle,Qle]=LL(Fi,CE,Sy,$L,IE,AE),[Jle,Zle]=LL(Vi,OE,xy,Rh,PE,TE);function c0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function f0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function eue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=ec(i),c=tc(i),f=ec(o),d=tc(o),p=ec(s),g=tc(s),w=ec(a),v=tc(a),y=ec(l),_=tc(l),b={a:z,A:$,b:B,B:G,c:null,d:lC,e:lC,f:Sue,g:jue,G:Mue,H:_ue,I:bue,j:xue,L:VL,m:Eue,M:Tue,p:te,q:Y,Q:fC,s:hC,S:Aue,u:Pue,U:Iue,V:Oue,w:Cue,W:kue,x:null,X:null,y:Rue,Y:Nue,Z:Due,"%":cC},A={a:ne,A:Se,b:Ae,B:Fe,c:null,d:uC,e:uC,f:Fue,g:Yue,G:Jue,H:$ue,I:Lue,j:Vue,L:BL,m:Bue,M:Uue,p:it,q:_t,Q:fC,s:hC,S:zue,u:Wue,U:Hue,V:Kue,w:que,W:Gue,x:null,X:null,y:Xue,Y:Que,Z:Zue,"%":cC},x={a:C,A:k,b:j,B:R,c:F,d:sC,e:sC,f:gue,g:oC,G:iC,H:aC,I:aC,j:hue,L:mue,m:fue,M:due,p:P,q:cue,Q:vue,s:wue,S:pue,u:oue,U:sue,V:aue,w:iue,W:lue,x:V,X:W,y:oC,Y:iC,Z:uue,"%":yue};b.x=I(n,b),b.X=I(r,b),b.c=I(e,b),A.x=I(n,A),A.X=I(r,A),A.c=I(e,A);function I(re,oe){return function(le){var q=[],Ee=-1,K=0,ie=re.length,fe,ge,ot;for(le instanceof Date||(le=new Date(+le));++Ee<ie;)re.charCodeAt(Ee)===37&&(q.push(re.slice(K,Ee)),(ge=rC[fe=re.charAt(++Ee)])!=null?fe=re.charAt(++Ee):ge=fe==="e"?" ":"0",(ot=oe[fe])&&(fe=ot(le,ge)),q.push(fe),K=Ee+1);return q.push(re.slice(K,Ee)),q.join("")}}function E(re,oe){return function(le){var q=Zu(1900,void 0,1),Ee=T(q,re,le+="",0),K,ie;if(Ee!=le.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(oe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(K=f0(Zu(q.y,0,1)),ie=K.getUTCDay(),K=ie>4||ie===0?Im.ceil(K):Im(K),K=by.offset(K,(q.V-1)*7),q.y=K.getUTCFullYear(),q.m=K.getUTCMonth(),q.d=K.getUTCDate()+(q.w+6)%7):(K=c0(Zu(q.y,0,1)),ie=K.getDay(),K=ie>4||ie===0?Pm.ceil(K):Pm(K),K=Rh.offset(K,(q.V-1)*7),q.y=K.getFullYear(),q.m=K.getMonth(),q.d=K.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ie="Z"in q?f0(Zu(q.y,0,1)).getUTCDay():c0(Zu(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ie+5)%7:q.w+q.U*7-(ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,f0(q)):c0(q)}}function T(re,oe,le,q){for(var Ee=0,K=oe.length,ie=le.length,fe,ge;Ee<K;){if(q>=ie)return-1;if(fe=oe.charCodeAt(Ee++),fe===37){if(fe=oe.charAt(Ee++),ge=x[fe in rC?oe.charAt(Ee++):fe],!ge||(q=ge(re,le,q))<0)return-1}else if(fe!=le.charCodeAt(q++))return-1}return q}function P(re,oe,le){var q=u.exec(oe.slice(le));return q?(re.p=c.get(q[0].toLowerCase()),le+q[0].length):-1}function C(re,oe,le){var q=p.exec(oe.slice(le));return q?(re.w=g.get(q[0].toLowerCase()),le+q[0].length):-1}function k(re,oe,le){var q=f.exec(oe.slice(le));return q?(re.w=d.get(q[0].toLowerCase()),le+q[0].length):-1}function j(re,oe,le){var q=y.exec(oe.slice(le));return q?(re.m=_.get(q[0].toLowerCase()),le+q[0].length):-1}function R(re,oe,le){var q=w.exec(oe.slice(le));return q?(re.m=v.get(q[0].toLowerCase()),le+q[0].length):-1}function F(re,oe,le){return T(re,e,oe,le)}function V(re,oe,le){return T(re,n,oe,le)}function W(re,oe,le){return T(re,r,oe,le)}function z(re){return s[re.getDay()]}function $(re){return o[re.getDay()]}function B(re){return l[re.getMonth()]}function G(re){return a[re.getMonth()]}function te(re){return i[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function ne(re){return s[re.getUTCDay()]}function Se(re){return o[re.getUTCDay()]}function Ae(re){return l[re.getUTCMonth()]}function Fe(re){return a[re.getUTCMonth()]}function it(re){return i[+(re.getUTCHours()>=12)]}function _t(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var oe=I(re+="",b);return oe.toString=function(){return re},oe},parse:function(re){var oe=E(re+="",!1);return oe.toString=function(){return re},oe},utcFormat:function(re){var oe=I(re+="",A);return oe.toString=function(){return re},oe},utcParse:function(re){var oe=E(re+="",!0);return oe.toString=function(){return re},oe}}}var rC={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,tue=/^%/,nue=/[\\^$*+?|[\]().{}]/g;function Ne(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function rue(t){return t.replace(nue,"\\$&")}function ec(t){return new RegExp("^(?:"+t.map(rue).join("|")+")","i")}function tc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function iue(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oue(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sue(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function aue(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lue(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iC(t,e,n){var r=Kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oC(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cue(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fue(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sC(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hue(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aC(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function due(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pue(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mue(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gue(t,e,n){var r=Kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yue(t,e,n){var r=tue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vue(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wue(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lC(t,e){return Ne(t.getDate(),e,2)}function _ue(t,e){return Ne(t.getHours(),e,2)}function bue(t,e){return Ne(t.getHours()%12||12,e,2)}function xue(t,e){return Ne(1+Rh.count(Vi(t),t),e,3)}function VL(t,e){return Ne(t.getMilliseconds(),e,3)}function Sue(t,e){return VL(t,e)+"000"}function Eue(t,e){return Ne(t.getMonth()+1,e,2)}function Tue(t,e){return Ne(t.getMinutes(),e,2)}function Aue(t,e){return Ne(t.getSeconds(),e,2)}function Pue(t){var e=t.getDay();return e===0?7:e}function Iue(t,e){return Ne(xy.count(Vi(t)-1,t),e,2)}function FL(t){var e=t.getDay();return e>=4||e===0?Rl(t):Rl.ceil(t)}function Oue(t,e){return t=FL(t),Ne(Rl.count(Vi(t),t)+(Vi(t).getDay()===4),e,2)}function Cue(t){return t.getDay()}function kue(t,e){return Ne(Pm.count(Vi(t)-1,t),e,2)}function Rue(t,e){return Ne(t.getFullYear()%100,e,2)}function jue(t,e){return t=FL(t),Ne(t.getFullYear()%100,e,2)}function Nue(t,e){return Ne(t.getFullYear()%1e4,e,4)}function Mue(t,e){var n=t.getDay();return t=n>=4||n===0?Rl(t):Rl.ceil(t),Ne(t.getFullYear()%1e4,e,4)}function Due(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ne(e/60|0,"0",2)+Ne(e%60,"0",2)}function uC(t,e){return Ne(t.getUTCDate(),e,2)}function $ue(t,e){return Ne(t.getUTCHours(),e,2)}function Lue(t,e){return Ne(t.getUTCHours()%12||12,e,2)}function Vue(t,e){return Ne(1+by.count(Fi(t),t),e,3)}function BL(t,e){return Ne(t.getUTCMilliseconds(),e,3)}function Fue(t,e){return BL(t,e)+"000"}function Bue(t,e){return Ne(t.getUTCMonth()+1,e,2)}function Uue(t,e){return Ne(t.getUTCMinutes(),e,2)}function zue(t,e){return Ne(t.getUTCSeconds(),e,2)}function Wue(t){var e=t.getUTCDay();return e===0?7:e}function Hue(t,e){return Ne(Sy.count(Fi(t)-1,t),e,2)}function UL(t){var e=t.getUTCDay();return e>=4||e===0?jl(t):jl.ceil(t)}function Kue(t,e){return t=UL(t),Ne(jl.count(Fi(t),t)+(Fi(t).getUTCDay()===4),e,2)}function que(t){return t.getUTCDay()}function Gue(t,e){return Ne(Im.count(Fi(t)-1,t),e,2)}function Xue(t,e){return Ne(t.getUTCFullYear()%100,e,2)}function Yue(t,e){return t=UL(t),Ne(t.getUTCFullYear()%100,e,2)}function Que(t,e){return Ne(t.getUTCFullYear()%1e4,e,4)}function Jue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jl(t):jl.ceil(t),Ne(t.getUTCFullYear()%1e4,e,4)}function Zue(){return"+0000"}function cC(){return"%"}function fC(t){return+t}function hC(t){return Math.floor(+t/1e3)}var wa,zL,WL;ece({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ece(t){return wa=eue(t),zL=wa.format,wa.parse,WL=wa.utcFormat,wa.utcParse,wa}function tce(t){return new Date(t)}function nce(t){return t instanceof Date?+t:+new Date(+t)}function kE(t,e,n,r,i,o,s,a,l,u){var c=yE(),f=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),w=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),_=u("%b %d"),b=u("%B"),A=u("%Y");function x(I){return(l(I)<I?p:a(I)<I?g:s(I)<I?w:o(I)<I?v:r(I)<I?i(I)<I?y:_:n(I)<I?b:A)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?d(Array.from(I,nce)):d().map(tce)},c.ticks=function(I){var E=d();return t(E[0],E[E.length-1],I??10)},c.tickFormat=function(I,E){return E==null?x:u(E)},c.nice=function(I){var E=d();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?d(CL(E,I)):c},c.copy=function(){return kh(c,kE(t,e,n,r,i,o,s,a,l,u))},c}function rce(){return vr.apply(kE(Jle,Zle,Vi,OE,xy,Rh,PE,TE,Ss,zL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ice(){return vr.apply(kE(Yle,Qle,Fi,CE,Sy,by,IE,AE,Ss,WL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ey(){var t=0,e=1,n,r,i,o,s=An,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,g;return arguments.length?([p,g]=d,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(bu),u.rangeRound=c(gE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HL(){var t=Jo(Ey()(An));return t.copy=function(){return Zo(t,HL())},Xi.apply(t,arguments)}function KL(){var t=_E(Ey()).domain([1,10]);return t.copy=function(){return Zo(t,KL()).base(t.base())},Xi.apply(t,arguments)}function qL(){var t=bE(Ey());return t.copy=function(){return Zo(t,qL()).constant(t.constant())},Xi.apply(t,arguments)}function RE(){var t=xE(Ey());return t.copy=function(){return Zo(t,RE()).exponent(t.exponent())},Xi.apply(t,arguments)}function oce(){return RE.apply(null,arguments).exponent(.5)}function GL(){var t=[],e=An;function n(r){if(r!=null&&!isNaN(r=+r))return e((Oh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hae(t,o/r))},n.copy=function(){return GL(e).domain(t)},Xi.apply(n,arguments)}function Ty(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=An,c,f=!1,d;function p(w){return isNaN(w=+w)?d:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(f?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(w){return arguments.length?(f=!!w,p):f},p.interpolator=function(w){return arguments.length?(u=w,p):u};function g(w){return function(v){var y,_,b;return arguments.length?([y,_,b]=v,u=yle(w,[y,_,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(bu),p.rangeRound=g(gE),p.unknown=function(w){return arguments.length?(d=w,p):d},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function XL(){var t=Jo(Ty()(An));return t.copy=function(){return Zo(t,XL())},Xi.apply(t,arguments)}function YL(){var t=_E(Ty()).domain([.1,1,10]);return t.copy=function(){return Zo(t,YL()).base(t.base())},Xi.apply(t,arguments)}function QL(){var t=bE(Ty());return t.copy=function(){return Zo(t,QL()).constant(t.constant())},Xi.apply(t,arguments)}function jE(){var t=xE(Ty());return t.copy=function(){return Zo(t,jE()).exponent(t.exponent())},Xi.apply(t,arguments)}function sce(){return jE.apply(null,arguments).exponent(.5)}const dC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Of,scaleDiverging:XL,scaleDivergingLog:YL,scaleDivergingPow:jE,scaleDivergingSqrt:sce,scaleDivergingSymlog:QL,scaleIdentity:OL,scaleImplicit:j_,scaleLinear:Tm,scaleLog:kL,scaleOrdinal:dE,scalePoint:Dc,scalePow:SE,scaleQuantile:NL,scaleQuantize:ML,scaleRadial:jL,scaleSequential:HL,scaleSequentialLog:KL,scaleSequentialPow:RE,scaleSequentialQuantile:GL,scaleSequentialSqrt:oce,scaleSequentialSymlog:qL,scaleSqrt:Fle,scaleSymlog:RL,scaleThreshold:DL,scaleTime:rce,scaleUtc:ice,tickFormat:IL},Symbol.toStringTag,{value:"Module"}));var ace=hu;function lce(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!ace(s):n(s,a)))var a=s,l=o}return l}var JL=lce;function uce(t,e){return t>e}var cce=uce,fce=JL,hce=cce,dce=_u;function pce(t){return t&&t.length?fce(t,dce,hce):void 0}var mce=pce;const wo=We(mce);function gce(t,e){return t<e}var yce=gce,vce=JL,wce=yce,_ce=_u;function bce(t){return t&&t.length?vce(t,_ce,wce):void 0}var xce=bce;const Ay=We(xce);var Sce=qS,Ece=Yo,Tce=sL,Ace=Vn;function Pce(t,e){var n=Ace(t)?Sce:Tce;return n(t,Ece(e))}var Ice=Pce,Oce=iL,Cce=Ice;function kce(t,e){return Oce(Cce(t,e),1)}var Rce=kce;const jce=We(Rce);var Nce=aE;function Mce(t,e){return Nce(t,e)}var Dce=Mce;const Xs=We(Dce);var xu=1e9,$ce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ME,rt=!0,gr="[DecimalError] ",Ns=gr+"Invalid argument: ",NE=gr+"Exponent out of range: ",Su=Math.floor,ps=Math.pow,Lce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,zt=1e7,Ye=7,ZL=9007199254740991,Om=Su(ZL/Ye),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ye;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Pi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return ze(Pi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return kt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(Kn)?new r(0):(rt=!1,e=Pi(Nf(n,o),Nf(t,o),o),rt=!0,ze(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nV(e,t):eV(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(rt=!1,e=Pi(n,t,0,1).times(t),rt=!0,n.minus(e)):ze(new r(n),i)};ae.naturalExponential=ae.exp=function(){return tV(this)};ae.naturalLogarithm=ae.ln=function(){return Nf(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eV(e,t):nV(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ns+t);if(e=kt(i)+1,r=i.d.length-1,n=r*Ye+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(gr+"NaN")}for(t=kt(a),rt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Su((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Pi(a,o,s+2)).times(.5),zr(o.d).slice(0,s)===(e=zr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return rt=!0,ze(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%zt|0,e=a/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,rt?ze(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ii(t,0,xu),e===void 0?e=r.rounding:ii(e,0,8),ze(n,t+kt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ys(r,!0):(ii(t,0,xu),e===void 0?e=i.rounding:ii(e,0,8),r=ze(new i(r),t+1,e),n=Ys(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ys(i):(ii(t,0,xu),e===void 0?e=o.rounding:ii(e,0,8),r=ze(new o(i),t+kt(i)+1,e),n=Ys(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return ze(new e(t),kt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Kn);if(a=new l(a),!a.s){if(t.s<1)throw Error(gr+"Infinity");return a}if(a.eq(Kn))return a;if(r=l.precision,t.eq(Kn))return ze(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=ZL){for(i=new l(Kn),e=Math.ceil(r/Ye+4),rt=!1;n%2&&(i=i.times(a),mC(i.d,e)),n=Su(n/2),n!==0;)a=a.times(a),mC(a.d,e);return rt=!0,t.s<0?new l(Kn).div(i):ze(i,r)}}else if(o<0)throw Error(gr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,rt=!1,i=t.times(Nf(a,r+u)),rt=!0,i=tV(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=kt(i),r=Ys(i,n<=o.toExpNeg||n>=o.toExpPos)):(ii(t,1,xu),e===void 0?e=o.rounding:ii(e,0,8),i=ze(new o(i),t,e),n=kt(i),r=Ys(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ii(t,1,xu),e===void 0?e=r.rounding:ii(e,0,8)),ze(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return Ys(t,e<=n.toExpNeg||e>=n.toExpPos)};function eV(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),rt?ze(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Ye),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/zt|0,l[o]%=zt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,rt?ze(e,f):e}function ii(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ns+t)}function zr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ye-r.length,n&&(o+=oo(n)),o+=r;s=t[e],r=s+"",n=Ye-r.length,n&&(o+=oo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Pi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%zt|0,s=o/zt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*zt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,g,w,v,y,_,b,A,x,I,E,T,P=r.constructor,C=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(gr+"Division by zero");for(l=r.e-i.e,E=j.length,x=k.length,p=new P(C),g=p.d=[],u=0;j[u]==(k[u]||0);)++u;if(j[u]>(k[u]||0)&&--l,o==null?_=o=P.precision:s?_=o+(kt(r)-kt(i))+1:_=o,_<0)return new P(0);if(_=_/Ye+2|0,u=0,E==1)for(c=0,j=j[0],_++;(u<x||c)&&_--;u++)b=c*zt+(k[u]||0),g[u]=b/j|0,c=b%j|0;else{for(c=zt/(j[0]+1)|0,c>1&&(j=t(j,c),k=t(k,c),E=j.length,x=k.length),A=E,w=k.slice(0,E),v=w.length;v<E;)w[v++]=0;T=j.slice(),T.unshift(0),I=j[0],j[1]>=zt/2&&++I;do c=0,a=e(j,w,E,v),a<0?(y=w[0],E!=v&&(y=y*zt+(w[1]||0)),c=y/I|0,c>1?(c>=zt&&(c=zt-1),f=t(j,c),d=f.length,v=w.length,a=e(f,w,d,v),a==1&&(c--,n(f,E<d?T:j,d))):(c==0&&(a=c=1),f=j.slice()),d=f.length,d<v&&f.unshift(0),n(w,f,v),a==-1&&(v=w.length,a=e(j,w,E,v),a<1&&(c++,n(w,E<v?T:j,v))),v=w.length):a===0&&(c++,w=[0]),g[u++]=c,a&&w[0]?w[v++]=k[A]||0:(w=[k[A]],v=1);while((A++<x||w[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,ze(p,s?o+kt(p)+1:o)}}();function tV(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(kt(t)>16)throw Error(NE+kt(t));if(!t.s)return new c(Kn);for(rt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ps(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Kn),c.precision=a;;){if(i=ze(i.times(t),a),n=n.times(++l),s=o.plus(Pi(i,n,a)),zr(s.d).slice(0,a)===zr(o.d).slice(0,a)){for(;u--;)o=ze(o.times(o),a);return c.precision=f,e==null?(rt=!0,ze(o,f)):o}o=s}}function kt(t){for(var e=t.e*Ye,n=t.d[0];n>=10;n/=10)e++;return e}function h0(t,e,n){if(e>t.LN10.sd())throw rt=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function oo(t){for(var e="";t--;)e+="0";return e}function Nf(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=t,g=p.d,w=p.constructor,v=w.precision;if(p.s<1)throw Error(gr+(p.s?"NaN":"-Infinity"));if(p.eq(Kn))return new w(0);if(e==null?(rt=!1,u=v):u=e,p.eq(10))return e==null&&(rt=!0),h0(w,u);if(u+=d,w.precision=u,n=zr(g),r=n.charAt(0),o=kt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;o=kt(p),r>1?(p=new w("0."+n),o++):p=new w(r+"."+n.slice(1))}else return l=h0(w,u+2,v).times(o+""),p=Nf(new w(r+"."+n.slice(1)),u-d).plus(l),w.precision=v,e==null?(rt=!0,ze(p,v)):p;for(a=s=p=Pi(p.minus(Kn),p.plus(Kn),u),c=ze(p.times(p),u),i=3;;){if(s=ze(s.times(c),u),l=a.plus(Pi(s,new w(i),u)),zr(l.d).slice(0,u)===zr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(h0(w,u+2,v).times(o+""))),a=Pi(a,new w(f),u),w.precision=v,e==null?(rt=!0,ze(a,v)):a;a=l,i+=2}}function pC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Su(n/Ye),t.d=[],r=(n+1)%Ye,n<0&&(r+=Ye),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ye;r<i;)t.d.push(+e.slice(r,r+=Ye));e=e.slice(r),r=Ye-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),rt&&(t.e>Om||t.e<-Om))throw Error(NE+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ye,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Ye),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Ye,i=r-Ye+s}if(n!==void 0&&(o=ps(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ps(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=kt(t),f.length=1,e=e-o-1,f[0]=ps(10,(Ye-e%Ye)%Ye),t.e=Su(-e/Ye)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ps(10,Ye-r),f[c]=i>0?(u/ps(10,s-i)%ps(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==zt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=zt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(rt&&(t.e>Om||t.e<-Om))throw Error(NE+kt(t));return t}function nV(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),rt?ze(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/Ye),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=zt-1;--l[o],l[i]+=zt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,rt?ze(e,p):e):new d(0)}function Ys(t,e,n){var r,i=kt(t),o=zr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+oo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+oo(-i-1)+o,n&&(r=n-s)>0&&(o+=oo(r))):i>=s?(o+=oo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+oo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=oo(r))),t.s<0?"-"+o:o}function mC(t,e){if(t.length>e)return t.length=e,!0}function rV(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ns+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return pC(s,o.toString())}else if(typeof o!="string")throw Error(Ns+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Lce.test(o))pC(s,o);else throw Error(Ns+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rV,i.config=i.set=Vce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Vce(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,xu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Su(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ns+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ns+n+": "+r);return this}var ME=rV($ce);Kn=new ME(1);const Be=ME;function Fce(t){return Wce(t)||zce(t)||Uce(t)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function zce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wce(t){if(Array.isArray(t))return $_(t)}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hce=function(e){return e},iV={},oV=function(e){return e===iV},gC=function(e){return function n(){return arguments.length===0||arguments.length===1&&oV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Kce=function t(e,n){return e===1?n:gC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==iV}).length;return s>=e?n.apply(void 0,i):t(e-s,gC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return oV(f)?l.shift():f});return n.apply(void 0,Fce(c).concat(l))}))})},Py=function(e){return Kce(e.length,e)},L_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},qce=Py(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Gce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Hce;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},V_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Xce(t){var e;return t===0?e=1:e=Math.floor(new Be(t).abs().log(10).toNumber())+1,e}function Yce(t,e,n){for(var r=new Be(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Qce=Py(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Jce=Py(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Zce=Py(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Iy={rangeStep:Yce,getDigitCount:Xce,interpolateNumber:Qce,uninterpolateNumber:Jce,uninterpolateTruncation:Zce};function F_(t){return nfe(t)||tfe(t)||aV(t)||efe()}function efe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nfe(t){if(Array.isArray(t))return B_(t)}function Mf(t,e){return ofe(t)||ife(t,e)||aV(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ife(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function ofe(t){if(Array.isArray(t))return t}function lV(t){var e=Mf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function uV(t,e,n){if(t.lte(0))return new Be(0);var r=Iy.getDigitCount(t.toNumber()),i=new Be(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Be(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Be(Math.ceil(l))}function sfe(t,e,n){var r=1,i=new Be(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Be(10).pow(Iy.getDigitCount(t)-1),i=new Be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Be(Math.floor(t)))}else t===0?i=new Be(Math.floor((e-1)/2)):n||(i=new Be(Math.floor(t)));var s=Math.floor((e-1)/2),a=Gce(qce(function(l){return i.add(new Be(l-s).mul(r)).toNumber()}),L_);return a(0,e)}function cV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var o=uV(new Be(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Be(0):(s=new Be(t).add(e).div(2),s=s.sub(new Be(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Be(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?cV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Be(a).mul(o)),tickMax:s.add(new Be(l).mul(o))})}function afe(t){var e=Mf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=lV([n,r]),l=Mf(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(F_(L_(0,i-1).map(function(){return 1/0}))):[].concat(F_(L_(0,i-1).map(function(){return-1/0})),[c]);return n>r?V_(f):f}if(u===c)return sfe(u,i,o);var d=cV(u,c,s,o),p=d.step,g=d.tickMin,w=d.tickMax,v=Iy.rangeStep(g,w.add(new Be(.1).mul(p)),p);return n>r?V_(v):v}function lfe(t,e){var n=Mf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=lV([r,i]),a=Mf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=uV(new Be(u).sub(l).div(c-1),o,0),d=[].concat(F_(Iy.rangeStep(new Be(l),new Be(u).sub(new Be(.99).mul(f)),f)),[u]);return r>i?V_(d):d}var ufe=sV(afe),cfe=sV(lfe),ffe="Invariant failed";function Qs(t,e){throw new Error(ffe)}var hfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function dfe(t,e){return yfe(t)||gfe(t,e)||mfe(t,e)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function yfe(t){if(Array.isArray(t))return t}function vfe(t,e){if(t==null)return{};var n=wfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function xfe(t,e,n){return e&&bfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,n){return e=km(e),Efe(t,fV()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function Efe(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function hV(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=Pfe(t,"string");return Nl(e)=="symbol"?e:e+""}function Pfe(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eu=function(t){function e(){return _fe(this,e),Sfe(this,e,arguments)}return Afe(e,t),xfe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=vfe(r,hfe),p=_e(d,!1);this.props.direction==="x"&&c.type!=="number"&&Qs();var g=l.map(function(w){var v=u(w,a),y=v.x,_=v.y,b=v.value,A=v.errorVal;if(!A)return null;var x=[],I,E;if(Array.isArray(A)){var T=dfe(A,2);I=T[0],E=T[1]}else I=E=A;if(o==="vertical"){var P=c.scale,C=_+i,k=C+s,j=C-s,R=P(b-I),F=P(b+E);x.push({x1:F,y1:k,x2:F,y2:j}),x.push({x1:R,y1:C,x2:F,y2:C}),x.push({x1:R,y1:k,x2:R,y2:j})}else if(o==="horizontal"){var V=f.scale,W=y+i,z=W-s,$=W+s,B=V(b-I),G=V(b+E);x.push({x1:z,y1:G,x2:$,y2:G}),x.push({x1:W,y1:B,x2:W,y2:G}),x.push({x1:z,y1:B,x2:$,y2:B})}return D.createElement(Me,Cm({className:"recharts-errorBar",key:"bar-".concat(x.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),x.map(function(te){return D.createElement("line",Cm({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return D.createElement(Me,{className:"recharts-errorBars"},g)}}])}(D.Component);hV(Eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hV(Eu,"displayName","ErrorBar");function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return e=Ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ofe(t){var e=Cfe(t,"string");return Df(e)=="symbol"?e:e+""}function Cfe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Wn(n,Rs);if(!s)return null;var a=Rs.defaultProps,l=a!==void 0?as(as({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(w){return{type:s.props.iconType||d.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?as(as({},d),f.props):{},g=p.dataKey,w=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:DE(f),value:w||g,payload:p}}),as(as(as({},l),Rs.getWithHeight(s,i)),{},{payload:u,item:s})};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function wC(t){return Nfe(t)||jfe(t)||Rfe(t)||kfe()}function kfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function jfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nfe(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ul(t,e,n){return e=Mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mfe(t){var e=Dfe(t,"string");return $f(e)=="symbol"?e:e+""}function Dfe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lt(t,e,n){return ve(t)||ve(e)?n:Dt(e)?dr(t,e,n):xe(e)?e(t):n}function $c(t,e,n,r){var i=jce(t,function(a){return Lt(a,e)});if(n==="number"){var o=i.filter(function(a){return Z(a)||parseFloat(a)});return o.length?[Ay(o),wo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!ve(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var $fe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(kr(f-c)!==kr(d-f)){var g=[];if(kr(d-f)===kr(l[1]-l[0])){p=d;var w=f+l[1]-l[0];g[0]=Math.min(w,(w+c)/2),g[1]=Math.max(w,(w+c)/2)}else{p=c;var v=d+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[u].index;break}}else{var _=Math.min(c,d),b=Math.max(c,d);if(e>(_+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},DE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Lfe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var g=c[f[d]],w=g.items,v=g.cateAxisId,y=w.filter(function(E){return Ti(E.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,b=_!==void 0?wt(wt({},_),y[0].props):y[0].props,A=b.barSize,x=b[v];s[x]||(s[x]=[]);var I=ve(A)?n:A;s[x].push({item:y[0],stackList:y.slice(1),barSize:ve(I)?void 0:Gs(I,r,0)})}}return s},Vfe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Gs(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,g=s.reduce(function(A,x){return A+x.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(d=!0,p*=.9,g=l*p);var w=(i-g)/2>>0,v={offset:w-u,size:0};c=s.reduce(function(A,x){var I={item:x.item,position:{offset:v.offset+v.size+u,size:d?p:x.barSize}},E=[].concat(wC(A),[I]);return v=E[E.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){E.push({item:T,position:v})}),E},f)}else{var y=Gs(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var b=a===+a?Math.min(_,a):_;c=s.reduce(function(A,x,I){var E=[].concat(wC(A),[{item:x.item,position:{offset:y+(_+u)*I+(_-b)/2,size:b}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return c},Ffe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=pV({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,g=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&g==="middle")&&p!=="center"&&Z(e[p]))return wt(wt({},e),{},ul({},p,e[p]+(f||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&g!=="middle"&&Z(e[g]))return wt(wt({},e),{},ul({},g,e[g]+(d||0)))}return e},Bfe=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},mV=function(e,n,r,i,o){var s=n.props.children,a=Ln(s,Eu).filter(function(u){return Bfe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Lt(c,r);if(ve(f))return u;var d=Array.isArray(f)?[Ay(f),wo(f)]:[f,f],p=l.reduce(function(g,w){var v=Lt(c,w,0),y=d[0]-Math.abs(Array.isArray(v)?v[0]:v),_=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ufe=function(e,n,r,i,o){var s=n.map(function(a){return mV(e,a,r,o,i)}).filter(function(a){return!ve(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},gV=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&mV(e,l,u,i)||$c(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},yV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},vV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?kr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!yu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},d0=new WeakMap,kd=function(e,n){if(typeof n!="function")return e;d0.has(e)||d0.set(e,new WeakMap);var r=d0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zfe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Of(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Tm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Dc(),realScaleType:"point"}:o==="category"?{scale:Of(),realScaleType:"band"}:{scale:Tm(),realScaleType:"linear"};if(qs(i)){var l="scale".concat(hy(i));return{scale:(dC[l]||Dc)(),realScaleType:dC[l]?l:"point"}}return xe(i)?{scale:i}:{scale:Dc(),realScaleType:"point"}},bC=1e-4,Wfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-bC,s=Math.max(i[0],i[1])+bC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Hfe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Kfe=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(o[0]=r),(!Z(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},qfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=yu(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Gfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=yu(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Xfe={sign:qfe,expand:fJ,none:Tl,silhouette:hJ,wiggle:dJ,positive:Gfe},Yfe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Xfe[r],s=cJ().keys(i).value(function(a,l){return+Lt(a,l,0)}).order(p_).offset(o);return s(e)},Qfe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var p,g=(p=d.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},d.type.defaultProps),d.props):d.props,w=g.stackId,v=g.hide;if(v)return f;var y=g[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var b=_.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),_.hasStack=!0,_.stackGroups[w]=b}else _.stackGroups[sa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return wt(wt({},f),{},ul({},y,_))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,v){var y=p.stackGroups[v];return wt(wt({},w),{},ul({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Yfe(e,y.items,o)}))},g)}return wt(wt({},f),{},ul({},d,p))},c)},Jfe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ufe(u,o,a);return e.domain([Ay(c),wo(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=cfe(f,o,a);return{niceTicks:d}}return null};function Ml(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var a=rm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Lt(i,ve(s)?e.dataKey:s);return ve(l)?null:e.scale(l)}var xC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Lt(s,n.dataKey,n.domain[a]);return ve(l)?null:n.scale(l)-o/2+i},Zfe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ehe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},the=function(e){return e.reduce(function(n,r){return[Ay(r.concat([n[0]]).filter(Z)),wo(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},wV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=the(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W_=function(e,n,r){if(xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(SC.test(e[0])){var o=+SC.exec(e[0])[1];i[0]=n[0]-o}else xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EC.test(e[1])){var s=+EC.exec(e[1])[1];i[1]=n[1]+s}else xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=uE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},TC=function(e,n,r){return!e||!e.length||Xs(e,dr(r,"type.defaultProps.domain"))?n:e},_V=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return wt(wt({},_e(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:DE(e),value:Lt(n,i),type:l,payload:n,chartType:u,hide:c})};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return Lf(e)=="symbol"?e:e+""}function ihe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jm=Math.PI/180,ohe=function(e){return e*180/Math.PI},en=function(e,n,r,i){return{x:e+Math.cos(-jm*i)*r,y:n+Math.sin(-jm*i)*r}},she=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},ahe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=she({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ohe(u),angleInRadian:u}},lhe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},uhe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},IC=function(e,n){var r=e.x,i=e.y,o=ahe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=lhe(n),f=c.startAngle,d=c.endAngle,p=a,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?PC(PC({},n),{},{radius:s,angle:uhe(p,n)}):null};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}var che=["offset"];function fhe(t){return mhe(t)||phe(t)||dhe(t)||hhe()}function hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function phe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mhe(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ghe(t,e){if(t==null)return{};var n=yhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vhe(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return Vf(e)=="symbol"?e:e+""}function _he(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}var bhe=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return xe(r)?r(i):i},xhe=function(e,n){var r=kr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},She=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,g=l.endAngle,w=l.clockWise,v=(f+d)/2,y=xhe(p,g),_=y>=0?1:-1,b,A;i==="insideStart"?(b=p+_*s,A=w):i==="insideEnd"?(b=g-_*s,A=!w):i==="end"&&(b=g+_*s,A=w),A=y<=0?A:!A;var x=en(u,c,v,b),I=en(u,c,v,b+(A?1:-1)*359),E="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(I.x,",").concat(I.y),T=ve(e.id)?sa("recharts-radial-line-"):e.id;return D.createElement("text",Ff({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",a)}),D.createElement("defs",null,D.createElement("path",{id:T,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Ehe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=en(s,a,u+r,d),g=p.x,w=p.y;return{x:g,y:w,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=en(s,a,v,d),_=y.x,b=y.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},The=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",g=f>0?"start":"end",w=u>=0?1:-1,v=w*i,y=w>0?"end":"start",_=w>0?"start":"end";if(o==="top"){var b={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return jt(jt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return jt(jt({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var x={x:a-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return jt(jt({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:a+u+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return jt(jt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?jt({x:a+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?jt({x:a+u-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):o==="insideTop"?jt({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},E):o==="insideBottom"?jt({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?jt({x:a+v,y:l+d,textAnchor:_,verticalAnchor:g},E):o==="insideTopRight"?jt({x:a+u-v,y:l+d,textAnchor:y,verticalAnchor:g},E):o==="insideBottomLeft"?jt({x:a+v,y:l+c-d,textAnchor:_,verticalAnchor:p},E):o==="insideBottomRight"?jt({x:a+u-v,y:l+c-d,textAnchor:y,verticalAnchor:p},E):du(o)&&(Z(o.x)||bs(o.x))&&(Z(o.y)||bs(o.y))?jt({x:a+Gs(o.x,u),y:l+Gs(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):jt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Ahe=function(e){return"cx"in e&&Z(e.cx)};function gn(t){var e=t.offset,n=e===void 0?5:e,r=ghe(t,che),i=jt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||ve(a)&&ve(l)&&!N.isValidElement(u)&&!xe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var p;if(xe(u)){if(p=N.createElement(u,i),N.isValidElement(p))return p}else p=bhe(i);var g=Ahe(o),w=_e(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return She(i,p,w);var v=g?Ehe(i):The(i);return D.createElement(vm,Ff({className:Ie("recharts-label",f)},w,v,{breakAll:d}),p)}gn.displayName="Label";var bV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,g=e.left,w=e.width,v=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(Z(w)&&Z(v)){if(Z(f)&&Z(d))return{x:f,y:d,width:w,height:v};if(Z(p)&&Z(g))return{x:p,y:g,width:w,height:v}}return Z(f)&&Z(d)?{x:f,y:d,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:y}:e.viewBox?e.viewBox:{}},Phe=function(e,n){return e?e===!0?D.createElement(gn,{key:"label-implicit",viewBox:n}):Dt(e)?D.createElement(gn,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===gn?N.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(gn,{key:"label-implicit",content:e,viewBox:n}):xe(e)?D.createElement(gn,{key:"label-implicit",content:e,viewBox:n}):du(e)?D.createElement(gn,Ff({viewBox:n},e,{key:"label-implicit"})):null:null},Ihe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=bV(e),s=Ln(i,gn).map(function(l,u){return N.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Phe(e.label,n||o);return[a].concat(fhe(s))};gn.parseViewBox=bV;gn.renderCallByParent=Ihe;function Ohe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Che=Ohe;const khe=We(Che);function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var Rhe=["valueAccessor"],jhe=["data","dataKey","clockWise","id","textBreakAll"];function Nhe(t){return Lhe(t)||$he(t)||Dhe(t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function $he(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lhe(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return Bf(e)=="symbol"?e:e+""}function Bhe(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RC(t,e){if(t==null)return{};var n=Uhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zhe=function(e){return Array.isArray(e.value)?khe(e.value):e.value};function Zr(t){var e=t.valueAccessor,n=e===void 0?zhe:e,r=RC(t,Rhe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=RC(r,jhe);return!i||!i.length?null:D.createElement(Me,{className:"recharts-label-list"},i.map(function(c,f){var d=ve(o)?n(c,f):Lt(c&&c.payload,o),p=ve(a)?{}:{id:"".concat(a,"-").concat(f)};return D.createElement(gn,Nm({},_e(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:gn.parseViewBox(ve(s)?c:kC(kC({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Zr.displayName="LabelList";function Whe(t,e){return t?t===!0?D.createElement(Zr,{key:"labelList-implicit",data:e}):D.isValidElement(t)||xe(t)?D.createElement(Zr,{key:"labelList-implicit",data:e,content:t}):du(t)?D.createElement(Zr,Nm({data:e},t,{key:"labelList-implicit"})):null:null}function Hhe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ln(r,Zr).map(function(s,a){return N.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Whe(t.label,e);return[o].concat(Nhe(i))}Zr.renderCallByParent=Hhe;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=qhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Ghe(t,"string");return Uf(e)=="symbol"?e:e+""}function Ghe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xhe=function(e,n){var r=kr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Rd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/jm,d=u?o:o+s*f,p=en(n,r,c,d),g=en(n,r,i,d),w=u?o-s*f:o,v=en(n,r,c*Math.cos(f*jm),w);return{center:p,circleTangency:g,lineTangency:v,theta:f}},xV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Xhe(s,a),u=s+l,c=en(n,r,o,s),f=en(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=en(n,r,i,s),g=en(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Yhe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=kr(c-u),d=Rd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,g=d.lineTangency,w=d.theta,v=Rd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,_=v.lineTangency,b=v.theta,A=l?Math.abs(u-c):Math.abs(u-c)-w-b;if(A<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):xV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var I=Rd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,T=I.lineTangency,P=I.theta,C=Rd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=C.circleTangency,j=C.lineTangency,R=C.theta,F=l?Math.abs(u-c):Math.abs(u-c)-P-R;if(F<0&&s===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},Qhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SV=function(e){var n=NC(NC({},Qhe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=Ie("recharts-sector",d),g=s-o,w=Gs(a,g,0,!0),v;return w>0&&Math.abs(c-f)<360?v=Yhe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=xV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),D.createElement("path",q_({},_e(n,!0),{className:p,d:v,role:"img"}))};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return e=Zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=ede(t,"string");return zf(e)=="symbol"?e:e+""}function ede(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $C={curveBasisClosed:ZQ,curveBasisOpen:eJ,curveBasis:JQ,curveBumpX:LQ,curveBumpY:VQ,curveLinearClosed:tJ,curveLinear:py,curveMonotoneX:nJ,curveMonotoneY:rJ,curveNatural:iJ,curveStep:oJ,curveStepAfter:aJ,curveStepBefore:sJ},jd=function(e){return e.x===+e.x&&e.y===+e.y},nc=function(e){return e.x},rc=function(e){return e.y},tde=function(e,n){if(xe(e))return e;var r="curve".concat(hy(e));return(r==="curveMonotone"||r==="curveBump")&&n?$C["".concat(r).concat(n==="vertical"?"Y":"X")]:$C[r]||py},nde=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=tde(r,a),f=u?o.filter(function(w){return jd(w)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(w){return jd(w)}):s,g=f.map(function(w,v){return DC(DC({},w),{},{base:p[v]})});return a==="vertical"?d=Sd().y(rc).x1(nc).x0(function(w){return w.base.x}):d=Sd().x(nc).y1(rc).y0(function(w){return w.base.y}),d.defined(jd).curve(c),d(g)}return a==="vertical"&&Z(s)?d=Sd().y(rc).x1(nc).x0(s):Z(s)?d=Sd().x(nc).y1(rc).y0(s):d=S$().x(nc).y(rc),d.defined(jd).curve(c),d(f)},Ms=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?nde(e):i;return N.createElement("path",G_({},_e(e,!1),im(e),{className:Ie("recharts-curve",n),d:s,ref:o}))},EV={exports:{}},rde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ide=rde,ode=ide;function TV(){}function AV(){}AV.resetWarningCache=TV;var sde=function(){function t(r,i,o,s,a,l){if(l!==ode){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AV,resetWarningCache:TV};return n.PropTypes=n,n};EV.exports=sde();var ade=EV.exports;const De=We(ade),{getOwnPropertyNames:lde,getOwnPropertySymbols:ude}=Object,{hasOwnProperty:cde}=Object.prototype;function p0(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Nd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function fde(t){return t!=null?t[Symbol.toStringTag]:void 0}function LC(t){return lde(t).concat(ude(t))}const hde=Object.hasOwn||((t,e)=>cde.call(t,e));function ua(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const dde="__v",pde="__o",mde="_owner",{getOwnPropertyDescriptor:VC,keys:FC}=Object;function gde(t,e){return t.byteLength===e.byteLength&&Mm(new Uint8Array(t),new Uint8Array(e))}function yde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vde(t,e){return t.byteLength===e.byteLength&&Mm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function wde(t,e){return ua(t.getTime(),e.getTime())}function _de(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bde(t,e){return t===e}function BC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const d=s.value,p=a.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const xde=ua;function Sde(t,e,n){const r=FC(t);let i=r.length;if(FC(e).length!==i)return!1;for(;i-- >0;)if(!PV(t,e,n,r[i]))return!1;return!0}function ic(t,e,n){const r=LC(t);let i=r.length;if(LC(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!PV(t,e,n,o)||(s=VC(t,o),a=VC(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Ede(t,e){return ua(t.valueOf(),e.valueOf())}function Tde(t,e){return t.source===e.source&&t.flags===e.flags}function UC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Mm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ade(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PV(t,e,n,r){return(r===mde||r===pde||r===dde)&&(t.$$typeof||e.$$typeof)?!0:hde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Pde="[object ArrayBuffer]",Ide="[object Arguments]",Ode="[object Boolean]",Cde="[object DataView]",kde="[object Date]",Rde="[object Error]",jde="[object Map]",Nde="[object Number]",Mde="[object Object]",Dde="[object RegExp]",$de="[object Set]",Lde="[object String]",Vde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Fde="[object URL]",Bde=Object.prototype.toString;function Ude({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:g}){return function(v,y,_){if(v===y)return!0;if(v==null||y==null)return!1;const b=typeof v;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?a(v,y,_):b==="function"?o(v,y,_):!1;const A=v.constructor;if(A!==y.constructor)return!1;if(A===Object)return l(v,y,_);if(Array.isArray(v))return e(v,y,_);if(A===Date)return r(v,y,_);if(A===RegExp)return c(v,y,_);if(A===Map)return s(v,y,_);if(A===Set)return f(v,y,_);const x=Bde.call(v);if(x===kde)return r(v,y,_);if(x===Dde)return c(v,y,_);if(x===jde)return s(v,y,_);if(x===$de)return f(v,y,_);if(x===Mde)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,_);if(x===Fde)return p(v,y,_);if(x===Rde)return i(v,y,_);if(x===Ide)return l(v,y,_);if(Vde[x])return d(v,y,_);if(x===Pde)return t(v,y,_);if(x===Cde)return n(v,y,_);if(x===Ode||x===Nde||x===Lde)return u(v,y,_);if(g){let I=g[x];if(!I){const E=fde(v);E&&(I=g[E])}if(I)return I(v,y,_)}return!1}}function zde({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:gde,areArraysEqual:n?ic:yde,areDataViewsEqual:vde,areDatesEqual:wde,areErrorsEqual:_de,areFunctionsEqual:bde,areMapsEqual:n?p0(BC,ic):BC,areNumbersEqual:xde,areObjectsEqual:n?ic:Sde,arePrimitiveWrappersEqual:Ede,areRegExpsEqual:Tde,areSetsEqual:n?p0(UC,ic):UC,areTypedArraysEqual:n?p0(Mm,ic):Mm,areUrlsEqual:Ade,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Nd(r.areArraysEqual),o=Nd(r.areMapsEqual),s=Nd(r.areObjectsEqual),a=Nd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Wde(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Hde({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const Kde=es();es({strict:!0});es({circular:!0});es({circular:!0,strict:!0});es({createInternalComparator:()=>ua});es({strict:!0,createInternalComparator:()=>ua});es({circular:!0,createInternalComparator:()=>ua});es({circular:!0,createInternalComparator:()=>ua,strict:!0});function es(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=zde(t),s=Ude(o),a=n?n(s):Wde(s);return Hde({circular:e,comparator:s,createState:r,equals:a,strict:i})}function qde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):qde(i)};requestAnimationFrame(r)}function X_(t){"@babel/helpers - typeof";return X_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(t)}function Gde(t){return Jde(t)||Qde(t)||Yde(t)||Xde()}function Xde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yde(t,e){if(t){if(typeof t=="string")return WC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(t,e)}}function WC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jde(t){if(Array.isArray(t))return t}function Zde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Gde(s),l=a[0],u=a.slice(1);if(typeof l=="number"){zC(i.bind(null,u),l);return}i(l),zC(i.bind(null,u));return}X_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){IV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IV(t,e,n){return e=epe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function epe(t){var e=tpe(t,"string");return Wf(e)==="symbol"?e:String(e)}function tpe(t,e){if(Wf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var npe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},rpe=function(e){return e},ipe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lc=function(e,n){return Object.keys(n).reduce(function(r,i){return KC(KC({},r),{},IV({},i,e(i,n[i])))},{})},qC=function(e,n,r){return e.map(function(i){return"".concat(ipe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ope(t,e){return lpe(t)||ape(t,e)||OV(t,e)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lpe(t){if(Array.isArray(t))return t}function upe(t){return hpe(t)||fpe(t)||OV(t)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hpe(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dm=1e-4,CV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},kV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},GC=function(e,n){return function(r){var i=CV(e,n);return kV(i,r)}},dpe=function(e,n){return function(r){var i=CV(e,n),o=[].concat(upe(i.map(function(s,a){return s*a}).slice(1)),[0]);return kV(o,r)}},XC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=ope(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=GC(i,s),d=GC(o,a),p=dpe(i,s),g=function(y){return y>1?1:y<0?0:y},w=function(y){for(var _=y>1?1:y,b=_,A=0;A<8;++A){var x=f(b)-_,I=p(b);if(Math.abs(x-_)<Dm||I<Dm)return d(b);b=g(b-x/I)}return d(b)};return w.isStepper=!1,w},ppe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,g=d*o,w=d+(p-g)*a/1e3,v=d*a/1e3+c;return Math.abs(v-f)<Dm&&Math.abs(w)<Dm?[f,0]:[v,w]};return l.isStepper=!0,l.dt=a,l},mpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XC(i);case"spring":return ppe();default:if(i.split("(")[0]==="cubic-bezier")return XC(i)}return typeof i=="function"?i:null};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function YC(t){return vpe(t)||ype(t)||RV(t)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ype(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vpe(t){if(Array.isArray(t))return J_(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_(t,e,n){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wpe(t){var e=_pe(t,"string");return Hf(e)==="symbol"?e:String(e)}function _pe(t,e){if(Hf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bpe(t,e){return Epe(t)||Spe(t,e)||RV(t,e)||xpe()}function xpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Spe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Epe(t){if(Array.isArray(t))return t}var $m=function(e,n,r){return e+(n-e)*r},Z_=function(e){var n=e.from,r=e.to;return n!==r},Tpe=function t(e,n,r){var i=Lc(function(o,s){if(Z_(s)){var a=e(s.from,s.to,s.velocity),l=bpe(a,2),u=l[0],c=l[1];return Xt(Xt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Lc(function(o,s){return Z_(s)?Xt(Xt({},s),{},{velocity:$m(s.velocity,i[o].velocity,r),from:$m(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Ape=function(t,e,n,r,i){var o=npe(t,e),s=o.reduce(function(v,y){return Xt(Xt({},v),{},Q_({},y,[t[y],e[y]]))},{}),a=o.reduce(function(v,y){return Xt(Xt({},v),{},Q_({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Lc(function(y,_){return _.from},a)},p=function(){return!Object.values(a).filter(Z_).length},g=function(y){u||(u=y);var _=y-u,b=_/n.dt;a=Tpe(n,a,b),i(Xt(Xt(Xt({},t),e),d())),u=y,p()||(l=requestAnimationFrame(f))},w=function(y){c||(c=y);var _=(y-c)/r,b=Lc(function(x,I){return $m.apply(void 0,YC(I).concat([n(_)]))},s);if(i(Xt(Xt(Xt({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var A=Lc(function(x,I){return $m.apply(void 0,YC(I).concat([n(1)]))},s);i(Xt(Xt(Xt({},t),e),A))}};return f=n.isStepper?g:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var Ppe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ipe(t,e){if(t==null)return{};var n=Ope(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ope(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function m0(t){return jpe(t)||Rpe(t)||kpe(t)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpe(t,e){if(t){if(typeof t=="string")return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}}function Rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jpe(t){if(Array.isArray(t))return eb(t)}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){yc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yc(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jV(r.key),r)}}function Dpe(t,e,n){return e&&Mpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jV(t){var e=$pe(t,"string");return Dl(e)==="symbol"?e:String(e)}function $pe(t,e){if(Dl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function Vpe(t){var e=Fpe();return function(){var r=Lm(t),i;if(e){var o=Lm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return nb(this,i)}}function nb(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rb(t)}function rb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}var $r=function(t){Lpe(n,t);var e=Vpe(n);function n(r,i){var o;Npe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(rb(o)),o.changeStyle=o.changeStyle.bind(rb(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),nb(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},nb(o);o.state={style:l?yc({},l,u):u}}else o.state={style:{}};return o}return Dpe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:l?yc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(Kde(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=g||u?f:i.to;if(this.state&&d){var v={style:l?yc({},l,w):w};(l&&d[l]!==w||!l&&d!==w)&&this.setState(v)}this.runAnimation(xr(xr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Ape(s,a,mpe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([d,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(w,v,y){if(y===0)return w;var _=v.duration,b=v.easing,A=b===void 0?"ease":b,x=v.style,I=v.properties,E=v.onAnimationEnd,T=y>0?s[y-1]:v,P=I||Object.keys(x);if(typeof A=="function"||A==="spring")return[].concat(m0(w),[o.runJSAnimation.bind(o,{from:T.style,to:x,duration:_,easing:A}),_]);var C=qC(P,_,A),k=xr(xr(xr({},T.style),x),{},{transition:C});return[].concat(m0(w),[k,_,E]).filter(rpe)};return this.manager.start([l].concat(m0(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Zde());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var w=a?yc({},a,l):l,v=qC(Object.keys(w),s,u);g.start([c,o,xr(xr({},w),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ipe(i,Ppe),u=N.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(p){var g=p.props,w=g.style,v=w===void 0?{}:w,y=g.className,_=N.cloneElement(p,xr(xr({},l),{},{style:xr(xr({},v),c),className:y}));return _};return u===1?f(N.Children.only(o)):D.createElement("div",null,N.Children.map(o,function(d){return f(d)}))}}]),n}(N.PureComponent);$r.displayName="Animate";$r.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$r.propTypes={from:De.oneOfType([De.object,De.string]),to:De.oneOfType([De.object,De.string]),attributeName:De.string,duration:De.number,begin:De.number,easing:De.oneOfType([De.string,De.func]),steps:De.arrayOf(De.shape({duration:De.number.isRequired,style:De.object.isRequired,easing:De.oneOfType([De.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),De.func]),properties:De.arrayOf("string"),onAnimationEnd:De.func})),children:De.oneOfType([De.node,De.func]),isActive:De.bool,canBegin:De.bool,onAnimationEnd:De.func,shouldReAnimate:De.bool,onAnimationStart:De.func,onAnimationReStart:De.func};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function Bpe(t,e){return Hpe(t)||Wpe(t,e)||zpe(t,e)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hpe(t){if(Array.isArray(t))return t}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return e=qpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qpe(t){var e=Gpe(t,"string");return Kf(e)=="symbol"?e:e+""}function Gpe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nk=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var g=Math.min(s,o);c="M ".concat(e,",").concat(n+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*g,`
            L `).concat(e+r,",").concat(n+i-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Xpe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Ype={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$E=function(e){var n=tk(tk({},Ype),e),r=N.useRef(),i=N.useState(-1),o=Bpe(i,2),s=o[0],a=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,g=n.animationEasing,w=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=Ie("recharts-rectangle",p);return _?D.createElement($r,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:w,animationEasing:g,isActive:_},function(A){var x=A.width,I=A.height,E=A.x,T=A.y;return D.createElement($r,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:y,easing:g},D.createElement("path",Vm({},_e(n,!0),{className:b,d:nk(E,T,x,I,d),ref:r})))}):D.createElement("path",Vm({},_e(n,!0),{className:b,d:nk(l,u,c,f,d)}))};function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}var Oy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ie("recharts-dot",o);return n===+n&&r===+r&&i===+i?N.createElement("circle",ib({},_e(e,!1),im(e),{className:s,cx:n,cy:r,r:i})):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var Qpe=["x","y","top","left","width","height","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return qf(e)=="symbol"?e:e+""}function tme(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e){if(t==null)return{};var n=rme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ime=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},ome=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,g=e.className,w=nme(e,Qpe),v=Jpe({x:r,y:o,top:a,left:u,width:f,height:p},w);return!Z(r)||!Z(o)||!Z(f)||!Z(p)||!Z(a)||!Z(u)?null:D.createElement("path",ob({},_e(v,!0),{className:Ie("recharts-cross",g),d:ime(r,o,f,p,a,u)}))},sme=q$,ame=sme(Object.getPrototypeOf,Object),lme=ame,ume=qi,cme=lme,fme=Gi,hme="[object Object]",dme=Function.prototype,pme=Object.prototype,NV=dme.toString,mme=pme.hasOwnProperty,gme=NV.call(Object);function yme(t){if(!fme(t)||ume(t)!=hme)return!1;var e=cme(t);if(e===null)return!0;var n=mme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NV.call(n)==gme}var vme=yme;const wme=We(vme);var _me=qi,bme=Gi,xme="[object Boolean]";function Sme(t){return t===!0||t===!1||bme(t)&&_me(t)==xme}var Eme=Sme;const Tme=We(Eme);function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function Ame(t,e){return Cme(t)||Ome(t,e)||Ime(t,e)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ime(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ome(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Cme(t){if(Array.isArray(t))return t}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e,n){return e=Rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rme(t){var e=jme(t,"string");return Gf(e)=="symbol"?e:e+""}function jme(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ak=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Nme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mme=function(e){var n=sk(sk({},Nme),e),r=N.useRef(),i=N.useState(-1),o=Ame(i,2),s=o[0],a=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,g=n.animationEasing,w=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=Ie("recharts-trapezoid",p);return y?D.createElement($r,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:w,animationEasing:g,isActive:y},function(b){var A=b.upperWidth,x=b.lowerWidth,I=b.height,E=b.x,T=b.y;return D.createElement($r,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:g},D.createElement("path",Fm({},_e(n,!0),{className:_,d:ak(E,T,A,x,I),ref:r})))}):D.createElement("g",null,D.createElement("path",Fm({},_e(n,!0),{className:_,d:ak(l,u,c,f,d)})))},Dme=["option","shapeType","propTransformer","activeClassName","isActive"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function $me(t,e){if(t==null)return{};var n=Lme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vme(t,e,n){return e=Fme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fme(t){var e=Bme(t,"string");return Xf(e)=="symbol"?e:e+""}function Bme(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ume(t,e){return Bm(Bm({},e),t)}function zme(t,e){return t==="symbols"}function uk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement($E,n);case"trapezoid":return D.createElement(Mme,n);case"sector":return D.createElement(SV,n);case"symbols":if(zme(e))return D.createElement(gy,n);break;default:return null}}function Wme(t){return N.isValidElement(t)?t.props:t}function sb(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Ume:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=$me(t,Dme),u;if(N.isValidElement(e))u=N.cloneElement(e,Bm(Bm({},l),Wme(e)));else if(xe(e))u=e(l);else if(wme(e)&&!Tme(e)){var c=i(e,l);u=D.createElement(uk,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(uk,{shapeType:n,elementProps:f})}return a?D.createElement(Me,{className:s},u):u}function Cy(t,e){return e!=null&&"trapezoids"in t.props}function ky(t,e){return e!=null&&"sectors"in t.props}function Yf(t,e){return e!=null&&"points"in t.props}function Hme(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Kme(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function qme(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Gme(t,e){var n;return Cy(t,e)?n=Hme:ky(t,e)?n=Kme:Yf(t,e)&&(n=qme),n}function Xme(t,e){var n;return Cy(t,e)?n="trapezoids":ky(t,e)?n="sectors":Yf(t,e)&&(n="points"),n}function Yme(t,e){if(Cy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ky(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yf(t,e)?e.payload:{}}function Qme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Xme(n,e),o=Yme(n,e),s=r.filter(function(l,u){var c=Xs(o,l),f=n.props[i].filter(function(g){var w=Gme(n,e);return w(g,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var Jme=Math.ceil,Zme=Math.max;function ege(t,e,n,r){for(var i=-1,o=Zme(Jme((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var tge=ege,nge=dL,ck=1/0,rge=17976931348623157e292;function ige(t){if(!t)return t===0?t:0;if(t=nge(t),t===ck||t===-ck){var e=t<0?-1:1;return e*rge}return t===t?t:0}var MV=ige,oge=tge,sge=wy,g0=MV;function age(t){return function(e,n,r){return r&&typeof r!="number"&&sge(e,n,r)&&(n=r=void 0),e=g0(e),n===void 0?(n=e,e=0):n=g0(n),r=r===void 0?e<n?1:-1:g0(r),oge(e,n,r,t)}}var lge=age,uge=lge,cge=uge(),fge=cge;const Um=We(fge);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){DV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DV(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=dge(t,"string");return Qf(e)=="symbol"?e:e+""}function dge(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pge=["Webkit","Moz","O","ms"],mge=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=pge.reduce(function(o,s){return hk(hk({},o),{},DV({},s+r,n))},{});return i[e]=n,i};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function yge(t,e,n){return e&&pk(t.prototype,e),n&&pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vge(t,e,n){return e=Wm(e),wge(t,$V()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function wge(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(t)}function _ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function bge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function Un(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t){var e=xge(t,"string");return $l(e)=="symbol"?e:e+""}function xge(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sge=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Dc().domain(Um(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},mk=function(e){return e.changedTouches&&!!e.changedTouches.length},Ll=function(t){function e(n){var r;return gge(this,e),r=vge(this,e,[n]),Un(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Un(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Un(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Un(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Un(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Un(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Un(r,"handleSlideDragStart",function(i){var o=mk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bge(e,t),yge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),g=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Lt(o[r],a,r);return xe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,g=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-f-a,u+c-f-s):w<0&&(w=Math.max(w,u-s,u-a));var v=this.getIndex({startX:s+w,endX:a+w});(v.startIndex!==d||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=mk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,g=c.onChange,w=c.gap,v=c.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-p-u):_<0&&(_=Math.max(_,f-u)),y[s]=u+_;var b=this.getIndex(y),A=b.startIndex,x=b.endIndex,I=function(){var T=v.length-1;return s==="startX"&&(a>l?A%w===0:x%w===0)||a<l&&x===T||s==="endX"&&(a>l?x%w===0:A%w===0)||a>l&&x===T};this.setState(Un(Un({},s,u+_),"brushMoveStartX",r.pageX),function(){g&&I()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Un({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=N.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,g=l.data,w=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),_=y0(y0({},_e(this.props,!1)),{},{x:y,y:u,width:c,height:f}),b=p||"Min value: ".concat((o=g[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return D.createElement(Me,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),a.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,g={pointerEvents:"none",fill:u};return D.createElement(Me,{className:"recharts-brush-texts"},D.createElement(vm,zm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},g),this.getTextOfTick(i)),D.createElement(vm,zm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+a/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,g=d.endX,w=d.isTextActive,v=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!Z(a)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var b=Ie("recharts-brush",o),A=D.Children.count(s)===1,x=mge("userSelect","none");return D.createElement(Me,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(w||v||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return y0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Sge({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(N.PureComponent);Un(Ll,"displayName","Brush");Un(Ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ege=lE;function Tge(t,e){var n;return Ege(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Age=Tge,Pge=V$,Ige=Yo,Oge=Age,Cge=Vn,kge=wy;function Rge(t,e,n){var r=Cge(t)?Pge:Oge;return n&&kge(t,e,n)&&(e=void 0),r(t,Ige(e))}var jge=Rge;const Nge=We(jge);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},gk=aL;function Mge(t,e,n){e=="__proto__"&&gk?gk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Dge=Mge,$ge=Dge,Lge=oL,Vge=Yo;function Fge(t,e){var n={};return e=Vge(e),Lge(t,function(r,i,o){$ge(n,i,e(r,i,o))}),n}var Bge=Fge;const Uge=We(Bge);function zge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Wge=zge,Hge=lE;function Kge(t,e){var n=!0;return Hge(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var qge=Kge,Gge=Wge,Xge=qge,Yge=Yo,Qge=Vn,Jge=wy;function Zge(t,e,n){var r=Qge(t)?Gge:Xge;return n&&Jge(t,e,n)&&(e=void 0),r(t,Yge(e))}var eye=Zge;const VV=We(eye);var tye=["x","y"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nye(t,e,n){return e=rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rye(t){var e=iye(t,"string");return Jf(e)=="symbol"?e:e+""}function iye(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oye(t,e){if(t==null)return{};var n=sye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aye(t,e){var n=t.x,r=t.y,i=oye(t,tye),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return oc(oc(oc(oc(oc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function vk(t){return D.createElement(sb,lb({shapeType:"rectangle",propTransformer:aye,activeClassName:"recharts-active-bar"},t))}var lye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Z(r)||SY(r);return o?e(r,i):(o||Qs(),n)}},uye=["value","background"],FV;function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function cye(t,e){if(t==null)return{};var n=fye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UV(r.key),r)}}function dye(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pye(t,e,n){return e=Km(e),mye(t,BV()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function mye(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(t)}function gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function _o(t,e,n){return e=UV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UV(t){var e=vye(t,"string");return Vl(e)=="symbol"?e:e+""}function vye(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(){var n;hye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=pye(this,e,[].concat(i)),_o(n,"state",{isAnimationFinished:!1}),_o(n,"id",sa("recharts-bar-")),_o(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),_o(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return yye(e,t),dye(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=_e(this.props,!1);return r&&r.map(function(f,d){var p=d===l,g=p?u:s,w=It(It(It({},c),f),{},{isActive:p,option:g,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(Me,Hm({className:"recharts-bar-rectangle"},bf(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),D.createElement(vk,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement($r,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,w=o.map(function(v,y){var _=d&&d[y];if(_){var b=Et(_.x,v.x),A=Et(_.y,v.y),x=Et(_.width,v.width),I=Et(_.height,v.height);return It(It({},v),{},{x:b(g),y:A(g),width:x(g),height:I(g)})}if(s==="horizontal"){var E=Et(0,v.height),T=E(g);return It(It({},v),{},{y:v.y+v.height-T,height:T})}var P=Et(0,v.width),C=P(g);return It(It({},v),{},{width:C})});return D.createElement(Me,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Xs(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=_e(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=cye(u,uye);if(!f)return null;var p=It(It(It(It(It({},d),{},{fill:"#eee"},f),l),bf(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(vk,Hm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Ln(c,Eu);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Lt(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Me,g,f.map(function(w){return D.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,g=r.background,w=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=Ie("recharts-bar",s),_=a&&a.allowDataOverflow,b=l&&l.allowDataOverflow,A=_||b,x=ve(w)?this.id:w;return D.createElement(Me,{className:y},_||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(x)},D.createElement("rect",{x:_?u:u-f/2,y:b?c:c-d/2,width:_?f:f*2,height:b?d:d*2}))):null,D.createElement(Me,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,x),(!p||v)&&Zr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);FV=ts;_o(ts,"displayName","Bar");_o(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_o(ts,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Hfe(r,n);if(!p)return null;var g=e.layout,w=n.type.defaultProps,v=w!==void 0?It(It({},w),n.props):n.props,y=v.dataKey,_=v.children,b=v.minPointSize,A=g==="horizontal"?s:o,x=u?A.scale.domain():null,I=Zfe({numericAxis:A}),E=Ln(_,fE),T=f.map(function(P,C){var k,j,R,F,V,W;u?k=Kfe(u[c+C],x):(k=Lt(P,y),Array.isArray(k)||(k=[I,k]));var z=lye(b,FV.defaultProps.minPointSize)(k[1],C);if(g==="horizontal"){var $,B=[s.scale(k[0]),s.scale(k[1])],G=B[0],te=B[1];j=xC({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:P,index:C}),R=($=te??G)!==null&&$!==void 0?$:void 0,F=p.size;var Y=G-te;if(V=Number.isNaN(Y)?0:Y,W={x:j,y:s.y,width:F,height:s.height},Math.abs(z)>0&&Math.abs(V)<Math.abs(z)){var ne=kr(V||z)*(Math.abs(z)-Math.abs(V));R-=ne,V+=ne}}else{var Se=[o.scale(k[0]),o.scale(k[1])],Ae=Se[0],Fe=Se[1];if(j=Ae,R=xC({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:C}),F=Fe-Ae,V=p.size,W={x:o.x,y:R,width:o.width,height:V},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var it=kr(F||z)*(Math.abs(z)-Math.abs(F));F+=it}}return It(It(It({},P),{},{x:j,y:R,width:F,height:V,value:u?k:k[1],payload:P,background:W},E&&E[C]&&E[C].props),{},{tooltipPayload:[_V(n,P)],tooltipPosition:{x:j+F/2,y:R+V/2}})});return It({data:T,layout:g},d)});function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function _ye(t,e,n){return e&&bk(t.prototype,e),n&&bk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ry(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=bye(t,"string");return Zf(e)=="symbol"?e:e+""}function bye(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WV=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!Wn(u,ts);return c.reduce(function(p,g){var w=n[g],v=w.orientation,y=w.domain,_=w.padding,b=_===void 0?{}:_,A=w.mirror,x=w.reversed,I="".concat(v).concat(A?"Mirror":""),E,T,P,C,k;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var j=y[1]-y[0],R=1/0,F=w.categoricalDomain.sort(PY);if(F.forEach(function(Se,Ae){Ae>0&&(R=Math.min((Se||0)-(F[Ae-1]||0),R))}),Number.isFinite(R)){var V=R/j,W=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(E=V*W/2),w.padding==="no-gap"){var z=Gs(e.barCategoryGap,V*W),$=V*W/2;E=$-z-($-z)/W*z}}}i==="xAxis"?T=[r.left+(b.left||0)+(E||0),r.left+r.width-(b.right||0)-(E||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(E||0),r.top+r.height-(b.bottom||0)-(E||0)]:T=w.range,x&&(T=[T[1],T[0]]);var B=zfe(w,o,d),G=B.scale,te=B.realScaleType;G.domain(y).range(T),Wfe(G);var Y=Jfe(G,Ar(Ar({},w),{},{realScaleType:te}));i==="xAxis"?(k=v==="top"&&!A||v==="bottom"&&A,P=r.left,C=f[I]-k*w.height):i==="yAxis"&&(k=v==="left"&&!A||v==="right"&&A,P=f[I]-k*w.width,C=r.top);var ne=Ar(Ar(Ar({},w),Y),{},{realScaleType:te,x:P,y:C,scale:G,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return ne.bandSize=Rm(ne,Y),!w.hide&&i==="xAxis"?f[I]+=(k?-1:1)*ne.height:w.hide||(f[I]+=(k?-1:1)*ne.width),Ar(Ar({},p),{},Ry({},g,ne))},{})},HV=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},xye=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return HV({x:n,y:r},{x:i,y:o})},KV=function(){function t(e){wye(this,t),this.scale=e}return _ye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ry(KV,"EPS",1e-4);var LE=function(e){var n=Object.keys(e).reduce(function(r,i){return Ar(Ar({},r),{},Ry({},i,KV.create(e[i])))},{});return Ar(Ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Uge(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return VV(i,function(o,s){return n[s].isInRange(o)})}})};function Sye(t){return(t%180+180)%180}var Eye=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Sye(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Tye=Yo,Aye=Ih,Pye=yy;function Iye(t){return function(e,n,r){var i=Object(e);if(!Aye(e)){var o=Tye(n);e=Pye(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Oye=Iye,Cye=MV;function kye(t){var e=Cye(t),n=e%1;return e===e?n?e-n:e:0}var Rye=kye,jye=Z$,Nye=Yo,Mye=Rye,Dye=Math.max;function $ye(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Mye(n);return i<0&&(i=Dye(r+i,0)),jye(t,Nye(e),i)}var Lye=$ye,Vye=Oye,Fye=Lye,Bye=Vye(Fye),Uye=Bye;const zye=We(Uye);var Wye=OX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VE=N.createContext(void 0),FE=N.createContext(void 0),qV=N.createContext(void 0),GV=N.createContext({}),XV=N.createContext(void 0),YV=N.createContext(0),QV=N.createContext(0),Sk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Wye(o);return D.createElement(VE.Provider,{value:r},D.createElement(FE.Provider,{value:i},D.createElement(GV.Provider,{value:o},D.createElement(qV.Provider,{value:c},D.createElement(XV.Provider,{value:s},D.createElement(YV.Provider,{value:u},D.createElement(QV.Provider,{value:l},a)))))))},Hye=function(){return N.useContext(XV)},JV=function(e){var n=N.useContext(VE);n==null&&Qs();var r=n[e];return r==null&&Qs(),r},Kye=function(){var e=N.useContext(VE);return ho(e)},qye=function(){var e=N.useContext(FE),n=zye(e,function(r){return VV(r.domain,Number.isFinite)});return n||ho(e)},ZV=function(e){var n=N.useContext(FE);n==null&&Qs();var r=n[e];return r==null&&Qs(),r},Gye=function(){var e=N.useContext(qV);return e},Xye=function(){return N.useContext(GV)},BE=function(){return N.useContext(QV)},UE=function(){return N.useContext(YV)};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tF(r.key),r)}}function Jye(t,e,n){return e&&Qye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zye(t,e,n){return e=qm(e),eve(t,eF()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function eve(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(t)}function tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zE(t,e,n){return e=tF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tF(t){var e=rve(t,"string");return Fl(e)=="symbol"?e:e+""}function rve(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ive(t,e){return lve(t)||ave(t,e)||sve(t,e)||ove()}function ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sve(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lve(t){if(Array.isArray(t))return t}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}var uve=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):xe(e)?r=e(n):r=D.createElement("line",fb({},n,{className:"recharts-reference-line-line"})),r},cve=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var g=u.y,w=e.y.apply(g,{position:s});if(ei(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:c+d,y:w},{x:c,y:w}];return l==="left"?v.reverse():v}if(n){var y=u.x,_=e.x.apply(y,{position:s});if(ei(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+p},{x:_,y:f}];return a==="top"?b.reverse():b}if(i){var A=u.segment,x=A.map(function(I){return e.apply(I,{position:s})});return ei(u,"discard")&&Nge(x,function(I){return!e.isInRange(I)})?null:x}return null};function fve(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=Hye(),c=JV(i),f=ZV(o),d=Gye();if(!u||!d)return null;Ai(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=LE({x:c.scale,y:f.scale}),g=Dt(e),w=Dt(n),v=r&&r.length===2,y=cve(p,g,w,v,d,t.position,c.orientation,f.orientation,t);if(!y)return null;var _=ive(y,2),b=_[0],A=b.x,x=b.y,I=_[1],E=I.x,T=I.y,P=ei(t,"hidden")?"url(#".concat(u,")"):void 0,C=Tk(Tk({clipPath:P},_e(t,!0)),{},{x1:A,y1:x,x2:E,y2:T});return D.createElement(Me,{className:Ie("recharts-reference-line",a)},uve(s,C),gn.renderCallByParent(t,xye({x1:A,y1:x,x2:E,y2:T})))}var jy=function(t){function e(){return Yye(this,e),Zye(this,e,arguments)}return nve(e,t),Jye(e,[{key:"render",value:function(){return D.createElement(fve,this.props)}}])}(D.Component);zE(jy,"displayName","ReferenceLine");zE(jy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rF(r.key),r)}}function pve(t,e,n){return e&&dve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mve(t,e,n){return e=Gm(e),gve(t,nF()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function gve(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yve(t)}function yve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function vve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function Ny(t,e,n){return e=rF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=wve(t,"string");return Bl(e)=="symbol"?e:e+""}function wve(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ve=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=LE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!s.isInRange(a)?null:a},jh=function(t){function e(){return hve(this,e),mve(this,e,arguments)}return vve(e,t),pve(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(Ai(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=_ve(this.props);if(!f)return null;var d=f.x,p=f.y,g=this.props,w=g.shape,v=g.className,y=ei(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=Ik(Ik({clipPath:y},_e(this.props,!0)),{},{cx:d,cy:p});return D.createElement(Me,{className:Ie("recharts-reference-dot",v)},e.renderDot(w,_),gn.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(D.Component);Ny(jh,"displayName","ReferenceDot");Ny(jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ny(jh,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):xe(t)?n=t(e):n=D.createElement(Oy,hb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){My(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oF(r.key),r)}}function Sve(t,e,n){return e&&xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,e,n){return e=Xm(e),Tve(t,iF()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function Tve(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ave(t)}function Ave(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function Pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function My(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){var e=Ive(t,"string");return Ul(e)=="symbol"?e:e+""}function Ive(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ove=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=LE({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ei(o,"discard")&&(!d.isInRange(p)||!d.isInRange(g))?null:HV(p,g)},Dy=function(t){function e(){return bve(this,e),Eve(this,e,arguments)}return Pve(e,t),Sve(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),d=Dt(o),p=Dt(s),g=Dt(a),w=this.props.shape;if(!f&&!d&&!p&&!g&&!w)return null;var v=Ove(f,d,p,g,this.props);if(!v&&!w)return null;var y=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(Me,{className:Ie("recharts-reference-area",l)},e.renderRect(w,Ck(Ck({clipPath:y},_e(this.props,!0)),v)),gn.renderCallByParent(this.props,v))}}])}(D.Component);My(Dy,"displayName","ReferenceArea");My(Dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});My(Dy,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):xe(t)?n=t(e):n=D.createElement($E,pb({},e,{className:"recharts-reference-area-rect"})),n});function sF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Cve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Eye(r,n)}function kve(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Ym(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Rve(t,e){return sF(t,e+1)}function jve(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:sF(r,u)};var w=l,v,y=function(){return v===void 0&&(v=n(g,w)),v},_=g.coordinate,b=l===0||Ym(t,_,y,c,a);b||(l=0,c=s,u+=1),b&&(c=_+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Nve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nve(t,e,n){return e=Mve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mve(t){var e=Dve(t,"string");return eh(e)=="symbol"?e:e+""}function Dve(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ve(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],g,w=function(){return g===void 0&&(g=n(p,d)),g};if(d===s-1){var v=t*(p.coordinate+t*w()/2-l);o[d]=p=fn(fn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=fn(fn({},p),{},{tickCoord:p.coordinate});var y=Ym(t,p.tickCoord,w,a,l);y&&(l=p.tickCoord-t*(w()/2+i),o[d]=fn(fn({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Lve(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=fn(fn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Ym(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=fn(fn({},c),{},{isShow:!0}))}for(var g=o?a-1:a,w=function(_){var b=s[_],A,x=function(){return A===void 0&&(A=n(b,_)),A};if(_===0){var I=t*(b.coordinate-t*x()/2-l);s[_]=b=fn(fn({},b),{},{tickCoord:I<0?b.coordinate-I*t:b.coordinate})}else s[_]=b=fn(fn({},b),{},{tickCoord:b.coordinate});var E=Ym(t,b.tickCoord,x,l,u);E&&(l=b.tickCoord+t*(x()/2+i),s[_]=fn(fn({},b),{},{isShow:!0}))},v=0;v<g;v++)w(v);return s}function WE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Qo.isSsr)return Rve(i,typeof l=="number"&&Z(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",g=c&&p==="width"?Mc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(b,A){var x=xe(u)?u(b.value,A):b.value;return p==="width"?Cve(Mc(x,{fontSize:e,letterSpacing:n}),g,f):Mc(x,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?kr(i[1].coordinate-i[0].coordinate):1,y=kve(o,v,p);return l==="equidistantPreserveStart"?jve(v,y,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=Lve(v,y,w,i,s,l==="preserveStartEnd"):d=$ve(v,y,w,i,s),d.filter(function(_){return _.isShow}))}var Vve=["viewBox"],Fve=["viewBox"],Bve=["ticks"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){HE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v0(t,e){if(t==null)return{};var n=Uve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lF(r.key),r)}}function Wve(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hve(t,e,n){return e=Qm(e),Kve(t,aF()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function Kve(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(t)}function qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function Gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function HE(t,e,n){return e=lF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lF(t){var e=Xve(t,"string");return zl(e)=="symbol"?e:e+""}function Xve(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tu=function(t){function e(n){var r;return zve(this,e),r=Hve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gve(e,t),Wve(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=v0(r,Vve),a=this.props,l=a.viewBox,u=v0(a,Fve);return!al(o,l)||!al(s,u)||!al(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,g,w,v,y,_,b=f?-1:1,A=r.tickSize||c,x=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,v=s+ +!f*l,w=v-b*A,_=w-b*d,y=x;break;case"left":w=v=r.coordinate,g=o+ +!f*a,p=g-b*A,y=p-b*d,_=x;break;case"right":w=v=r.coordinate,g=o+ +f*a,p=g+b*A,y=p+b*d,_=x;break;default:p=g=r.coordinate,v=s+ +f*l,w=v+b*A,_=w+b*d,y=x;break}return{line:{x1:p,y1:w,x2:g,y2:v},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Rt(Rt(Rt({},_e(this.props,!1)),_e(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Rt(Rt({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Rt(Rt({},f),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return D.createElement("line",Fa({},f,{className:Ie("recharts-cartesian-axis-line",dr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,p=WE(Rt(Rt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=_e(this.props,!1),y=_e(c,!1),_=Rt(Rt({},v),{},{fill:"none"},_e(l,!1)),b=p.map(function(A,x){var I=s.getTickLineCoord(A),E=I.line,T=I.tick,P=Rt(Rt(Rt(Rt({textAnchor:g,verticalAnchor:w},v),{},{stroke:"none",fill:u},y),T),{},{index:x,payload:A,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(Me,Fa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},bf(s.props,A,x)),l&&D.createElement("line",Fa({},_,E,{className:Ie("recharts-cartesian-axis-tick-line",dr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(xe(f)?f(A.value,x):A.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=v0(f,Bve),g=d;return xe(l)&&(g=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!g||!g.length?null:D.createElement(Me,{className:Ie("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ie(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?s=D.cloneElement(r,Rt(Rt({},i),{},{className:a})):xe(r)?s=r(Rt(Rt({},i),{},{className:a})):s=D.createElement(vm,Fa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(N.Component);HE(Tu,"displayName","CartesianAxis");HE(Tu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yve=["x1","y1","x2","y2","key"],Qve=["offset"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jve(t,e,n){return e=Zve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zve(t){var e=e0e(t,"string");return Js(e)=="symbol"?e:e+""}function e0e(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function Mk(t,e){if(t==null)return{};var n=t0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n0e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function uF(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(xe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=Mk(e,Yve),u=_e(l,!1);u.offset;var c=Mk(u,Qve);n=D.createElement("line",Es({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function r0e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return uF(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function i0e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return uF(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function o0e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],w=g?i+s-d:c[p+1]-d;if(w<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:w,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function s0e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],w=g?o+a-d:c[p+1]-d;if(w<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:w,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var a0e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return vV(WE(yn(yn(yn({},Tu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},l0e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return vV(WE(yn(yn(yn({},Tu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},_a={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jm(t){var e,n,r,i,o,s,a=BE(),l=UE(),u=Xye(),c=yn(yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_a.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:_a.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:_a.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_a.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:_a.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:_a.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,g=c.height,w=c.syncWithTicks,v=c.horizontalValues,y=c.verticalValues,_=Kye(),b=qye();if(!Z(p)||p<=0||!Z(g)||g<=0||!Z(f)||f!==+f||!Z(d)||d!==+d)return null;var A=c.verticalCoordinatesGenerator||a0e,x=c.horizontalCoordinatesGenerator||l0e,I=c.horizontalPoints,E=c.verticalPoints;if((!I||!I.length)&&xe(x)){var T=v&&v.length,P=x({yAxis:b?yn(yn({},b),{},{ticks:T?v:b.ticks}):void 0,width:a,height:l,offset:u},T?!0:w);Ai(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Js(P),"]")),Array.isArray(P)&&(I=P)}if((!E||!E.length)&&xe(A)){var C=y&&y.length,k=A({xAxis:_?yn(yn({},_),{},{ticks:C?y:_.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);Ai(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Js(k),"]")),Array.isArray(k)&&(E=k)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(n0e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(r0e,Es({},c,{offset:u,horizontalPoints:I,xAxis:_,yAxis:b})),D.createElement(i0e,Es({},c,{offset:u,verticalPoints:E,xAxis:_,yAxis:b})),D.createElement(o0e,Es({},c,{horizontalPoints:I})),D.createElement(s0e,Es({},c,{verticalPoints:E})))}Jm.displayName="CartesianGrid";var u0e=["type","layout","connectNulls","ref"],c0e=["key"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Dk(t,e){if(t==null)return{};var n=f0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ba(t){return m0e(t)||p0e(t)||d0e(t)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(t,e){if(t){if(typeof t=="string")return yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yb(t,e)}}function p0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m0e(t){if(Array.isArray(t))return yb(t)}function yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fF(r.key),r)}}function y0e(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v0e(t,e,n){return e=Zm(e),w0e(t,cF()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function w0e(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(t)}function _0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function b0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function Pr(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fF(t){var e=x0e(t,"string");return Wl(e)=="symbol"?e:e+""}function x0e(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fr=function(t){function e(){var n;g0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=v0e(this,e,[].concat(i)),Pr(n,"state",{isAnimationFinished:!0,totalLength:0}),Pr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Pr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(y,_){return y+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,d=a-s,p=[],g=0,w=0;g<l.length;w+=l[g],++g)if(w+l[g]>f){p=[].concat(ba(l.slice(0,g)),[f-w]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(ba(e.repeat(l,c)),ba(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Pr(n,"id",sa("recharts-line-")),Pr(n,"pathRef",function(s){n.mainCurve=s}),Pr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Pr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return b0e(e,t),y0e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Ln(c,Eu);if(!f)return null;var d=function(w,v){return{x:w.x,y:w.y,value:w.value,errorVal:Lt(w.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Me,p,f.map(function(g){return D.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=_e(this.props,!1),d=_e(l,!0),p=u.map(function(w,v){var y=Bn(Bn(Bn({key:"dot-".concat(v),r:3},f),d),{},{index:v,cx:w.x,cy:w.y,value:w.value,dataKey:c,payload:w.payload,points:u});return e.renderDotItem(l,y)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(Me,Vc({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=Dk(a,u0e),d=Bn(Bn(Bn({},_e(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return D.createElement(Ms,Vc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,g=s.animateNewValues,w=s.width,v=s.height,y=this.state,_=y.prevPoints,b=y.totalLength;return D.createElement($r,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var x=A.t;if(_){var I=_.length/a.length,E=a.map(function(j,R){var F=Math.floor(R*I);if(_[F]){var V=_[F],W=Et(V.x,j.x),z=Et(V.y,j.y);return Bn(Bn({},j),{},{x:W(x),y:z(x)})}if(g){var $=Et(w*2,j.x),B=Et(v/2,j.y);return Bn(Bn({},j),{},{x:$(x),y:B(x)})}return Bn(Bn({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(E,r,i)}var T=Et(0,b),P=T(x),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});C=o.getStrokeDasharray(P,b,k)}else C=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!Xs(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,g=i.height,w=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var y=this.state.isAnimationFinished,_=a.length===1,b=Ie("recharts-line",l),A=u&&u.allowDataOverflow,x=c&&c.allowDataOverflow,I=A||x,E=ve(v)?this.id:v,T=(r=_e(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,C=P===void 0?3:P,k=T.strokeWidth,j=k===void 0?2:k,R=c$(s)?s:{},F=R.clipDot,V=F===void 0?!0:F,W=C*2+j;return D.createElement(Me,{className:b},A||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:A?d:d-p/2,y:x?f:f-g/2,width:A?p:p*2,height:x?g:g*2})),!V&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:d-W/2,y:f-W/2,width:p+W,height:g+W}))):null,!_&&this.renderCurve(I,E),this.renderErrorBar(I,E),(_||s)&&this.renderDots(I,V,E),(!w||y)&&Zr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ba(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(ba(s),ba(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(xe(r))o=r(i);else{var s=i.key,a=Dk(i,c0e),l=Ie("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(Oy,Vc({key:s},a,{className:l}))}return o}}])}(N.PureComponent);Pr(fr,"displayName","Line");Pr(fr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pr(fr,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var g=Lt(d,s);return c==="horizontal"?{x:Ml({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:ve(g)?null:r.scale(g),value:g,payload:d}:{x:ve(g)?null:n.scale(g),y:Ml({axis:r,ticks:o,bandSize:a,entry:d,index:p}),value:g,payload:d}});return Bn({points:f,layout:c},u)});var S0e=["layout","type","stroke","connectNulls","isRange","ref"],E0e=["key"],hF;function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function dF(t,e){if(t==null)return{};var n=T0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mF(r.key),r)}}function P0e(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I0e(t,e,n){return e=eg(e),O0e(t,pF()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function O0e(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C0e(t)}function C0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function k0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function Wr(t,e,n){return e=mF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mF(t){var e=R0e(t,"string");return Hl(e)=="symbol"?e:e+""}function R0e(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ca=function(t){function e(){var n;A0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=I0e(this,e,[].concat(i)),Wr(n,"state",{isAnimationFinished:!0}),Wr(n,"id",sa("recharts-area-")),Wr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xe(s)&&s()}),Wr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xe(s)&&s()}),n}return k0e(e,t),P0e(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=_e(this.props,!1),p=_e(u,!0),g=c.map(function(v,y){var _=to(to(to({key:"dot-".concat(y),r:3},d),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,_)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(Me,Ts({className:"recharts-area-dots"},w),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=wo(s.map(function(d){return d.y||0}));return Z(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(wo(o.map(function(d){return d.y||0})),f)),Z(f)?D.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=wo(s.map(function(d){return d.x||0}));return Z(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(wo(o.map(function(d){return d.x||0})),f)),Z(f)?D.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,d=a.isRange;a.ref;var p=dF(a,S0e);return D.createElement(Me,{clipPath:o?"url(#clipPath-".concat(s,")"):null},D.createElement(Ms,Ts({},_e(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&D.createElement(Ms,Ts({},_e(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&D.createElement(Ms,Ts({},_e(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,g=this.state,w=g.prevPoints,v=g.prevBaseLine;return D.createElement($r,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t;if(w){var b=w.length/a.length,A=a.map(function(T,P){var C=Math.floor(P*b);if(w[C]){var k=w[C],j=Et(k.x,T.x),R=Et(k.y,T.y);return to(to({},T),{},{x:j(_),y:R(_)})}return T}),x;if(Z(l)&&typeof l=="number"){var I=Et(v,l);x=I(_)}else if(ve(l)||yu(l)){var E=Et(v,0);x=E(_)}else x=l.map(function(T,P){var C=Math.floor(P*b);if(v[C]){var k=v[C],j=Et(k.x,T.x),R=Et(k.y,T.y);return to(to({},T),{},{x:j(_),y:R(_)})}return T});return o.renderAreaStatically(A,x,r,i)}return D.createElement(Me,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),D.createElement(Me,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&s&&s.length&&(!c&&d>0||!Xs(c,s)||!Xs(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,p=i.width,g=i.height,w=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var y=this.state.isAnimationFinished,_=a.length===1,b=Ie("recharts-area",l),A=f&&f.allowDataOverflow,x=d&&d.allowDataOverflow,I=A||x,E=ve(v)?this.id:v,T=(r=_e(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,C=P===void 0?3:P,k=T.strokeWidth,j=k===void 0?2:k,R=c$(s)?s:{},F=R.clipDot,V=F===void 0?!0:F,W=C*2+j;return D.createElement(Me,{className:b},A||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:A?c:c-p/2,y:x?u:u-g/2,width:A?p:p*2,height:x?g:g*2})),!V&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:c-W/2,y:u-W/2,width:p+W,height:g+W}))):null,_?null:this.renderArea(I,E),(s||_)&&this.renderDots(I,V,E),(!w||y)&&Zr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);hF=ca;Wr(ca,"displayName","Area");Wr(ca,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wr(ca,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(Z(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Wr(ca,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=e.layout,g=u&&u.length,w=hF.getBaseValue(e,n,r,i),v=p==="horizontal",y=!1,_=f.map(function(A,x){var I;g?I=u[c+x]:(I=Lt(A,l),Array.isArray(I)?y=!0:I=[w,I]);var E=I[1]==null||g&&Lt(A,l)==null;return v?{x:Ml({axis:r,ticks:o,bandSize:a,entry:A,index:x}),y:E?null:i.scale(I[1]),value:I,payload:A}:{x:E?null:r.scale(I[1]),y:Ml({axis:i,ticks:s,bandSize:a,entry:A,index:x}),value:I,payload:A}}),b;return g||y?b=_.map(function(A){var x=Array.isArray(A.value)?A.value[0]:null;return v?{x:A.x,y:x!=null&&A.y!=null?i.scale(x):null}:{x:x!=null?r.scale(x):null,y:A.y}}):b=v?i.scale(w):r.scale(w),to({points:_,baseLine:b,layout:p,isRange:y},d)});Wr(ca,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(xe(t))n=t(e);else{var r=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=dF(e,E0e);n=D.createElement(Oy,Ts({},o,{key:i,className:r}))}return n});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function j0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vF(r.key),r)}}function M0e(t,e,n){return e&&N0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D0e(t,e,n){return e=tg(e),$0e(t,gF()?Reflect.construct(e,n||[],tg(t).constructor):e.apply(t,n))}function $0e(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(t)}function L0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function V0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function yF(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=F0e(t,"string");return Kl(e)=="symbol"?e:e+""}function F0e(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $y=function(t){function e(){return j0e(this,e),D0e(this,e,arguments)}return V0e(e,t),M0e(e,[{key:"render",value:function(){return null}}])}(N.Component);yF($y,"displayName","ZAxis");yF($y,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var B0e=["option","isActive"];function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function U0e(t,e){if(t==null)return{};var n=z0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W0e(t){var e=t.option,n=t.isActive,r=U0e(t,B0e);return typeof e=="string"?N.createElement(sb,Fc({option:N.createElement(gy,Fc({type:e},r)),isActive:n,shapeType:"symbols"},r)):N.createElement(sb,Fc({option:e,isActive:n,shapeType:"symbols"},r))}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_F(r.key),r)}}function K0e(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q0e(t,e,n){return e=ng(e),G0e(t,wF()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function G0e(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0e(t)}function X0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function Y0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function bo(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=Q0e(t,"string");return ql(e)=="symbol"?e:e+""}function Q0e(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ly=function(t){function e(){var n;H0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=q0e(this,e,[].concat(i)),bo(n,"state",{isAnimationFinished:!1}),bo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),bo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),bo(n,"id",sa("recharts-scatter-")),n}return Y0e(e,t),K0e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.activeShape,l=o.activeIndex,u=_e(this.props,!1);return r.map(function(c,f){var d=l===f,p=d?a:s,g=sr(sr({},u),c);return D.createElement(Me,Bc({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(f)},bf(i.props,c,f),{role:"img"}),D.createElement(W0e,Bc({option:p,isActive:d,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return D.createElement($r,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t,g=o.map(function(w,v){var y=f&&f[v];if(y){var _=Et(y.cx,w.cx),b=Et(y.cy,w.cy),A=Et(y.size,w.size);return sr(sr({},w),{},{cx:_(p),cy:b(p),size:A(p)})}var x=Et(0,w.size);return sr(sr({},w),{},{size:x(p)})});return D.createElement(Me,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=this.state.prevPoints;return o&&i&&i.length&&(!s||!Xs(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,a=i.yAxis,l=i.children,u=Ln(l,Eu);return u?u.map(function(c,f){var d=c.props,p=d.direction,g=d.dataKey;return D.cloneElement(c,{key:"".concat(p,"-").concat(g,"-").concat(o[f]),data:o,xAxis:s,yAxis:a,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,y){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:Lt(v,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,s=r.lineType,a=r.lineJointType,l=_e(this.props,!1),u=_e(o,!1),c,f;if(s==="joint")c=i.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var d=AY(i),p=d.xmin,g=d.xmax,w=d.a,v=d.b,y=function(A){return w*A+v};c=[{x:p,y:y(p)},{x:g,y:y(g)}]}var _=sr(sr(sr({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return D.isValidElement(o)?f=D.cloneElement(o,_):xe(o)?f=o(_):f=D.createElement(Ms,Bc({},_,{type:a})),D.createElement(Me,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,s=r.line,a=r.className,l=r.xAxis,u=r.yAxis,c=r.left,f=r.top,d=r.width,p=r.height,g=r.id,w=r.isAnimationActive;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=Ie("recharts-scatter",a),_=l&&l.allowDataOverflow,b=u&&u.allowDataOverflow,A=_||b,x=ve(g)?this.id:g;return D.createElement(Me,{className:y,clipPath:A?"url(#clipPath-".concat(x,")"):null},_||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(x)},D.createElement("rect",{x:_?c:c-d/2,y:b?f:f-p/2,width:_?d:d*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),D.createElement(Me,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||v)&&Zr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(N.PureComponent);bo(Ly,"displayName","Scatter");bo(Ly,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bo(Ly,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,s=t.xAxisTicks,a=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Ln(i.props.children,fE),f=ve(e.dataKey)?i.props.dataKey:e.dataKey,d=ve(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,g=r?r.range:$y.defaultProps.range,w=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,_=o.map(function(b,A){var x=Lt(b,f),I=Lt(b,d),E=!ve(p)&&Lt(b,p)||"-",T=[{name:ve(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:x,payload:b,dataKey:f,type:u},{name:ve(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:I,payload:b,dataKey:d,type:u}];E!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:E,payload:b,dataKey:p,type:u});var P=Ml({axis:e,ticks:s,bandSize:v,entry:b,index:A,dataKey:f}),C=Ml({axis:n,ticks:a,bandSize:y,entry:b,index:A,dataKey:d}),k=E!=="-"?r.scale(E):w,j=Math.sqrt(Math.max(k,0)/Math.PI);return sr(sr({},b),{},{cx:P,cy:C,x:P-j,y:C-j,xAxis:e,yAxis:n,zAxis:r,width:2*j,height:2*j,size:k,node:{x,y:I,z:E},tooltipPayload:T,tooltipPosition:{x:P,y:C},payload:b},c&&c[A]&&c[A].props)});return sr({points:_},l)});function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function J0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SF(r.key),r)}}function ewe(t,e,n){return e&&Z0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function twe(t,e,n){return e=rg(e),nwe(t,bF()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function nwe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rwe(t)}function rwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function xF(t,e,n){return e=SF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SF(t){var e=owe(t,"string");return Gl(e)=="symbol"?e:e+""}function owe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}function swe(t){var e=t.xAxisId,n=BE(),r=UE(),i=JV(e);return i==null?null:N.createElement(Tu,Sb({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bi(s,!0)}}))}var oi=function(t){function e(){return J0e(this,e),twe(this,e,arguments)}return iwe(e,t),ewe(e,[{key:"render",value:function(){return N.createElement(swe,this.props)}}])}(N.Component);xF(oi,"displayName","XAxis");xF(oi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function awe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AF(r.key),r)}}function uwe(t,e,n){return e&&lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cwe(t,e,n){return e=ig(e),fwe(t,EF()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function fwe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hwe(t)}function hwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eb(t,e)}function TF(t,e,n){return e=AF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AF(t){var e=pwe(t,"string");return Xl(e)=="symbol"?e:e+""}function pwe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}var mwe=function(e){var n=e.yAxisId,r=BE(),i=UE(),o=ZV(n);return o==null?null:N.createElement(Tu,Tb({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return bi(a,!0)}}))},si=function(t){function e(){return awe(this,e),cwe(this,e,arguments)}return dwe(e,t),uwe(e,[{key:"render",value:function(){return N.createElement(mwe,this.props)}}])}(N.Component);TF(si,"displayName","YAxis");TF(si,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zk(t){return wwe(t)||vwe(t)||ywe(t)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wwe(t){if(Array.isArray(t))return Ab(t)}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pb=function(e,n,r,i,o){var s=Ln(e,jy),a=Ln(e,jh),l=[].concat(zk(s),zk(a)),u=Ln(e,Dy),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(w,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[f])){var y=v.props[f];return[Math.min(w[0],y),Math.max(w[1],y)]}return w},d)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");d=u.reduce(function(w,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[p])&&Z(v.props[g])){var y=v.props[p],_=v.props[g];return[Math.min(w[0],y,_),Math.max(w[1],y,_)]}return w},d)}return o&&o.length&&(d=o.reduce(function(w,v){return Z(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},d)),d},PF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,g){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],y=arguments.length,_,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,p),!0;case 6:return v.fn.call(v.context,c,f,d,p,g),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];v.fn.apply(v.context,_)}else{var A=v.length,x;for(b=0;b<A;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,f);break;case 4:v[b].fn.call(v[b].context,c,f,d);break;default:if(!_)for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];v[b].fn.apply(v[b].context,_)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var w=0,v=[],y=g.length;w<y;w++)(g[w].fn!==c||d&&!g[w].once||f&&g[w].context!==f)&&v.push(g[w]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(PF);var _we=PF.exports;const bwe=We(_we);var w0=new bwe,_0="recharts.syncMouseEvents";function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function xwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Swe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IF(r.key),r)}}function Ewe(t,e,n){return e&&Swe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0(t,e,n){return e=IF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t){var e=Twe(t,"string");return th(e)=="symbol"?e:e+""}function Twe(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Awe=function(){function t(){xwe(this,t),b0(this,"activeIndex",0),b0(this,"coordinateList",[]),b0(this,"layout","horizontal")}return Ewe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Pwe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function Iwe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=en(e,n,r,i),a=en(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Owe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=en(a,l,u,f),p=en(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return OF(e);return[{x:r,y:i},{x:o,y:s}]}function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){Cwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cwe(t,e,n){return e=kwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kwe(t){var e=Rwe(t,"string");return nh(e)=="symbol"?e:e+""}function Rwe(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jwe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var g,w=Ms;if(d==="ScatterChart")g=s,w=ome;else if(d==="BarChart")g=Iwe(f,s,l,c),w=$E;else if(f==="radial"){var v=OF(s),y=v.cx,_=v.cy,b=v.radius,A=v.startAngle,x=v.endAngle;g={cx:y,cy:_,startAngle:A,endAngle:x,innerRadius:b,outerRadius:b},w=SV}else g={points:Owe(f,s,l)},w=Ms;var I=Md(Md(Md(Md({stroke:"#ccc",pointerEvents:"none"},l),g),_e(p,!1)),{},{payload:a,payloadIndex:u,className:Ie("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,I):N.createElement(w,I)}var Nwe=["item"],Mwe=["children","className","width","height","style","compact","title","desc"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}function Hk(t,e){return Lwe(t)||$we(t,e)||kF(t,e)||Dwe()}function Dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Lwe(t){if(Array.isArray(t))return t}function Kk(t,e){if(t==null)return{};var n=Vwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function Uwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zwe(t,e,n){return e=og(e),Wwe(t,CF()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(t)}function Hwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function Kwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function Ql(t){return Xwe(t)||Gwe(t)||kF(t)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function Gwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xwe(t){if(Array.isArray(t))return Ob(t)}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function de(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=Ywe(t,"string");return Yl(e)=="symbol"?e:e+""}function Ywe(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qwe={xAxis:["bottom","top"],yAxis:["left","right"]},Jwe={width:"100%",height:"100%"},jF={x:0,y:0};function Dd(t){return t}var Zwe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},e_e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),en(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),en(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return jF},Vy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ql(a),Ql(u)):a},[]);return s.length>0?s:e&&e.length&&Z(i)&&Z(o)?e.slice(i,o+1):[]};function NF(t){return t==="number"?[0,"auto"]:void 0}var Cb=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Vy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=rm(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(Ql(l),[_V(u,d)]):l},[])},Gk=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Zwe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=$fe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Cb(e,n,c,f),p=e_e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},t_e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=yV(c,o);return r.reduce(function(g,w){var v,y=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,_=y.type,b=y.dataKey,A=y.allowDataOverflow,x=y.allowDuplicatedCategory,I=y.scale,E=y.ticks,T=y.includeHidden,P=y[s];if(g[P])return g;var C=Vy(e.data,{graphicalItems:i.filter(function(Y){var ne,Se=s in Y.props?Y.props[s]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[s];return Se===P}),dataStartIndex:l,dataEndIndex:u}),k=C.length,j,R,F;Pwe(y.domain,A,_)&&(j=W_(y.domain,null,A),p&&(_==="number"||I!=="auto")&&(F=$c(C,b,"category")));var V=NF(_);if(!j||j.length===0){var W,z=(W=y.domain)!==null&&W!==void 0?W:V;if(b){if(j=$c(C,b,_),_==="category"&&p){var $=TY(j);x&&$?(R=j,j=Um(0,k)):x||(j=TC(z,j,w).reduce(function(Y,ne){return Y.indexOf(ne)>=0?Y:[].concat(Ql(Y),[ne])},[]))}else if(_==="category")x?j=j.filter(function(Y){return Y!==""&&!ve(Y)}):j=TC(z,j,w).reduce(function(Y,ne){return Y.indexOf(ne)>=0||ne===""||ve(ne)?Y:[].concat(Ql(Y),[ne])},[]);else if(_==="number"){var B=Ufe(C,i.filter(function(Y){var ne,Se,Ae=s in Y.props?Y.props[s]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[s],Fe="hide"in Y.props?Y.props.hide:(Se=Y.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Ae===P&&(T||!Fe)}),b,o,c);B&&(j=B)}p&&(_==="number"||I!=="auto")&&(F=$c(C,b,"category"))}else p?j=Um(0,k):a&&a[P]&&a[P].hasStack&&_==="number"?j=d==="expand"?[0,1]:wV(a[P].stackGroups,l,u):j=gV(C,i.filter(function(Y){var ne=s in Y.props?Y.props[s]:Y.type.defaultProps[s],Se="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ne===P&&(T||!Se)}),_,c,!0);if(_==="number")j=Pb(f,j,P,o,E),z&&(j=W_(z,j,A));else if(_==="category"&&z){var G=z,te=j.every(function(Y){return G.indexOf(Y)>=0});te&&(j=G)}}return H(H({},g),{},de({},P,H(H({},y),{},{axisType:o,domain:j,categoricalDomain:F,duplicateDomain:R,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:c})))},{})},n_e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Vy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,g=yV(c,o),w=-1;return r.reduce(function(v,y){var _=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,b=_[s],A=NF("number");if(!v[b]){w++;var x;return g?x=Um(0,p):a&&a[b]&&a[b].hasStack?(x=wV(a[b].stackGroups,l,u),x=Pb(f,x,b,o)):(x=W_(A,gV(d,r.filter(function(I){var E,T,P=s in I.props?I.props[s]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[s],C="hide"in I.props?I.props.hide:(T=I.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===b&&!C}),"number",c),i.defaultProps.allowDataOverflow),x=Pb(f,x,b,o)),H(H({},v),{},de({},b,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:dr(Qwe,"".concat(o,".").concat(w%2),null),domain:x,originalDomain:A,isCategorical:g,layout:c})))}return v},{})},r_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=Ln(c,o),p={};return d&&d.length?p=t_e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=n_e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},i_e=function(e){var n=ho(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:uE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rm(n,r)}},Xk=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wn(n,Ll),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},o_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},Yk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},s_e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Wn(f,Ll),g=Wn(f,Rs),w=Object.keys(l).reduce(function(x,I){var E=l[I],T=E.orientation;return!E.mirror&&!E.hide?H(H({},x),{},de({},T,x[T]+E.width)):x},{left:d.left||0,right:d.right||0}),v=Object.keys(s).reduce(function(x,I){var E=s[I],T=E.orientation;return!E.mirror&&!E.hide?H(H({},x),{},de({},T,dr(x,"".concat(T))+E.height)):x},{top:d.top||0,bottom:d.bottom||0}),y=H(H({},v),w),_=y.bottom;p&&(y.bottom+=p.props.height||Ll.defaultProps.height),g&&n&&(y=Ffe(y,i,r,n));var b=u-y.left-y.right,A=c-y.top-y.bottom;return H(H({brushBottom:_},y),{},{width:Math.max(b,0),height:Math.max(A,0)})},a_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},MF=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(y,_){var b=_.graphicalItems,A=_.stackGroups,x=_.offset,I=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,P=y.barSize,C=y.layout,k=y.barGap,j=y.barCategoryGap,R=y.maxBarSize,F=Yk(C),V=F.numericAxisName,W=F.cateAxisName,z=o_e(b),$=[];return b.forEach(function(B,G){var te=Vy(y.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:T}),Y=B.type.defaultProps!==void 0?H(H({},B.type.defaultProps),B.props):B.props,ne=Y.dataKey,Se=Y.maxBarSize,Ae=Y["".concat(V,"Id")],Fe=Y["".concat(W,"Id")],it={},_t=l.reduce(function(st,Ft){var dt=_["".concat(Ft.axisType,"Map")],bn=Y["".concat(Ft.axisType,"Id")];dt&&dt[bn]||Ft.axisType==="zAxis"||Qs();var wr=dt[bn];return H(H({},st),{},de(de({},Ft.axisType,wr),"".concat(Ft.axisType,"Ticks"),bi(wr)))},it),re=_t[W],oe=_t["".concat(W,"Ticks")],le=A&&A[Ae]&&A[Ae].hasStack&&ehe(B,A[Ae].stackGroups),q=Ti(B.type).indexOf("Bar")>=0,Ee=Rm(re,oe),K=[],ie=z&&Lfe({barSize:P,stackGroups:A,totalSize:a_e(_t,W)});if(q){var fe,ge,ot=ve(Se)?R:Se,At=(fe=(ge=Rm(re,oe,!0))!==null&&ge!==void 0?ge:ot)!==null&&fe!==void 0?fe:0;K=Vfe({barGap:k,barCategoryGap:j,bandSize:At!==Ee?At:Ee,sizeList:ie[Fe],maxBarSize:ot}),At!==Ee&&(K=K.map(function(st){return H(H({},st),{},{position:H(H({},st.position),{},{offset:st.position.offset-At/2})})}))}var qt=B&&B.type&&B.type.getComposedData;qt&&$.push({props:H(H({},qt(H(H({},_t),{},{displayedData:te,props:y,dataKey:ne,item:B,bandSize:Ee,barPosition:K,offset:x,stackedData:le,layout:C,dataStartIndex:E,dataEndIndex:T}))),{},de(de(de({key:B.key||"item-".concat(G)},V,_t[V]),W,_t[W]),"animationId",I)),childIndex:LY(B,y.children),item:B})}),$},p=function(y,_){var b=y.props,A=y.dataStartIndex,x=y.dataEndIndex,I=y.updateId;if(!wI({props:b}))return null;var E=b.children,T=b.layout,P=b.stackOffset,C=b.data,k=b.reverseStackOrder,j=Yk(T),R=j.numericAxisName,F=j.cateAxisName,V=Ln(E,r),W=Qfe(C,V,"".concat(R,"Id"),"".concat(F,"Id"),P,k),z=l.reduce(function(Y,ne){var Se="".concat(ne.axisType,"Map");return H(H({},Y),{},de({},Se,r_e(b,H(H({},ne),{},{graphicalItems:V,stackGroups:ne.axisType===R&&W,dataStartIndex:A,dataEndIndex:x}))))},{}),$=s_e(H(H({},z),{},{props:b,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(z).forEach(function(Y){z[Y]=c(b,z[Y],$,Y.replace("Map",""),n)});var B=z["".concat(F,"Map")],G=i_e(B),te=d(b,H(H({},z),{},{dataStartIndex:A,dataEndIndex:x,updateId:I,graphicalItems:V,stackGroups:W,offset:$}));return H(H({formattedGraphicalItems:te,graphicalItems:V,offset:$,stackGroups:W},G),z)},g=function(v){function y(_){var b,A,x;return Fwe(this,y),x=zwe(this,y,[_]),de(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(x,"accessibilityManager",new Awe),de(x,"handleLegendBBoxUpdate",function(I){if(I){var E=x.state,T=E.dataStartIndex,P=E.dataEndIndex,C=E.updateId;x.setState(H({legendBBox:I},p({props:x.props,dataStartIndex:T,dataEndIndex:P,updateId:C},H(H({},x.state),{},{legendBBox:I}))))}}),de(x,"handleReceiveSyncEvent",function(I,E,T){if(x.props.syncId===I){if(T===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(E)}}),de(x,"handleBrushChange",function(I){var E=I.startIndex,T=I.endIndex;if(E!==x.state.dataStartIndex||T!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return H({dataStartIndex:E,dataEndIndex:T},p({props:x.props,dataStartIndex:E,dataEndIndex:T,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),de(x,"handleMouseEnter",function(I){var E=x.getMouseInfo(I);if(E){var T=H(H({},E),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseEnter;xe(P)&&P(T,I)}}),de(x,"triggeredAfterMouseMove",function(I){var E=x.getMouseInfo(I),T=E?H(H({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseMove;xe(P)&&P(T,I)}),de(x,"handleItemMouseEnter",function(I){x.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),de(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),de(x,"handleMouseMove",function(I){I.persist(),x.throttleTriggeredAfterMouseMove(I)}),de(x,"handleMouseLeave",function(I){x.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};x.setState(E),x.triggerSyncEvent(E);var T=x.props.onMouseLeave;xe(T)&&T(E,I)}),de(x,"handleOuterEvent",function(I){var E=$Y(I),T=dr(x.props,"".concat(E));if(E&&xe(T)){var P,C;/.*touch.*/i.test(E)?C=x.getMouseInfo(I.changedTouches[0]):C=x.getMouseInfo(I),T((P=C)!==null&&P!==void 0?P:{},I)}}),de(x,"handleClick",function(I){var E=x.getMouseInfo(I);if(E){var T=H(H({},E),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onClick;xe(P)&&P(T,I)}}),de(x,"handleMouseDown",function(I){var E=x.props.onMouseDown;if(xe(E)){var T=x.getMouseInfo(I);E(T,I)}}),de(x,"handleMouseUp",function(I){var E=x.props.onMouseUp;if(xe(E)){var T=x.getMouseInfo(I);E(T,I)}}),de(x,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),de(x,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&x.handleMouseDown(I.changedTouches[0])}),de(x,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&x.handleMouseUp(I.changedTouches[0])}),de(x,"handleDoubleClick",function(I){var E=x.props.onDoubleClick;if(xe(E)){var T=x.getMouseInfo(I);E(T,I)}}),de(x,"handleContextMenu",function(I){var E=x.props.onContextMenu;if(xe(E)){var T=x.getMouseInfo(I);E(T,I)}}),de(x,"triggerSyncEvent",function(I){x.props.syncId!==void 0&&w0.emit(_0,x.props.syncId,I,x.eventEmitterSymbol)}),de(x,"applySyncEvent",function(I){var E=x.props,T=E.layout,P=E.syncMethod,C=x.state.updateId,k=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)x.setState(H({dataStartIndex:k,dataEndIndex:j},p({props:x.props,dataStartIndex:k,dataEndIndex:j,updateId:C},x.state)));else if(I.activeTooltipIndex!==void 0){var R=I.chartX,F=I.chartY,V=I.activeTooltipIndex,W=x.state,z=W.offset,$=W.tooltipTicks;if(!z)return;if(typeof P=="function")V=P($,I);else if(P==="value"){V=-1;for(var B=0;B<$.length;B++)if($[B].value===I.activeLabel){V=B;break}}var G=H(H({},z),{},{x:z.left,y:z.top}),te=Math.min(R,G.x+G.width),Y=Math.min(F,G.y+G.height),ne=$[V]&&$[V].value,Se=Cb(x.state,x.props.data,V),Ae=$[V]?{x:T==="horizontal"?$[V].coordinate:te,y:T==="horizontal"?Y:$[V].coordinate}:jF;x.setState(H(H({},I),{},{activeLabel:ne,activeCoordinate:Ae,activePayload:Se,activeTooltipIndex:V}))}else x.setState(I)}),de(x,"renderCursor",function(I){var E,T=x.state,P=T.isTooltipActive,C=T.activeCoordinate,k=T.activePayload,j=T.offset,R=T.activeTooltipIndex,F=T.tooltipAxisBandSize,V=x.getTooltipEventType(),W=(E=I.props.active)!==null&&E!==void 0?E:P,z=x.props.layout,$=I.key||"_recharts-cursor";return D.createElement(jwe,{key:$,activeCoordinate:C,activePayload:k,activeTooltipIndex:R,chartName:n,element:I,isActive:W,layout:z,offset:j,tooltipAxisBandSize:F,tooltipEventType:V})}),de(x,"renderPolarAxis",function(I,E,T){var P=dr(I,"type.axisType"),C=dr(x.state,"".concat(P,"Map")),k=I.type.defaultProps,j=k!==void 0?H(H({},k),I.props):I.props,R=C&&C[j["".concat(P,"Id")]];return N.cloneElement(I,H(H({},R),{},{className:Ie(P,R.className),key:I.key||"".concat(E,"-").concat(T),ticks:bi(R,!0)}))}),de(x,"renderPolarGrid",function(I){var E=I.props,T=E.radialLines,P=E.polarAngles,C=E.polarRadius,k=x.state,j=k.radiusAxisMap,R=k.angleAxisMap,F=ho(j),V=ho(R),W=V.cx,z=V.cy,$=V.innerRadius,B=V.outerRadius;return N.cloneElement(I,{polarAngles:Array.isArray(P)?P:bi(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(C)?C:bi(F,!0).map(function(G){return G.coordinate}),cx:W,cy:z,innerRadius:$,outerRadius:B,key:I.key||"polar-grid",radialLines:T})}),de(x,"renderLegend",function(){var I=x.state.formattedGraphicalItems,E=x.props,T=E.children,P=E.width,C=E.height,k=x.props.margin||{},j=P-(k.left||0)-(k.right||0),R=pV({children:T,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!R)return null;var F=R.item,V=Kk(R,Nwe);return N.cloneElement(F,H(H({},V),{},{chartWidth:P,chartHeight:C,margin:k,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),de(x,"renderTooltip",function(){var I,E=x.props,T=E.children,P=E.accessibilityLayer,C=Wn(T,En);if(!C)return null;var k=x.state,j=k.isTooltipActive,R=k.activeCoordinate,F=k.activePayload,V=k.activeLabel,W=k.offset,z=(I=C.props.active)!==null&&I!==void 0?I:j;return N.cloneElement(C,{viewBox:H(H({},W),{},{x:W.left,y:W.top}),active:z,label:V,payload:z?F:[],coordinate:R,accessibilityLayer:P})}),de(x,"renderBrush",function(I){var E=x.props,T=E.margin,P=E.data,C=x.state,k=C.offset,j=C.dataStartIndex,R=C.dataEndIndex,F=C.updateId;return N.cloneElement(I,{key:I.key||"_recharts-brush",onChange:kd(x.handleBrushChange,I.props.onChange),data:P,x:Z(I.props.x)?I.props.x:k.left,y:Z(I.props.y)?I.props.y:k.top+k.height+k.brushBottom-(T.bottom||0),width:Z(I.props.width)?I.props.width:k.width,startIndex:j,endIndex:R,updateId:"brush-".concat(F)})}),de(x,"renderReferenceElement",function(I,E,T){if(!I)return null;var P=x,C=P.clipPathId,k=x.state,j=k.xAxisMap,R=k.yAxisMap,F=k.offset,V=I.type.defaultProps||{},W=I.props,z=W.xAxisId,$=z===void 0?V.xAxisId:z,B=W.yAxisId,G=B===void 0?V.yAxisId:B;return N.cloneElement(I,{key:I.key||"".concat(E,"-").concat(T),xAxis:j[$],yAxis:R[G],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:C})}),de(x,"renderActivePoints",function(I){var E=I.item,T=I.activePoint,P=I.basePoint,C=I.childIndex,k=I.isRange,j=[],R=E.props.key,F=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,V=F.activeDot,W=F.dataKey,z=H(H({index:C,dataKey:W,cx:T.x,cy:T.y,r:4,fill:DE(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},_e(V,!1)),im(V));return j.push(y.renderActiveDot(V,z,"".concat(R,"-activePoint-").concat(C))),P?j.push(y.renderActiveDot(V,H(H({},z),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(C))):k&&j.push(null),j}),de(x,"renderGraphicChild",function(I,E,T){var P=x.filterFormatItem(I,E,T);if(!P)return null;var C=x.getTooltipEventType(),k=x.state,j=k.isTooltipActive,R=k.tooltipAxis,F=k.activeTooltipIndex,V=k.activeLabel,W=x.props.children,z=Wn(W,En),$=P.props,B=$.points,G=$.isRange,te=$.baseLine,Y=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,ne=Y.activeDot,Se=Y.hide,Ae=Y.activeBar,Fe=Y.activeShape,it=!!(!Se&&j&&z&&(ne||Ae||Fe)),_t={};C!=="axis"&&z&&z.props.trigger==="click"?_t={onClick:kd(x.handleItemMouseEnter,I.props.onClick)}:C!=="axis"&&(_t={onMouseLeave:kd(x.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:kd(x.handleItemMouseEnter,I.props.onMouseEnter)});var re=N.cloneElement(I,H(H({},P.props),_t));function oe(Ft){return typeof R.dataKey=="function"?R.dataKey(Ft.payload):null}if(it)if(F>=0){var le,q;if(R.dataKey&&!R.allowDuplicatedCategory){var Ee=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());le=rm(B,Ee,V),q=G&&te&&rm(te,Ee,V)}else le=B==null?void 0:B[F],q=G&&te&&te[F];if(Fe||Ae){var K=I.props.activeIndex!==void 0?I.props.activeIndex:F;return[N.cloneElement(I,H(H(H({},P.props),_t),{},{activeIndex:K})),null,null]}if(!ve(le))return[re].concat(Ql(x.renderActivePoints({item:P,activePoint:le,basePoint:q,childIndex:F,isRange:G})))}else{var ie,fe=(ie=x.getItemByXY(x.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:re},ge=fe.graphicalItem,ot=ge.item,At=ot===void 0?I:ot,qt=ge.childIndex,st=H(H(H({},P.props),_t),{},{activeIndex:qt});return[N.cloneElement(At,st),null,null]}return G?[re,null,null]:[re,null]}),de(x,"renderCustomized",function(I,E,T){return N.cloneElement(I,H(H({key:"recharts-customized-".concat(T)},x.props),x.state))}),de(x,"renderMap",{CartesianGrid:{handler:Dd,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Dd},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Dd},YAxis:{handler:Dd},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:sa("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=pL(x.triggeredAfterMouseMove,(A=_.throttleDelay)!==null&&A!==void 0?A:1e3/60),x.state={},x}return Kwe(y,v),Uwe(y,[{key:"componentDidMount",value:function(){var b,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,A=b.children,x=b.data,I=b.height,E=b.layout,T=Wn(A,En);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=Cb(this.state,x,P,C),j=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+I)/2,F=E==="horizontal",V=F?{x:j,y:R}:{y:j,x:R},W=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});W&&(V=H(H({},V),W.props.points[P].tooltipPosition),k=W.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:V};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var x,I;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(b){o_([Wn(b.children,En)],[Wn(this.props.children,En)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Wn(this.props.children,En);if(b&&typeof b.props.shared=="boolean"){var A=b.props.shared?"axis":"item";return a.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var A=this.container,x=A.getBoundingClientRect(),I=uae(x),E={chartX:Math.round(b.pageX-I.left),chartY:Math.round(b.pageY-I.top)},T=x.width/A.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,T);if(!P)return null;var C=this.state,k=C.xAxisMap,j=C.yAxisMap,R=this.getTooltipEventType(),F=Gk(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&k&&j){var V=ho(k).scale,W=ho(j).scale,z=V&&V.invert?V.invert(E.chartX):null,$=W&&W.invert?W.invert(E.chartY):null;return H(H({},E),{},{xValue:z,yValue:$},F)}return F?H(H({},E),F):null}},{key:"inRange",value:function(b,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=b/x,T=A/x;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,C=E>=P.left&&E<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return C?{x:E,y:T}:null}var k=this.state,j=k.angleAxisMap,R=k.radiusAxisMap;if(j&&R){var F=ho(j);return IC({x:E,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,A=this.getTooltipEventType(),x=Wn(b,En),I={};x&&A==="axis"&&(x.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=im(this.props,this.handleOuterEvent);return H(H({},E),I)}},{key:"addListener",value:function(){w0.on(_0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w0.removeListener(_0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,A,x){for(var I=this.state.formattedGraphicalItems,E=0,T=I.length;E<T;E++){var P=I[E];if(P.item===b||P.props.key===b.key||A===Ti(P.item.type)&&x===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,A=this.state.offset,x=A.left,I=A.top,E=A.height,T=A.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x,y:I,height:E,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(A,x){var I=Hk(x,2),E=I[0],T=I[1];return H(H({},A),{},de({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(A,x){var I=Hk(x,2),E=I[0],T=I[1];return H(H({},A),{},de({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[b])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(b){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[b])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(b){var A=this.state,x=A.formattedGraphicalItems,I=A.activeItem;if(x&&x.length)for(var E=0,T=x.length;E<T;E++){var P=x[E],C=P.props,k=P.item,j=k.type.defaultProps!==void 0?H(H({},k.type.defaultProps),k.props):k.props,R=Ti(k.type);if(R==="Bar"){var F=(C.data||[]).find(function($){return Xpe(b,$)});if(F)return{graphicalItem:P,payload:F}}else if(R==="RadialBar"){var V=(C.data||[]).find(function($){return IC(b,$)});if(V)return{graphicalItem:P,payload:V}}else if(Cy(P,I)||ky(P,I)||Yf(P,I)){var W=Qme({graphicalItem:P,activeTooltipItem:I,itemData:j.data}),z=j.activeIndex===void 0?W:j.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:z}),payload:Yf(P,I)?j.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!wI(this))return null;var A=this.props,x=A.children,I=A.className,E=A.width,T=A.height,P=A.style,C=A.compact,k=A.title,j=A.desc,R=Kk(A,Mwe),F=_e(R,!1);if(C)return D.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(a_,Ba({},F,{width:E,height:T,title:k,desc:j}),this.renderClipPath(),bI(x,this.renderMap)));if(this.props.accessibilityLayer){var V,W;F.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,F.role=(W=this.props.role)!==null&&W!==void 0?W:"application",F.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},F.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return D.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Ba({className:Ie("recharts-wrapper",I),style:H({position:"relative",cursor:"default",width:E,height:T},P)},z,{ref:function(B){b.container=B}}),D.createElement(a_,Ba({},F,{width:E,height:T,title:k,desc:j,style:Jwe}),this.renderClipPath(),bI(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);de(g,"displayName",n),de(g,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),de(g,"getDerivedStateFromProps",function(v,y){var _=v.dataKey,b=v.data,A=v.children,x=v.width,I=v.height,E=v.layout,T=v.stackOffset,P=v.margin,C=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var j=Xk(v);return H(H(H({},j),{},{updateId:0},p(H(H({props:v},j),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:b,prevWidth:x,prevHeight:I,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(_!==y.prevDataKey||b!==y.prevData||x!==y.prevWidth||I!==y.prevHeight||E!==y.prevLayout||T!==y.prevStackOffset||!al(P,y.prevMargin)){var R=Xk(v),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=H(H({},Gk(y,b,E)),{},{updateId:y.updateId+1}),W=H(H(H({},R),F),V);return H(H(H({},W),p(H({props:v},W),y)),{},{prevDataKey:_,prevData:b,prevWidth:x,prevHeight:I,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(!o_(A,y.prevChildren)){var z,$,B,G,te=Wn(A,Ll),Y=te&&(z=($=te.props)===null||$===void 0?void 0:$.startIndex)!==null&&z!==void 0?z:C,ne=te&&(B=(G=te.props)===null||G===void 0?void 0:G.endIndex)!==null&&B!==void 0?B:k,Se=Y!==C||ne!==k,Ae=!ve(b),Fe=Ae&&!Se?y.updateId:y.updateId+1;return H(H({updateId:Fe},p(H(H({props:v},y),{},{updateId:Fe,dataStartIndex:Y,dataEndIndex:ne}),y)),{},{prevChildren:A,dataStartIndex:Y,dataEndIndex:ne})}return null}),de(g,"renderActiveDot",function(v,y,_){var b;return N.isValidElement(v)?b=N.cloneElement(v,y):xe(v)?b=v(y):b=D.createElement(Oy,y),D.createElement(Me,{className:"recharts-active-dot",key:_},b)});var w=N.forwardRef(function(y,_){return D.createElement(g,Ba({},y,{ref:_}))});return w.displayName=g.displayName,w},kb=MF({chartName:"LineChart",GraphicalChild:fr,axisComponents:[{axisType:"xAxis",AxisComp:oi},{axisType:"yAxis",AxisComp:si}],formatAxisMap:WV}),Rb=MF({chartName:"ComposedChart",GraphicalChild:[fr,ca,ts,Ly],axisComponents:[{axisType:"xAxis",AxisComp:oi},{axisType:"yAxis",AxisComp:si},{axisType:"zAxis",AxisComp:$y}],formatAxisMap:WV});function l_e({D:t,Q:e,price:n,cost:r,salvage:i}){const o=Math.min(e,t),s=Math.max(0,e-o);return n*o+i*s-r*e}function u_e(t){const e=[],n=t.length;for(let r=0;r<n;r++){const i=t[r]??0;for(let o=0;o<5;o++)e.push(i)}return e}function DF({session:t,players:e,avgOrderPerDayOverride:n}){const r=t.revealedDemands??[],i=t.optimalQ??0,s=(t.weeks??10)*5,a=Number(t.revealIndex),l=Number.isFinite(a)?Math.max(0,Math.round(a)):r.length,u=Math.min(r.length,s,l),c=r.slice(0,u),f=N.useMemo(()=>{if(n&&n.length)return n.slice(0,s);const w=e??[];if(!w.length)return Array.from({length:s},()=>0);const v=w.map(_=>u_e(_.ordersByWeek??[])),y=v.length||1;return Array.from({length:s},(_,b)=>v.reduce((x,I)=>x+(I[b]??0),0)/y)},[e,s,n]),d=N.useMemo(()=>c.length?c.reduce((v,y)=>v+y,0)/c.length:0,[c]),p=N.useMemo(()=>{const w=Math.ceil(u/5);return Array.from({length:w},(v,y)=>{const _=y*5,b=Math.min(_+5,u),A=f.slice(_,b),x=A.length?A.reduce((I,E)=>I+E,0)/A.length:0;return{week:y+1,avgDemand:d,optimalQ:i,avgOrder:x}})},[u,c,i,f]),g=N.useMemo(()=>{const w=c;if(w.length===0)return[];const v=Math.max(...w,Number(i??0)),y=Math.max(10,Math.ceil(v+Number(t.demandSigma??0))),_=y>150?5:2,b=Number(t.price??1),A=Number(t.cost??.2),x=Number(t.salvage??0),I=[];for(let E=0;E<=y;E+=_){let T=0;for(const P of w){const C=Math.min(E,P),k=Math.max(0,E-C);T+=b*C+x*k-A*E}I.push({q:E,profit:T})}return I},[c,i,t.price,t.cost,t.salvage,t.demandSigma]);return m.jsxs("div",{className:"grid two",children:[m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Weekly time series (avg demand, optimal, avg order)"}),m.jsx("div",{style:{height:320},children:m.jsx(Cl,{children:m.jsxs(kb,{data:p,margin:{bottom:15},children:[m.jsx(Jm,{strokeDasharray:"3 3",stroke:"var(--border)",vertical:!1}),m.jsx(oi,{dataKey:"week",tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)",label:{value:"Week",position:"insideBottom",offset:-5,fill:"var(--muted)",fontSize:11}}),m.jsx(si,{tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)"}),m.jsx(En,{contentStyle:{background:"var(--card)",borderColor:"var(--border)",borderRadius:"var(--radius-sm)",color:"var(--ink)"},itemStyle:{color:"var(--ink)"}}),m.jsx(Rs,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{fontSize:12,color:"var(--muted)"}}),m.jsx(fr,{type:"monotone",dataKey:"avgDemand",dot:!1,stroke:"var(--chart-line)",strokeWidth:2,name:"Global avg demand"}),m.jsx(fr,{type:"monotone",dataKey:"optimalQ",dot:!1,stroke:"var(--danger)",strokeWidth:2,name:"Optimal Q"}),m.jsx(fr,{type:"monotone",dataKey:"avgOrder",dot:{r:3,fill:"var(--success)"},stroke:"var(--success)",strokeWidth:2,name:"Avg order"})]})})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"In-game payoff curve"}),m.jsx("p",{className:"small",children:"Profit across all in-game days vs. order quantity (Q)."}),m.jsx("div",{style:{height:320},children:m.jsx(Cl,{children:m.jsxs(kb,{data:g,children:[m.jsx(Jm,{strokeDasharray:"3 3",stroke:"var(--border)",vertical:!1}),m.jsx(oi,{dataKey:"q",tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)",label:{value:"Order quantity",position:"insideBottom",offset:-6,fill:"var(--muted)",fontSize:12}}),m.jsx(si,{tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)",label:{value:"Profit",angle:-90,position:"insideLeft",offset:10,fill:"var(--muted)",fontSize:12}}),m.jsx(En,{contentStyle:{background:"var(--card)",borderColor:"var(--border)",borderRadius:"var(--radius-sm)",color:"var(--ink)"},itemStyle:{color:"var(--ink)"},formatter:w=>typeof w=="number"?Math.round(w):w}),m.jsx(fr,{type:"monotone",dataKey:"profit",dot:!1,stroke:"var(--accent)",strokeWidth:2,name:"Profit"})]})})})]})]})}const xa=25;function c_e(){const{sessionId:t}=Cg(),[e,n]=N.useState(null),[r,i]=N.useState([]),[o,s]=N.useState([]),[a,l]=N.useState(!1),[u,c]=N.useState(""),[f,d]=N.useState(""),[p,g]=N.useState(0),w=N.useRef(null),v=N.useRef(!1),y=N.useRef(null),_=N.useRef(new Map);N.useEffect(()=>{if(!t)return;const K=ks(il(vo,"sessions",t),fe=>{const ge=fe.exists()?fe.data():null;n(ge),w.current=ge}),ie=ks(D2(vo,"sessions",t,"players"),fe=>{const ge=_.current;fe.docChanges().forEach(ot=>{const At=ot.doc.id;ot.type==="removed"?ge.delete(At):ge.set(At,{uid:At,...ot.doc.data()})}),fe.docChanges().length>0&&i(Array.from(ge.values()))});return()=>{K(),ie(),_.current.clear()}},[t]),N.useEffect(()=>{if(!t)return;const K=ks(il(vo,"sessions",t,"private","demand"),ie=>{const fe=ie.exists()?ie.data():null,ge=Array.isArray(fe==null?void 0:fe.inGameDemands)?fe.inGameDemands:[];s(ge)});return()=>K()},[t]);const b=(e==null?void 0:e.weekIndex)??0,A=(e==null?void 0:e.weeks)??10,x=A*5,I=N.useMemo(()=>r.filter(K=>{var ie;return(((ie=K.ordersByWeek)==null?void 0:ie[b])??null)!==null}),[r,b]),E=Math.max(1,Math.ceil(r.length/xa)),T=N.useMemo(()=>{const K=p*xa;return r.slice(K,K+xa)},[r,p]);N.useEffect(()=>{p>=E&&E>0&&g(E-1)},[p,E]);const P=r.length>0&&I.length===r.length,C=(e==null?void 0:e.showLeaderboard)===!0,k=(e==null?void 0:e.trainingDemands)??[],j=N.useMemo(()=>k.concat(o),[k,o]),R=N.useMemo(()=>El(j),[j]),F=N.useMemo(()=>sl(j),[j]),V=N.useMemo(()=>Uq(j),[j]),W=N.useMemo(()=>zq(j),[j]),z=N.useMemo(()=>j.length?X2(j,10):null,[j]),$=N.useMemo(()=>e?o.length>0?o:e.revealedDemands&&e.revealedDemands.length>0?e.revealedDemands:k:[],[e,o,k]),B=N.useMemo(()=>{if(!e||$.length===0)return[];const K=Number(e.optimalQ??0),ie=Math.max(1,Math.round(.15*Math.max(1,K))),fe=Math.max(0,Math.round(K-ie)),ge=Math.max(fe+1,Math.round(K+ie)),ot=ge-fe>150?5:1,At=Number(e.price??1),qt=Number(e.cost??.2),st=Number(e.salvage??0),Ft=[];for(let dt=fe;dt<=ge;dt+=ot){let bn=0;for(const wr of $){const tt=Math.min(dt,wr),Bt=Math.max(0,dt-tt);bn+=At*tt+st*Bt-qt*dt}Ft.push({q:dt,profit:bn})}return Ft},[e,$]),G=N.useMemo(()=>{if(!e||$.length===0)return null;const K=Math.max(0,...$),ie=Math.max(10,Math.ceil(K+Number(e.demandSigma??0))),fe=Number(e.price??1),ge=Number(e.cost??.2),ot=Number(e.salvage??0);let At=0,qt=-1/0;for(let st=0;st<=ie;st++){let Ft=0;for(const dt of $){const bn=Math.min(st,dt),wr=Math.max(0,st-bn);Ft+=fe*bn+ot*wr-ge*st}Ft>qt&&(qt=Ft,At=st)}return{q:At,profit:qt}},[e,$]),te=N.useMemo(()=>{if(!B.length)return;let K=B[0].profit,ie=B[0].profit;for(const ge of B)ge.profit<K&&(K=ge.profit),ge.profit>ie&&(ie=ge.profit);const fe=Math.max(1,Math.round(.08*Math.max(1,Math.abs(ie-K))));return[Math.floor(K-fe),Math.ceil(ie+fe)]},[B]);N.useEffect(()=>()=>{y.current&&clearTimeout(y.current),v.current=!1},[]);function Y(K){return new Promise(ie=>{y.current=window.setTimeout(()=>ie(),K)})}async function ne(){if(t&&!v.current){v.current=!0,d("Auto-reveal running...");try{for(;;){const K=w.current;if(!K||K.status==="finished"||K.status!=="ordering"&&K.status!=="revealing")break;const ie=K.revealIndex??0,fe=(K.weeks??10)*5;if(ie>=fe)break;await Qe.advanceReveal({sessionId:t}),await Y(1500);const ge=w.current;if(!ge||ge.status==="ordering"&&ge.revealIndex%5===0)break}}catch(K){console.error(K),d((K==null?void 0:K.message)??"Auto-reveal failed")}finally{v.current=!1,y.current=null,d(K=>K==="Auto-reveal running..."?"":K)}}}N.useEffect(()=>{e&&e.status==="ordering"&&P&&ne()},[e==null?void 0:e.status,e==null?void 0:e.revealIndex,P,t]);async function Se(){if(t){c(""),l(!0);try{await Qe.startSession({sessionId:t}),c("Session started. Waiting for orders...")}catch(K){console.error(K),c((K==null?void 0:K.message)??"Start session failed")}finally{l(!1)}}}async function Ae(K){if(t){c(""),l(!0);try{await Qe.nudgePlayer({sessionId:t,uid:K}),c("Nudge sent.")}catch(ie){console.error(ie),c((ie==null?void 0:ie.message)??"Nudge failed")}finally{l(!1)}}}async function Fe(K){if(t){c(""),l(!0);try{await Qe.kickPlayer({sessionId:t,uid:K}),c("Player kicked.")}catch(ie){console.error(ie),c((ie==null?void 0:ie.message)??"Kick failed")}finally{l(!1)}}}async function it(){if(t){c(""),l(!0);try{const K=await Qe.redrawSession({sessionId:t});c(K.data.ok?"Distribution redrawn.":"Feasible dataset not drawn in this attempt - please hit the redraw button.")}catch(K){console.error(K),c((K==null?void 0:K.message)??"Redraw failed")}finally{l(!1)}}}async function _t(){if(t&&confirm("End the session early? This will finalize all remaining days.")){c(""),l(!0);try{await Qe.endSession({sessionId:t}),c("Session ended.")}catch(K){console.error(K),c((K==null?void 0:K.message)??"End session failed")}finally{l(!1)}}}async function re(){if(!t||!e)return;const K=r.length-I.length,ie=Math.round(e.demandMu??50);if(confirm(`Auto-submit order of ${ie} (mean demand) for ${K} player(s) who haven't submitted?`)){c(""),l(!0);try{const fe=await Qe.finishWeek({sessionId:t});fe.data.updated>0?c(`Auto-submitted order of ${fe.data.defaultOrder} for ${fe.data.updated} player(s).`):c(fe.data.message??"All players have already submitted.")}catch(fe){console.error(fe),c((fe==null?void 0:fe.message)??"Finish week failed")}finally{l(!1)}}}async function oe(K){if(t){c(""),l(!0);try{await pq(il(vo,"sessions",t),{showLeaderboard:K}),c(K?"Leaderboard visible to players.":"Leaderboard hidden from players.")}catch(ie){console.error(ie),c((ie==null?void 0:ie.message)??"Update failed")}finally{l(!1)}}}function le(K){if(K==null)return"";const ie=String(K);return ie.includes(",")||ie.includes('"')||ie.includes(`
`)?`"${ie.replace(/"/g,'""')}"`:ie}function q(){if(!e||!t)return;const ie=(e.weeks??10)*5,fe=o.length?o:e.revealedDemands??[],ge=[];ge.push(["sessionId","sessionCode","week","day","demand","playerUid","playerName","orderQty"].join(","));const ot=Math.min(fe.length,ie);for(let dt=0;dt<ot;dt++){const bn=Math.floor(dt/5)+1,wr=dt%5+1;for(const tt of r){const ha=(Array.isArray(tt.ordersByWeek)?tt.ordersByWeek:[])[bn-1]??"";ge.push([t,e.code,bn,wr,fe[dt],tt.uid,tt.name,ha].map(le).join(","))}}const At=new Blob([ge.join(`
`)],{type:"text/csv;charset=utf-8;"}),qt=URL.createObjectURL(At),st=document.createElement("a"),Ft=new Date().toISOString().slice(0,10);st.href=qt,st.download=`session-${e.code}-${Ft}.csv`,st.click(),URL.revokeObjectURL(qt)}if(!e)return m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Host control room"}),m.jsx("p",{className:"small",children:"Loading session"})]});const Ee={lobby:{label:"Lobby",dotClass:"pending",badgeClass:"warning"},training:{label:"Training",dotClass:"pending",badgeClass:"warning"},ordering:{label:"Ordering",dotClass:"active",badgeClass:"success"},revealing:{label:"Revealing",dotClass:"active",badgeClass:"success"},finished:{label:"Finished",dotClass:"finished",badgeClass:""}}[e.status]??{label:e.status,dotClass:"pending",badgeClass:""};return m.jsxs("div",{className:"grid",children:[m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"row",style:{marginBottom:12},children:[m.jsx("h2",{style:{margin:0},children:"Host Control Room"}),m.jsx("div",{className:"spacer"}),m.jsxs("div",{className:"row",style:{gap:6},children:[m.jsx("span",{className:`status-dot ${Ee.dotClass}`}),m.jsx("span",{className:`badge ${Ee.badgeClass}`,children:Ee.label})]})]}),m.jsxs("div",{className:"row",style:{gap:16,alignItems:"flex-start",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("div",{className:"small",style:{marginBottom:4},children:"Session Code"}),m.jsx("div",{className:"session-code",children:e.code})]}),m.jsxs("div",{style:{flex:1,minWidth:200},children:[m.jsx("div",{className:"small",style:{marginBottom:4},children:"Progress"}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"fill",style:{width:`${e.revealIndex/x*100}%`}})}),m.jsxs("div",{className:"small",children:["Week ",b+1," of ",A,"  Day ",e.revealIndex," of ",x]})]})]}),e.drawFailed&&m.jsx("p",{className:"small",style:{color:"var(--danger)",marginTop:12},children:"Feasible dataset not drawn in this attempt - please hit the redraw button."}),m.jsxs("div",{className:"kpi",style:{marginTop:16},children:[m.jsxs("div",{className:"pill accent",children:["Optimal Q*: ",m.jsx("span",{className:"mono",children:e.optimalQ})]}),G&&m.jsxs("div",{className:"pill",children:["Best in-game Q: ",m.jsx("span",{className:"mono",children:G.q})]}),m.jsxs("div",{className:"pill",children:["Players: ",m.jsx("span",{className:"mono",children:r.length})]})]}),m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"row",children:[e.status==="training"?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn large",disabled:a||r.length===0,onClick:Se,children:"Start session"}),m.jsx("button",{className:"btn ghost",disabled:a,onClick:it,children:"Redraw distribution"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"small",children:["Submitted this week: ",m.jsxs("span",{className:"mono",children:[I.length,"/",r.length]})," ",P?"All in. Auto-reveal will run.":""]}),!P&&e.status==="ordering"&&m.jsx("button",{className:"btn",disabled:a,onClick:re,children:"Finish week"})]}),e.status!=="finished"&&m.jsx("button",{className:"btn secondary",disabled:a,onClick:_t,children:"End session early"}),m.jsx("div",{className:"spacer"}),m.jsxs("label",{className:"small",style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("input",{type:"checkbox",checked:C,disabled:a,onChange:K=>oe(K.target.checked)}),"Show leaderboard to players"]})]}),u&&m.jsx("div",{className:"hr"}),u&&m.jsx("p",{className:"small",children:u}),f&&m.jsx("div",{className:"hr"}),f&&m.jsx("p",{className:"small",children:f}),e.status==="finished"&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hr"}),m.jsxs("div",{className:"row",children:[m.jsx("button",{className:"btn secondary",onClick:q,children:"Download game data (CSV)"}),m.jsx("span",{className:"small",children:"Opens in Excel."})]})]})]}),e.status==="training"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Demand overview"}),m.jsxs("p",{className:"small",children:["Mean: ",m.jsx("span",{className:"mono",children:R.toFixed(2)}),"  Std:"," ",m.jsx("span",{className:"mono",children:F.toFixed(2)}),"  Skew:"," ",m.jsx("span",{className:"mono",children:V.toFixed(2)}),"  Kurtosis (excess):"," ",m.jsx("span",{className:"mono",children:W.toFixed(2)}),"  n=",j.length]}),m.jsx("p",{className:"small",children:"Includes training and in-game draws (host only)."}),z&&m.jsx("div",{style:{height:200},children:m.jsx(Cl,{children:m.jsxs(Rb,{data:z.data,children:[m.jsx(oi,{dataKey:"label",tick:{fontSize:11},interval:0}),m.jsx(si,{}),m.jsx(En,{}),m.jsx(ts,{dataKey:"count"})]})})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"In-game payoff curve"}),m.jsxs("p",{className:"small",children:["Profit across the available demand draws vs. order quantity (Q). Optimal Q* is"," ",m.jsx("span",{className:"mono",children:e.optimalQ}),"."]}),m.jsx("div",{style:{height:220},children:m.jsx(Cl,{children:m.jsxs(kb,{data:B,children:[m.jsx(Jm,{strokeDasharray:"3 3",stroke:"var(--border)",vertical:!1}),m.jsx(oi,{dataKey:"q",tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)"}),m.jsx(si,{domain:te,tick:{fill:"var(--muted)",fontSize:11},stroke:"var(--border)"}),m.jsx(En,{contentStyle:{background:"var(--card)",borderColor:"var(--border)",borderRadius:"var(--radius-sm)",color:"var(--ink)"},itemStyle:{color:"var(--ink)"},formatter:K=>typeof K=="number"?Math.round(K):K}),m.jsx(fr,{type:"monotone",dataKey:"profit",dot:!1,stroke:"var(--accent)",strokeWidth:2}),m.jsx(jy,{x:e.optimalQ,stroke:"var(--muted)",strokeDasharray:"3 3"}),G&&m.jsx(jh,{x:G.q,y:G.profit,r:5,fill:"var(--success)",stroke:"none"})]})})})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Player matrix"}),m.jsxs("p",{className:"small",children:["Track weekly submissions, nudge laggards, or remove players.",r.length>xa&&m.jsxs(m.Fragment,{children:[" Showing ",p*xa+1,"-",Math.min((p+1)*xa,r.length)," of ",r.length," players."]})]}),m.jsx("div",{className:"hr"}),r.length===0?m.jsx("p",{className:"small",children:"No players yet."}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid",children:T.map(K=>{var ge,ot;const ie=(((ge=K.ordersByWeek)==null?void 0:ge[b])??null)!==null,fe=K.cumulativeProfit??0;return m.jsx("div",{className:`player-card ${ie?"submitted":"pending"}`,children:m.jsxs("div",{className:"row",children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"row",style:{gap:8,marginBottom:4},children:[m.jsx("span",{style:{fontWeight:700,fontSize:15},children:K.name}),ie?m.jsx("span",{className:"badge success",style:{fontSize:10,padding:"3px 8px"},children:"Submitted"}):m.jsx("span",{className:"badge warning",style:{fontSize:10,padding:"3px 8px"},children:"Pending"})]}),m.jsxs("div",{className:"small",style:{display:"flex",gap:16},children:[m.jsxs("span",{children:["Order: ",m.jsx("span",{className:"mono font-bold",children:ie?(ot=K.ordersByWeek)==null?void 0:ot[b]:""})]}),m.jsxs("span",{children:["Profit: ",m.jsxs("span",{className:`mono font-bold ${fe>=0?"text-success":"text-danger"}`,children:[fe>=0?"+":"",fe.toFixed(2)]})]})]})]}),m.jsxs("div",{className:"row",children:[m.jsx("button",{className:"btn ghost",disabled:a||ie,onClick:()=>Ae(K.uid),children:"Nudge"}),m.jsx("button",{className:"btn ghost",disabled:a,onClick:()=>{confirm(`Kick ${K.name}?`)&&Fe(K.uid)},children:"Kick"})]})]})},K.uid)})}),E>1&&m.jsxs("div",{className:"row",style:{marginTop:16,justifyContent:"center",gap:8},children:[m.jsx("button",{className:"btn ghost",disabled:p===0,onClick:()=>g(K=>Math.max(0,K-1)),children:"Previous"}),m.jsxs("span",{className:"small mono",style:{padding:"8px 12px"},children:["Page ",p+1," / ",E]}),m.jsx("button",{className:"btn ghost",disabled:p>=E-1,onClick:()=>g(K=>Math.min(E-1,K+1)),children:"Next"})]})]})]}),m.jsx(Y2,{players:r}),e.status==="finished"&&m.jsx(DF,{session:e,players:r})]})}function f_e(){const{code:t}=Cg(),e=Wi(),[n,r]=N.useState(""),[i,o]=N.useState(!1),[s,a]=N.useState("");async function l(u){if(t){a(""),o(!0);try{const c=await Qe.joinSession({code:t.toUpperCase(),name:n.trim(),allowTakeover:u});e(`/play/${c.data.sessionId}`,{state:{resumed:c.data.resumed}})}catch(c){console.error(c);const f=String((c==null?void 0:c.code)??"");if((f==="already-exists"||f==="functions/already-exists")&&confirm("Name already in use. Do you want to take over the session?"))return o(!1),l(!0);a((c==null?void 0:c.message)??"Join failed")}finally{o(!1)}}}return m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Join session"}),m.jsxs("p",{className:"small",children:["Session code: ",m.jsx("span",{className:"badge mono",children:t==null?void 0:t.toUpperCase()})]}),m.jsx("label",{children:"Your name"}),m.jsx("input",{value:n,onChange:u=>r(u.target.value),placeholder:"e.g., Alex"}),m.jsx("div",{className:"row",style:{marginTop:12},children:m.jsx("button",{className:"btn",disabled:i||!n.trim(),onClick:()=>l(),children:"Start baking "})}),s&&m.jsx("div",{className:"hr"}),s&&m.jsx("p",{style:{color:"#7a2d2d"},children:s})]})}function h_e({demands:t,meanHat:e,sigmaHat:n,totalDays:r}){const i=X2(t,10),o=Hq(e,n,i.minX,i.maxX,i.data.length).map(c=>c.y*i.scaleToHistogram),s=i.data.map((c,f)=>({...c,curve:o[f]??0})),a=t.map((c,f)=>({day:f+1,demand:c})),l=a.length-1,u=c=>{const{cx:f,cy:d,index:p}=c;return typeof f!="number"||typeof d!="number"?m.jsx("circle",{r:0}):p!==l?m.jsx("circle",{cx:f,cy:d,r:0}):m.jsxs("g",{children:[m.jsx("circle",{className:"latest-dot-ring",cx:f,cy:d,r:10},`latest-ring-${l}`),m.jsx("circle",{className:"latest-dot",cx:f,cy:d,r:4})]})};return m.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column"},children:[m.jsx("h2",{children:"Demand Data"}),m.jsxs("p",{className:"small",children:["Mean: ",m.jsx("span",{className:"mono",children:e.toFixed(2)}),"  Std:"," ",m.jsx("span",{className:"mono",children:n.toFixed(2)}),"  n=",t.length]}),m.jsx("div",{style:{height:130},children:m.jsx(Cl,{children:m.jsxs(Rb,{data:s,children:[m.jsx(oi,{dataKey:"label",tick:{fontSize:11,fill:"var(--muted)"},interval:0,stroke:"var(--border)"}),m.jsx(si,{tick:{fontSize:11,fill:"var(--muted)"},stroke:"var(--border)"}),m.jsx(En,{contentStyle:{background:"var(--card)",borderColor:"var(--border)",borderRadius:"var(--radius-sm)",color:"var(--ink)"},itemStyle:{color:"var(--ink)"},content:c=>{var d;const f=(d=c.payload)==null?void 0:d.filter(p=>(p==null?void 0:p.dataKey)!=="curve");return m.jsx(lL,{...c,payload:f})}}),m.jsx(ts,{dataKey:"count",fill:"var(--chart-bar)",radius:[4,4,0,0]}),m.jsx(fr,{type:"monotone",dataKey:"curve",stroke:"var(--chart-line)",strokeWidth:2,dot:!1})]})})}),m.jsx("div",{style:{flex:1,minHeight:140,marginTop:8},children:m.jsx(Cl,{children:m.jsxs(Rb,{data:a,children:[m.jsx(oi,{dataKey:"day",type:"number",domain:[1,r],tick:{fontSize:11,fill:"var(--muted)"},allowDataOverflow:!0,stroke:"var(--border)"}),m.jsx(si,{tick:{fontSize:11,fill:"var(--muted)"},stroke:"var(--border)"}),m.jsx(En,{contentStyle:{background:"var(--card)",borderColor:"var(--border)",borderRadius:"var(--radius-sm)",color:"var(--ink)"}}),m.jsx(fr,{type:"monotone",dataKey:"demand",stroke:"var(--chart-line)",strokeWidth:2,dot:u,isAnimationActive:!1})]})})})]})}const KE=N.createContext({});function qE(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fy=N.createContext(null),GE=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class d_e extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p_e({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=N.useContext(GE);return N.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:u}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.jsx(d_e,{isPresent:e,childRef:r,sizeRef:i,children:N.cloneElement(t,{ref:r})})}const m_e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=qE(g_e),l=N.useId(),u=N.useCallback(f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},[a,r]),c=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),o?[Math.random(),u]:[n,u]);return N.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.jsx(p_e,{isPresent:n,children:t})),m.jsx(Fy.Provider,{value:c,children:t})};function g_e(){return new Map}function $F(t=!0){const e=N.useContext(Fy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=N.useId();N.useEffect(()=>{t&&i(o)},[t]);const s=N.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const $d=t=>t.key||"";function Qk(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const XE=typeof window<"u",LF=XE?N.useLayoutEffect:N.useEffect,y_e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[a,l]=$F(s),u=N.useMemo(()=>Qk(t),[t]),c=s&&!a?[]:u.map($d),f=N.useRef(!0),d=N.useRef(u),p=qE(()=>new Map),[g,w]=N.useState(u),[v,y]=N.useState(u);LF(()=>{f.current=!1,d.current=u;for(let A=0;A<v.length;A++){const x=$d(v[A]);c.includes(x)?p.delete(x):p.get(x)!==!0&&p.set(x,!1)}},[v,c.length,c.join("-")]);const _=[];if(u!==g){let A=[...u];for(let x=0;x<v.length;x++){const I=v[x],E=$d(I);c.includes(E)||(A.splice(x,0,I),_.push(I))}o==="wait"&&_.length&&(A=_),y(Qk(A)),w(u);return}const{forceRender:b}=N.useContext(KE);return m.jsx(m.Fragment,{children:v.map(A=>{const x=$d(A),I=s&&!a?!1:u===v||c.includes(x),E=()=>{if(p.has(x))p.set(x,!0);else return;let T=!0;p.forEach(P=>{P||(T=!1)}),T&&(b==null||b(),y(d.current),s&&(l==null||l()),r&&r())};return m.jsx(m_e,{isPresent:I,initial:!f.current||n?void 0:!1,custom:I?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:I?void 0:E,children:A},x)})})},Xn=t=>t;let VF=Xn;function YE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ii=t=>t*1e3,Oi=t=>t/1e3,v_e={useManualTiming:!1};function w_e(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,c=!1,f=!1)=>{const p=f&&r?e:n;return c&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Ld=["read","resolveKeyframes","update","preRender","render","postRender"],__e=40;function FF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Ld.reduce((y,_)=>(y[_]=w_e(o),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=s,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,__e),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Ld.reduce((y,_)=>{const b=s[_];return y[_]=(A,x=!1,I=!1)=>(n||g(),b.schedule(A,x,I)),y},{}),cancel:y=>{for(let _=0;_<Ld.length;_++)s[Ld[_]].cancel(y)},state:i,steps:s}}const{schedule:et,cancel:Uo,state:Qt,steps:x0}=FF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),BF=N.createContext({strict:!1}),Jk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in Jk)Zl[t]={isEnabled:e=>Jk[t].some(n=>!!e[n])};function b_e(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const x_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x_e.has(t)}let UF=t=>!sg(t);function S_e(t){t&&(UF=e=>e.startsWith("on")?!sg(e):t(e))}try{S_e(require("@emotion/is-prop-valid").default)}catch{}function E_e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UF(i)||n===!0&&sg(i)||!e&&!sg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function T_e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const By=N.createContext({});function rh(t){return typeof t=="string"||Array.isArray(t)}function Uy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const QE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JE=["initial",...QE];function zy(t){return Uy(t.animate)||JE.some(e=>rh(t[e]))}function zF(t){return!!(zy(t)||t.variants)}function A_e(t,e){if(zy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rh(n)?n:void 0,animate:rh(r)?r:void 0}}return t.inherit!==!1?e:{}}function P_e(t){const{initial:e,animate:n}=A_e(t,N.useContext(By));return N.useMemo(()=>({initial:e,animate:n}),[Zk(e),Zk(n)])}function Zk(t){return Array.isArray(t)?t.join(" "):t}const I_e=Symbol.for("motionComponentSymbol");function Ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O_e(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ua(n)&&(n.current=r))},[e])}const ZE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C_e="framerAppearId",WF="data-"+ZE(C_e),{schedule:eT}=FF(queueMicrotask,!1),HF=N.createContext({});function k_e(t,e,n,r,i){var o,s;const{visualElement:a}=N.useContext(By),l=N.useContext(BF),u=N.useContext(Fy),c=N.useContext(GE).reducedMotion,f=N.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=N.useContext(HF);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&R_e(f.current,n,i,p);const g=N.useRef(!1);N.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const w=n[WF],v=N.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,w)));return LF(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),eT.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),N.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,w)}),v.current=!1))}),d}function R_e(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KF(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Ua(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function KF(t){if(t)return t.options.allowProjection!==!1?t.projection:KF(t.parent)}function j_e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,s;t&&b_e(t);function a(u,c){let f;const d={...N.useContext(GE),...u,layoutId:N_e(u)},{isStatic:p}=d,g=P_e(u),w=r(u,p);if(!p&&XE){M_e();const v=D_e(d);f=v.MeasureLayout,g.visualElement=k_e(i,w,d,e,v.ProjectionNode)}return m.jsxs(By.Provider,{value:g,children:[f&&g.visualElement?m.jsx(f,{visualElement:g.visualElement,...d}):null,n(i,u,O_e(w,g.visualElement,c),w,p,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const l=N.forwardRef(a);return l[I_e]=i,l}function N_e({layoutId:t}){const e=N.useContext(KE).id;return e&&t!==void 0?e+"-"+t:t}function M_e(t,e){N.useContext(BF).strict}function D_e(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tT(t){return typeof t!="string"||t.includes("-")?!1:!!($_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function eR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function nT(t,e,n,r){if(typeof e=="function"){const[i,o]=eR(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=eR(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const jb=t=>Array.isArray(t),L_e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),V_e=t=>jb(t)?t[t.length-1]||0:t,vn=t=>!!(t&&t.getVelocity);function up(t){const e=vn(t)?t.get():t;return L_e(e)?e.toValue():e}function F_e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const s={latestValues:B_e(r,i,o,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const qF=t=>(e,n)=>{const r=N.useContext(By),i=N.useContext(Fy),o=()=>F_e(t,e,r,i);return n?o():qE(o)};function B_e(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=up(o[d]);let{initial:s,animate:a}=t;const l=zy(t),u=zF(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!Uy(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const g=nT(t,d[p]);if(g){const{transitionEnd:w,transition:v,...y}=g;for(const _ in y){let b=y[_];if(Array.isArray(b)){const A=c?b.length-1:0;b=b[A]}b!==null&&(i[_]=b)}for(const _ in w)i[_]=w[_]}}}return i}const Au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fa=new Set(Au),GF=t=>e=>typeof e=="string"&&e.startsWith(t),XF=GF("--"),U_e=GF("var(--"),rT=t=>U_e(t)?z_e.test(t.split("/*")[0].trim()):!1,z_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,YF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bi=(t,e,n)=>n>e?e:n<t?t:n,Pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ih={...Pu,transform:t=>Bi(0,1,t)},Vd={...Pu,default:1},Nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=Nh("deg"),ti=Nh("%"),pe=Nh("px"),W_e=Nh("vh"),H_e=Nh("vw"),tR={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},K_e={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},q_e={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:no,skewX:no,skewY:no,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:ih,originX:tR,originY:tR,originZ:pe},nR={...Pu,transform:Math.round},iT={...K_e,...q_e,zIndex:nR,size:pe,fillOpacity:ih,strokeOpacity:ih,numOctaves:nR},G_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X_e=Au.length;function Y_e(t,e,n){let r="",i=!0;for(let o=0;o<X_e;o++){const s=Au[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=YF(a,iT[s]);if(!l){i=!1;const c=G_e[s]||s;r+=`${c}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function oT(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const u=e[l];if(fa.has(l)){s=!0;continue}else if(XF(l)){i[l]=u;continue}else{const c=YF(u,iT[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(e.transform||(s||n?r.transform=Y_e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const Q_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},J_e={offset:"strokeDashoffset",array:"strokeDasharray"};function Z_e(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Q_e:J_e;t[o.offset]=pe.transform(-r);const s=pe.transform(e),a=pe.transform(n);t[o.array]=`${s} ${a}`}function rR(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function ebe(t,e,n){const r=rR(e,t.x,t.width),i=rR(n,t.y,t.height);return`${r} ${i}`}function sT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(oT(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:g}=t;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=ebe(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&Z_e(d,s,a,l,!1)}const aT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),QF=()=>({...aT(),attrs:{}}),lT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const ZF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eB(t,e,n,r){JF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ZF.has(i)?i:ZE(i),e.attrs[i])}const ag={};function tbe(t){Object.assign(ag,t)}function tB(t,{layout:e,layoutId:n}){return fa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ag[t]||t==="opacity")}function uT(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(vn(i[s])||e.style&&vn(e.style[s])||tB(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function nB(t,e,n){const r=uT(t,e,n);for(const i in t)if(vn(t[i])||vn(e[i])){const o=Au.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function nbe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const iR=["x","y","width","height","cx","cy","r"],rbe={useVisualState:qF({scrapeMotionValuesFromProps:nB,createRenderState:QF,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const a in i)if(fa.has(a)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let a=0;a<iR.length;a++){const l=iR[a];t[l]!==e[l]&&(s=!0)}s&&et.read(()=>{nbe(n,r),et.render(()=>{sT(r,i,lT(n.tagName),t.transformTemplate),eB(n,r)})})}})},ibe={useVisualState:qF({scrapeMotionValuesFromProps:uT,createRenderState:aT})};function rB(t,e,n){for(const r in e)!vn(e[r])&&!tB(r,n)&&(t[r]=e[r])}function obe({transformTemplate:t},e){return N.useMemo(()=>{const n=aT();return oT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sbe(t,e){const n=t.style||{},r={};return rB(r,n,t),Object.assign(r,obe(t,e)),r}function abe(t,e){const n={},r=sbe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function lbe(t,e,n,r){const i=N.useMemo(()=>{const o=QF();return sT(o,e,lT(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};rB(o,t.style,t),i.style={...o,...i.style}}return i}function ube(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(tT(n)?lbe:abe)(r,o,s,n),u=E_e(r,typeof n=="string",t),c=n!==N.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=N.useMemo(()=>vn(f)?f.get():f,[f]);return N.createElement(n,{...c,children:d})}}function cbe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...tT(r)?rbe:ibe,preloadedFeatures:t,useRender:ube(i),createVisualElement:e,Component:r};return j_e(s)}}function iB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Wy(t,e,n){const r=t.getProps();return nT(r,e,n!==void 0?n:r.custom,t)}const fbe=YE(()=>window.ScrollTimeline!==void 0);class hbe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(fbe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dbe extends hbe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function cT(t,e){return t?t[e]||t.default||t:void 0}const Nb=2e4;function oB(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Nb;)e+=n,r=t.next(e);return e>=Nb?1/0:e}function fT(t){return typeof t=="function"}function oR(t,e){t.timeline=e,t.onfinish=null}const hT=t=>Array.isArray(t)&&typeof t[0]=="number",pbe={linearEasing:void 0};function mbe(t,e){const n=YE(t);return()=>{var r;return(r=pbe[e])!==null&&r!==void 0?r:n()}}const lg=mbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sB=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Jl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function aB(t){return!!(typeof t=="function"&&lg()||!t||typeof t=="string"&&(t in Mb||lg())||hT(t)||Array.isArray(t)&&t.every(aB))}const vc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Mb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function lB(t,e){if(t)return typeof t=="function"&&lg()?sB(t,e):hT(t)?vc(t):Array.isArray(t)?t.map(n=>lB(n,e)||Mb.easeOut):Mb[t]}const Sr={x:!1,y:!1};function uB(){return Sr.x||Sr.y}function gbe(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function cB(t,e){const n=gbe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function sR(t){return e=>{e.pointerType==="touch"||uB()||t(e)}}function ybe(t,e,n={}){const[r,i,o]=cB(t,n),s=sR(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const c=sR(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const fB=(t,e)=>e?t===e?!0:fB(t,e.parentElement):!1,dT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vbe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wbe(t){return vbe.has(t.tagName)||t.tabIndex!==-1}const wc=new WeakSet;function aR(t){return e=>{e.key==="Enter"&&t(e)}}function S0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _be=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=aR(()=>{if(wc.has(n))return;S0(n,"down");const i=aR(()=>{S0(n,"up")}),o=()=>S0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lR(t){return dT(t)&&!uB()}function bbe(t,e,n={}){const[r,i,o]=cB(t,n),s=a=>{const l=a.currentTarget;if(!lR(a)||wc.has(l))return;wc.add(l);const u=e(a),c=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!lR(p)||!wc.has(l))&&(wc.delete(l),typeof u=="function"&&u(p,{success:g}))},f=p=>{c(p,n.useGlobalTarget||fB(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!wbe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",u=>_be(u,i),i)}),o}function xbe(t){return t==="x"||t==="y"?Sr[t]?null:(Sr[t]=!0,()=>{Sr[t]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}const hB=new Set(["width","height","top","left","right","bottom",...Au]);let cp;function Sbe(){cp=void 0}const ni={now:()=>(cp===void 0&&ni.set(Qt.isProcessing||v_e.useManualTiming?Qt.timestamp:performance.now()),cp),set:t=>{cp=t,queueMicrotask(Sbe)}};function pT(t,e){t.indexOf(e)===-1&&t.push(e)}function mT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gT{constructor(){this.subscriptions=[]}add(e){return pT(this.subscriptions,e),()=>mT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dB(t,e){return e?t*(1e3/e):0}const uR=30,Ebe=t=>!isNaN(parseFloat(t));class Tbe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=ni.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ebe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gT);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uR);return dB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oh(t,e){return new Tbe(t,e)}function Abe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oh(n))}function Pbe(t,e){const n=Wy(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=V_e(o[s]);Abe(t,s,a)}}function Ibe(t){return!!(vn(t)&&t.add)}function Db(t,e){const n=t.getValue("willChange");if(Ibe(n))return n.add(e)}function pB(t){return t.props[WF]}const mB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Obe=1e-7,Cbe=12;function kbe(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=mB(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Obe&&++a<Cbe);return s}function Mh(t,e,n,r){if(t===e&&n===r)return Xn;const i=o=>kbe(o,0,1,t,n);return o=>o===0||o===1?o:mB(i(o),e,r)}const gB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yB=t=>e=>1-t(1-e),vB=Mh(.33,1.53,.69,.99),yT=yB(vB),wB=gB(yT),_B=t=>(t*=2)<1?.5*yT(t):.5*(2-Math.pow(2,-10*(t-1))),vT=t=>1-Math.sin(Math.acos(t)),bB=yB(vT),xB=gB(vT),SB=t=>/^0[^.\s]+$/u.test(t);function Rbe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SB(t):!0}const Uc=t=>Math.round(t*1e5)/1e5,wT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jbe(t){return t==null}const Nbe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_T=(t,e)=>n=>!!(typeof n=="string"&&Nbe.test(n)&&n.startsWith(t)||e&&!jbe(n)&&Object.prototype.hasOwnProperty.call(n,e)),EB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(wT);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Mbe=t=>Bi(0,255,t),E0={...Pu,transform:t=>Math.round(Mbe(t))},As={test:_T("rgb","red"),parse:EB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+E0.transform(t)+", "+E0.transform(e)+", "+E0.transform(n)+", "+Uc(ih.transform(r))+")"};function Dbe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $b={test:_T("#"),parse:Dbe,transform:As.transform},za={test:_T("hsl","hue"),parse:EB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(Uc(e))+", "+ti.transform(Uc(n))+", "+Uc(ih.transform(r))+")"},hn={test:t=>As.test(t)||$b.test(t)||za.test(t),parse:t=>As.test(t)?As.parse(t):za.test(t)?za.parse(t):$b.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?As.transform(t):za.transform(t)},$be=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lbe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($be))===null||n===void 0?void 0:n.length)||0)>0}const TB="number",AB="color",Vbe="var",Fbe="var(",cR="${}",Bbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Bbe,l=>(hn.test(l)?(r.color.push(o),i.push(AB),n.push(hn.parse(l))):l.startsWith(Fbe)?(r.var.push(o),i.push(Vbe),n.push(l)):(r.number.push(o),i.push(TB),n.push(parseFloat(l))),++o,cR)).split(cR);return{values:n,split:a,indexes:r,types:i}}function PB(t){return sh(t).values}function IB(t){const{split:e,types:n}=sh(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===TB?o+=Uc(i[s]):a===AB?o+=hn.transform(i[s]):o+=i[s]}return o}}const Ube=t=>typeof t=="number"?0:t;function zbe(t){const e=PB(t);return IB(t)(e.map(Ube))}const zo={test:Lbe,parse:PB,createTransformer:IB,getAnimatableNone:zbe},Wbe=new Set(["brightness","contrast","saturate","opacity"]);function Hbe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wT)||[];if(!r)return t;const i=n.replace(r,"");let o=Wbe.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Kbe=/\b([a-z-]*)\(.*?\)/gu,Lb={...zo,getAnimatableNone:t=>{const e=t.match(Kbe);return e?e.map(Hbe).join(" "):t}},qbe={...iT,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Lb,WebkitFilter:Lb},bT=t=>qbe[t];function OB(t,e){let n=bT(t);return n!==Lb&&(n=zo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Gbe=new Set(["auto","none","0"]);function Xbe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Gbe.has(o)&&sh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=OB(n,i)}const fR=t=>t===Pu||t===pe,hR=(t,e)=>parseFloat(t.split(", ")[e]),dR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return hR(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?hR(o[1],t):0}},Ybe=new Set(["x","y","z"]),Qbe=Au.filter(t=>!Ybe.has(t));function Jbe(t){const e=[];return Qbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const eu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dR(4,13),y:dR(5,14)};eu.translateX=eu.x;eu.translateY=eu.y;const Ds=new Set;let Vb=!1,Fb=!1;function CB(){if(Fb){const t=Array.from(Ds).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Jbe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fb=!1,Vb=!1,Ds.forEach(t=>t.complete()),Ds.clear()}function kB(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fb=!0)})}function Zbe(){kB(),CB()}class xT{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ds.add(this),Vb||(Vb=!0,et.read(kB),et.resolveKeyframes(CB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ds.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ds.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),exe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function txe(t){const e=exe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jB(t,e,n=1){const[r,i]=txe(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return RB(s)?parseFloat(s):s}return rT(i)?jB(i,e,n+1):i}const NB=t=>e=>e.test(t),nxe={test:t=>t==="auto",parse:t=>t},MB=[Pu,pe,ti,no,H_e,W_e,nxe],pR=t=>MB.find(NB(t));class DB extends xT{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),rT(u))){const c=jB(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hB.has(r)||e.length!==2)return;const[i,o]=e,s=pR(i),a=pR(o);if(s!==a)if(fR(s)&&fR(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Rbe(e[i])&&r.push(i);r.length&&Xbe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=eu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const mR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zo.test(t)||t==="0")&&!t.startsWith("url("));function rxe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ixe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=mR(i,e),a=mR(o,e);return!s||!a?!1:rxe(t)||(n==="spring"||fT(n))&&r}const oxe=t=>t!==null;function Hy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(oxe),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const sxe=40;class $B{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sxe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Zbe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!ixe(e,r,i,o))if(s)this.options.duration=0;else{l&&l(Hy(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(t,e,n)=>t+(e-t)*n;function T0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function axe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=T0(l,a,t+1/3),o=T0(l,a,t),s=T0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function ug(t,e){return n=>n>0?e:t}const A0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lxe=[$b,As,za],uxe=t=>lxe.find(e=>e.test(t));function gR(t){const e=uxe(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=axe(n)),n}const yR=(t,e)=>{const n=gR(t),r=gR(e);if(!n||!r)return ug(t,e);const i={...n};return o=>(i.red=A0(n.red,r.red,o),i.green=A0(n.green,r.green,o),i.blue=A0(n.blue,r.blue,o),i.alpha=lt(n.alpha,r.alpha,o),As.transform(i))},cxe=(t,e)=>n=>e(t(n)),Dh=(...t)=>t.reduce(cxe),Bb=new Set(["none","hidden"]);function fxe(t,e){return Bb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hxe(t,e){return n=>lt(t,e,n)}function ST(t){return typeof t=="number"?hxe:typeof t=="string"?rT(t)?ug:hn.test(t)?yR:mxe:Array.isArray(t)?LB:typeof t=="object"?hn.test(t)?yR:dxe:ug}function LB(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>ST(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function dxe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ST(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function pxe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const mxe=(t,e)=>{const n=zo.createTransformer(e),r=sh(t),i=sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Bb.has(t)&&!i.values.length||Bb.has(e)&&!r.values.length?fxe(t,e):Dh(LB(pxe(r,i),i.values),n):ug(t,e)};function VB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lt(t,e,n):ST(t)(t,e)}const gxe=5;function FB(t,e,n){const r=Math.max(e-gxe,0);return dB(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P0=.001;function yxe({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let i,o,s=1-e;s=Bi(yt.minDamping,yt.maxDamping,s),t=Bi(yt.minDuration,yt.maxDuration,Oi(t)),s<1?(i=u=>{const c=u*s,f=c*t,d=c-n,p=Ub(u,s),g=Math.exp(-f);return P0-d/p*g},o=u=>{const f=u*s*t,d=f*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,g=Math.exp(-f),w=Ub(Math.pow(u,2),s);return(-i(u)+P0>0?-1:1)*((d-p)*g)/w}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-P0+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=wxe(i,o,a);if(t=Ii(t),isNaN(l))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const vxe=12;function wxe(t,e,n){let r=n;for(let i=1;i<vxe;i++)r=r-t(r)/e(r);return r}function Ub(t,e){return t*Math.sqrt(1-e*e)}const _xe=["duration","bounce"],bxe=["stiffness","damping","mass"];function vR(t,e){return e.some(n=>t[n]!==void 0)}function xxe(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!vR(t,bxe)&&vR(t,_xe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Bi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yt.mass,stiffness:i,damping:o}}else{const n=yxe(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function BB(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=xxe({...n,velocity:-Oi(n.velocity||0)}),g=d||0,w=u/(2*Math.sqrt(l*c)),v=s-o,y=Oi(Math.sqrt(l/c)),_=Math.abs(v)<5;r||(r=_?yt.restSpeed.granular:yt.restSpeed.default),i||(i=_?yt.restDelta.granular:yt.restDelta.default);let b;if(w<1){const x=Ub(y,w);b=I=>{const E=Math.exp(-w*y*I);return s-E*((g+w*y*v)/x*Math.sin(x*I)+v*Math.cos(x*I))}}else if(w===1)b=x=>s-Math.exp(-y*x)*(v+(g+y*v)*x);else{const x=y*Math.sqrt(w*w-1);b=I=>{const E=Math.exp(-w*y*I),T=Math.min(x*I,300);return s-E*((g+w*y*v)*Math.sinh(T)+x*v*Math.cosh(T))/x}}const A={calculatedDuration:p&&f||null,next:x=>{const I=b(x);if(p)a.done=x>=f;else{let E=0;w<1&&(E=x===0?Ii(g):FB(b,x,I));const T=Math.abs(E)<=r,P=Math.abs(s-I)<=i;a.done=T&&P}return a.value=a.done?s:I,a},toString:()=>{const x=Math.min(oB(A),Nb),I=sB(E=>A.next(x*E).value,x,30);return x+"ms "+I}};return A}function wR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*e;const v=f+w,y=s===void 0?v:s(v);y!==v&&(w=y-f);const _=T=>-w*Math.exp(-T/r),b=T=>y+_(T),A=T=>{const P=_(T),C=b(T);d.done=Math.abs(P)<=u,d.value=d.done?y:C};let x,I;const E=T=>{p(d.value)&&(x=T,I=BB({keyframes:[d.value,g(d.value)],velocity:FB(b,T,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:T=>{let P=!1;return!I&&x===void 0&&(P=!0,A(T),E(T)),x!==void 0&&T>=x?I.next(T-x):(!P&&A(T),d)}}}const Sxe=Mh(.42,0,1,1),Exe=Mh(0,0,.58,1),UB=Mh(.42,0,.58,1),Txe=t=>Array.isArray(t)&&typeof t[0]!="number",Axe={linear:Xn,easeIn:Sxe,easeInOut:UB,easeOut:Exe,circIn:vT,circInOut:xB,circOut:bB,backIn:yT,backInOut:wB,backOut:vB,anticipate:_B},_R=t=>{if(hT(t)){VF(t.length===4);const[e,n,r,i]=t;return Mh(e,n,r,i)}else if(typeof t=="string")return Axe[t];return t};function Pxe(t,e,n){const r=[],i=n||VB,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Xn:e;a=Dh(l,a)}r.push(a)}return r}function Ixe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(VF(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Pxe(e,r,i),l=a.length,u=c=>{if(s&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=Jl(t[f],t[f+1],c);return a[f](d)};return n?c=>u(Bi(t[0],t[o-1],c)):u}function Oxe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jl(0,e,r);t.push(lt(n,1,i))}}function Cxe(t){const e=[0];return Oxe(e,t.length-1),e}function kxe(t,e){return t.map(n=>n*e)}function Rxe(t,e){return t.map(()=>e||UB).splice(0,t.length-1)}function cg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Txe(r)?r.map(_R):_R(r),o={done:!1,value:e[0]},s=kxe(n&&n.length===e.length?n:Cxe(e),t),a=Ixe(s,e,{ease:Array.isArray(i)?i:Rxe(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const jxe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>Uo(e),now:()=>Qt.isProcessing?Qt.timestamp:ni.now()}},Nxe={decay:wR,inertia:wR,tween:cg,keyframes:cg,spring:BB},Mxe=t=>t/100;class ET extends $B{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||xT,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=fT(n)?n:Nxe[n]||cg;let l,u;a!==cg&&typeof e[0]!="number"&&(l=Dh(Mxe,VB(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=oB(c));const{calculatedDuration:f}=c,d=f+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:w,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),_=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let b=this.currentTime,A=o;if(p){const T=Math.min(this.currentTime,c)/f;let P=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(C=1-C,w&&(C-=w/f)):g==="mirror"&&(A=s)),b=Bi(0,1,C)*f}const x=_?{done:!1,value:l[0]}:A.next(b);a&&(x.value=a(x.value));let{done:I}=x;!_&&u!==null&&(I=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return E&&i!==void 0&&(x.value=Hy(l,this.options,i)),v&&v(x.value),E&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Oi(e.calculatedDuration):0}get time(){return Oi(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jxe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Dxe=new Set(["opacity","clipPath","filter","transform"]);function $xe(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=lB(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const Lxe=YE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fg=10,Vxe=2e4;function Fxe(t){return fT(t.type)||t.type==="spring"||!aB(t.ease)}function Bxe(t,e){const n=new ET({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<Vxe;)r=n.sample(o),i.push(r.value),o+=fg;return{times:void 0,keyframes:i,duration:o-fg,ease:"linear"}}const zB={anticipate:_B,backInOut:wB,circInOut:xB};function Uxe(t){return t in zB}class bR extends $B{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new DB(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&lg()&&Uxe(o)&&(o=zB[o]),Fxe(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:g,...w}=this.options,v=Bxe(e,w);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,o=v.ease,s="keyframes"}const c=$xe(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(oR(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Hy(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Oi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Oi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xn;const{animation:r}=n;oR(r,e)}return Xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...p}=this.options,g=new ET({...p,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),w=Ii(this.time);u.setWithVelocity(g.sample(w-fg).value,g.sample(w).value,fg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return Lxe()&&r&&Dxe.has(r)&&!l&&!u&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const zxe={type:"spring",stiffness:500,damping:25,restSpeed:10},Wxe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hxe={type:"keyframes",duration:.8},Kxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qxe=(t,{keyframes:e})=>e.length>2?Hxe:fa.has(t)?t.startsWith("scale")?Wxe(e[1]):zxe:Kxe;function Gxe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const TT=(t,e,n,r={},i,o)=>s=>{const a=cT(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ii(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};Gxe(a)||(c={...c,...qxe(t,c)}),c.duration&&(c.duration=Ii(c.duration)),c.repeatDelay&&(c.repeatDelay=Ii(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=Hy(c.keyframes,a);if(d!==void 0)return et.update(()=>{c.onUpdate(d),c.onComplete()}),new dbe([])}return!o&&bR.supports(c)?new bR(c):new ET(c)};function Xxe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),p=l[f];if(p===void 0||c&&Xxe(c,f))continue;const g={delay:n,...cT(s||{},f)};let w=!1;if(window.MotionHandoffAnimation){const y=pB(t);if(y){const _=window.MotionHandoffAnimation(y,f,et);_!==null&&(g.startTime=_,w=!0)}}Db(t,f),d.start(TT(f,d,p,t.shouldReduceMotion&&hB.has(f)?{type:!1}:g,t,w));const v=d.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{et.update(()=>{a&&Pbe(t,a)})}),u}function zb(t,e,n={}){var r;const i=Wy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(WB(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return Yxe(t,e,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function Yxe(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Qxe).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(zb(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function Qxe(t,e){return t.sortNodePosition(e)}function Jxe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>zb(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=zb(t,e,n);else{const i=typeof e=="function"?Wy(t,e,n.custom):e;r=Promise.all(WB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Zxe=JE.length;function HB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zxe;n++){const r=JE[n],i=t.props[r];(rh(i)||i===!1)&&(e[r]=i)}return e}const eSe=[...QE].reverse(),tSe=QE.length;function nSe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jxe(t,n,r)))}function rSe(t){let e=nSe(t),n=xR(),r=!0;const i=l=>(u,c)=>{var f;const d=Wy(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...w}=d;u={...u,...w,...g}}return u};function o(l){e=l(t)}function s(l){const{props:u}=t,c=HB(t.parent)||{},f=[],d=new Set;let p={},g=1/0;for(let v=0;v<tSe;v++){const y=eSe[v],_=n[y],b=u[y]!==void 0?u[y]:c[y],A=rh(b),x=y===l?_.isActive:null;x===!1&&(g=v);let I=b===c[y]&&b!==u[y]&&A;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...p},!_.isActive&&x===null||!b&&!_.prevProp||Uy(b)||typeof b=="boolean")continue;const E=iSe(_.prevProp,b);let T=E||y===l&&_.isActive&&!I&&A||v>g&&A,P=!1;const C=Array.isArray(b)?b:[b];let k=C.reduce(i(y),{});x===!1&&(k={});const{prevResolvedValues:j={}}=_,R={...j,...k},F=z=>{T=!0,d.has(z)&&(P=!0,d.delete(z)),_.needsAnimating[z]=!0;const $=t.getValue(z);$&&($.liveStyle=!1)};for(const z in R){const $=k[z],B=j[z];if(p.hasOwnProperty(z))continue;let G=!1;jb($)&&jb(B)?G=!iB($,B):G=$!==B,G?$!=null?F(z):d.add(z):$!==void 0&&d.has(z)?F(z):_.protectedKeys[z]=!0}_.prevProp=b,_.prevResolvedValues=k,_.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(I&&E)||P)&&f.push(...C.map(z=>({animation:z,options:{type:y}})))}if(d.size){const v={};d.forEach(y=>{const _=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),v[y]=_??null}),f.push({animation:v})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=s(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=xR(),r=!0}}}function iSe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iB(e,t):!1}function ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xR(){return{animate:ls(!0),whileInView:ls(),whileHover:ls(),whileTap:ls(),whileDrag:ls(),whileFocus:ls(),exit:ls()}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oSe extends ns{constructor(e){super(e),e.animationState||(e.animationState=rSe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sSe=0;class aSe extends ns{constructor(){super(...arguments),this.id=sSe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lSe={animation:{Feature:oSe},exit:{Feature:aSe}};function ah(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $h(t){return{point:{x:t.pageX,y:t.pageY}}}const uSe=t=>e=>dT(e)&&t(e,$h(e));function zc(t,e,n,r){return ah(t,e,uSe(n),r)}const SR=(t,e)=>Math.abs(t-e);function cSe(t,e){const n=SR(t.x,e.x),r=SR(t.y,e.y);return Math.sqrt(n**2+r**2)}class KB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=O0(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=cSe(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=f,{timestamp:w}=Qt;this.history.push({...g,timestamp:w});const{onStart:v,onMove:y}=this.handlers;d||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=I0(d,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=O0(f.type==="pointercancel"?this.lastMoveEventInfo:I0(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!dT(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=$h(e),a=I0(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Qt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,O0(a,this.history)),this.removeListeners=Dh(zc(this.contextWindow,"pointermove",this.handlePointerMove),zc(this.contextWindow,"pointerup",this.handlePointerUp),zc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uo(this.updatePoint)}}function I0(t,e){return e?{point:e(t.point)}:t}function ER(t,e){return{x:t.x-e.x,y:t.y-e.y}}function O0({point:t},e){return{point:t,delta:ER(t,qB(e)),offset:ER(t,fSe(e)),velocity:hSe(e,.1)}}function fSe(t){return t[0]}function qB(t){return t[t.length-1]}function hSe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=qB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ii(e)));)n--;if(!r)return{x:0,y:0};const o=Oi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const GB=1e-4,dSe=1-GB,pSe=1+GB,XB=.01,mSe=0-XB,gSe=0+XB;function Qn(t){return t.max-t.min}function ySe(t,e,n){return Math.abs(t-e)<=n}function TR(t,e,n,r=.5){t.origin=r,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dSe&&t.scale<=pSe||isNaN(t.scale))&&(t.scale=1),(t.translate>=mSe&&t.translate<=gSe||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,r){TR(t.x,e.x,n.x,r?r.originX:void 0),TR(t.y,e.y,n.y,r?r.originY:void 0)}function AR(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function vSe(t,e,n){AR(t.x,e.x,n.x),AR(t.y,e.y,n.y)}function PR(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Hc(t,e,n){PR(t.x,e.x,n.x),PR(t.y,e.y,n.y)}function wSe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lt(n,t,r.max):Math.min(t,n)),t}function IR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _Se(t,{top:e,left:n,bottom:r,right:i}){return{x:IR(t.x,n,i),y:IR(t.y,e,r)}}function OR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bSe(t,e){return{x:OR(t.x,e.x),y:OR(t.y,e.y)}}function xSe(t,e){let n=.5;const r=Qn(t),i=Qn(e);return i>r?n=Jl(e.min,e.max-r,t.min):r>i&&(n=Jl(t.min,t.max-i,e.min)),Bi(0,1,n)}function SSe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wb=.35;function ESe(t=Wb){return t===!1?t=0:t===!0&&(t=Wb),{x:CR(t,"left","right"),y:CR(t,"top","bottom")}}function CR(t,e,n){return{min:kR(t,e),max:kR(t,n)}}function kR(t,e){return typeof t=="number"?t:t[e]||0}const RR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:RR(),y:RR()}),jR=()=>({min:0,max:0}),bt=()=>({x:jR(),y:jR()});function or(t){return[t("x"),t("y")]}function YB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TSe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ASe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function C0(t){return t===void 0||t===1}function Hb({scale:t,scaleX:e,scaleY:n}){return!C0(t)||!C0(e)||!C0(n)}function ms(t){return Hb(t)||QB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QB(t){return NR(t.x)||NR(t.y)}function NR(t){return t&&t!=="0%"}function hg(t,e,n){const r=t-n,i=e*r;return n+i}function MR(t,e,n,r,i){return i!==void 0&&(t=hg(t,i,r)),hg(t,n,r)+e}function Kb(t,e=0,n=1,r,i){t.min=MR(t.min,e,n,r,i),t.max=MR(t.max,e,n,r,i)}function JB(t,{x:e,y:n}){Kb(t.x,e.translate,e.scale,e.originPoint),Kb(t.y,n.translate,n.scale,n.originPoint)}const DR=.999999999999,$R=1.0000000000001;function PSe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ka(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,JB(t,s)),r&&ms(o.latestValues)&&Ka(t,o.latestValues))}e.x<$R&&e.x>DR&&(e.x=1),e.y<$R&&e.y>DR&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function LR(t,e,n,r,i=.5){const o=lt(t.min,t.max,i);Kb(t,e,n,o,r)}function Ka(t,e){LR(t.x,e.x,e.scaleX,e.scale,e.originX),LR(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZB(t,e){return YB(ASe(t.getBoundingClientRect(),e))}function ISe(t,e,n){const r=ZB(t,n),{scroll:i}=e;return i&&(Ha(r.x,i.offset.x),Ha(r.y,i.offset.y)),r}const eU=({current:t})=>t?t.ownerDocument.defaultView:null,OSe=new WeakMap;class CSe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($h(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xbe(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(v=>{let y=this.getAxisMotionValue(v).get()||0;if(ti.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[v];b&&(y=Qn(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&et.postRender(()=>g(c,f)),Db(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:w}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=kSe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&w(c,f)},a=(c,f)=>this.stop(c,f),l=()=>or(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new KB(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:eU(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&et.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=wSe(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_Se(i.layoutBox,n):this.constraints=!1,this.elastic=ESe(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&or(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=SSe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=ISe(r,i.root,this.visualElement.getTransformPagePoint());let s=bSe(i.layout.layoutBox,o);if(n){const a=n(TSe(s));this.hasMutatedConstraints=!!a,a&&(s=YB(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=or(c=>{if(!Fd(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Db(this.visualElement,e),r.start(TT(e,r,0,n,this.visualElement,!1))}stopAnimation(){or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){or(n=>{const{drag:r}=this.getProps();if(!Fd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-lt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};or(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=xSe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),or(s=>{if(!Fd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(lt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;OSe.set(this.visualElement,this);const e=this.visualElement.current,n=zc(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);const s=ah(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(or(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Wb,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Fd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kSe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RSe extends ns{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new CSe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VR=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class jSe extends ns{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new KB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VR(e),onStart:VR(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&et.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=zc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=FR(t,e.target.x),r=FR(t,e.target.y);return`${n}% ${r}%`}},NSe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=zo.parse(t);if(i.length>5)return r;const o=zo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=lt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class MSe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;tbe(DSe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),fp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||et.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tU(t){const[e,n]=$F(),r=N.useContext(KE);return m.jsx(MSe,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(HF),isPresent:e,safeToRemove:n})}const DSe={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:NSe};function $Se(t,e,n){const r=vn(t)?t:oh(t);return r.start(TT("",r,e,n)),r.animation}function LSe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const VSe=(t,e)=>t.depth-e.depth;class FSe{constructor(){this.children=[],this.isDirty=!1}add(e){pT(this.children,e),this.isDirty=!0}remove(e){mT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VSe),this.isDirty=!1,this.children.forEach(e)}}function BSe(t,e){const n=ni.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Uo(r),t(o-e))};return et.read(r,!0),()=>Uo(r)}const nU=["TopLeft","TopRight","BottomLeft","BottomRight"],USe=nU.length,BR=t=>typeof t=="string"?parseFloat(t):t,UR=t=>typeof t=="number"||pe.test(t);function zSe(t,e,n,r,i,o){i?(t.opacity=lt(0,n.opacity!==void 0?n.opacity:1,WSe(r)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,HSe(r))):o&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<USe;s++){const a=`border${nU[s]}Radius`;let l=zR(e,a),u=zR(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||UR(l)===UR(u)?(t[a]=Math.max(lt(BR(l),BR(u),r),0),(ti.test(u)||ti.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=lt(e.rotate||0,n.rotate||0,r))}function zR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WSe=rU(0,.5,bB),HSe=rU(.5,.95,Xn);function rU(t,e,n){return r=>r<t?0:r>e?1:n(Jl(t,e,r))}function WR(t,e){t.min=e.min,t.max=e.max}function rr(t,e){WR(t.x,e.x),WR(t.y,e.y)}function HR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function KR(t,e,n,r,i){return t-=e,t=hg(t,1/n,r),i!==void 0&&(t=hg(t,1/i,r)),t}function KSe(t,e=0,n=1,r=.5,i,o=t,s=t){if(ti.test(e)&&(e=parseFloat(e),e=lt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=lt(o.min,o.max,r);t===o&&(a-=e),t.min=KR(t.min,e,n,a,i),t.max=KR(t.max,e,n,a,i)}function qR(t,e,[n,r,i],o,s){KSe(t,e[n],e[r],e[i],e.scale,o,s)}const qSe=["x","scaleX","originX"],GSe=["y","scaleY","originY"];function GR(t,e,n,r){qR(t.x,e,qSe,n?n.x:void 0,r?r.x:void 0),qR(t.y,e,GSe,n?n.y:void 0,r?r.y:void 0)}function XR(t){return t.translate===0&&t.scale===1}function iU(t){return XR(t.x)&&XR(t.y)}function YR(t,e){return t.min===e.min&&t.max===e.max}function XSe(t,e){return YR(t.x,e.x)&&YR(t.y,e.y)}function QR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oU(t,e){return QR(t.x,e.x)&&QR(t.y,e.y)}function JR(t){return Qn(t.x)/Qn(t.y)}function ZR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class YSe{constructor(){this.members=[]}add(e){pT(this.members,e),e.scheduleRender()}remove(e){if(mT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QSe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const gs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_c=typeof window<"u"&&window.MotionDebug!==void 0,k0=["","X","Y","Z"],JSe={visibility:"hidden"},ej=1e3;let ZSe=0;function R0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sU(r)}function aU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=ZSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_c&&(gs.totalNodes=gs.resolvedTargetDeltas=gs.recalculatedProjection=0),this.nodes.forEach(nEe),this.nodes.forEach(aEe),this.nodes.forEach(lEe),this.nodes.forEach(rEe),_c&&window.MotionDebug.record(gs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new FSe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gT),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=LSe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=BSe(d,250),fp.hasAnimatedSinceResize&&(fp.hasAnimatedSinceResize=!1,this.nodes.forEach(nj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||dEe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),_=!this.targetLayout||!oU(this.targetLayout,g)||p,b=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const A={...cT(w,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||nj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uEe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tj);return}this.isUpdating||this.nodes.forEach(oEe),this.isUpdating=!1,this.nodes.forEach(sEe),this.nodes.forEach(eEe),this.nodes.forEach(tEe),this.clearAllSnapshots();const a=ni.now();Qt.delta=Bi(0,1e3/60,a-Qt.timestamp),Qt.timestamp=a,Qt.isProcessing=!0,x0.update.process(Qt),x0.preRender.process(Qt),x0.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iEe),this.sharedNodes.forEach(cEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!iU(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||ms(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),pEe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return bt();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(mEe))){const{scroll:c}=this.root;c&&(Ha(l.x,c.offset.x),Ha(l.y,c.offset.y))}return l}removeElementScroll(s){var a;const l=bt();if(rr(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&rr(l,s),Ha(l.x,f.offset.x),Ha(l.y,f.offset.y))}return l}applyTransform(s,a=!1){const l=bt();rr(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ka(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ms(c.latestValues)&&Ka(l,c.latestValues)}return ms(this.latestValues)&&Ka(l,this.latestValues),l}removeTransform(s){const a=bt();rr(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ms(u.latestValues))continue;Hb(u.latestValues)&&u.updateSnapshot();const c=bt(),f=u.measurePageBox();rr(c,f),GR(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ms(this.latestValues)&&GR(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vSe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),JB(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hc(this.relativeTargetOrigin,this.target,p.target),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_c&&gs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hb(this.parent.latestValues)||QB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;rr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;PSe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HR(this.prevProjectionDelta.x,this.projectionDelta.x),HR(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!ZR(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),_c&&gs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=bt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,w=p!==g,v=this.getStack(),y=!v||v.members.length<=1,_=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(hEe));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const x=A/1e3;rj(f.x,s.x,x),rj(f.y,s.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hc(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fEe(this.relativeTarget,this.relativeTargetOrigin,d,x),b&&XSe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=bt()),rr(b,this.relativeTarget)),w&&(this.animationValues=c,zSe(c,u,this.latestValues,x,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{fp.hasAnimatedSinceResize=!0,this.currentAnimation=$Se(0,ej,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ej),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&lU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||bt();const f=Qn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Qn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}rr(a,l),Ka(a,c),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new YSe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&R0("z",s,u,this.animationValues);for(let c=0;c<k0.length;c++)R0(`rotate${k0[c]}`,s,u,this.animationValues),R0(`skew${k0[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JSe;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=up(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=up(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ms(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=QSe(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in ag){if(d[w]===void 0)continue;const{correct:v,applyTo:y}=ag[w],_=u.transform==="none"?d[w]:v(d[w],f);if(y){const b=y.length;for(let A=0;A<b;A++)u[y[A]]=_}else u[w]=_}return this.options.layoutId&&(u.pointerEvents=f===this?up(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(tj),this.root.sharedNodes.clear()}}}function eEe(t){t.updateLayout()}function tEe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?or(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Qn(d);d.min=r[f].min,d.max=d.min+p}):lU(o,n.layoutBox,r)&&or(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Qn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=Wa();Wc(a,r,n.layoutBox);const l=Wa();s?Wc(l,t.applyTransform(i,!0),n.measuredBox):Wc(l,r,n.layoutBox);const u=!iU(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const g=bt();Hc(g,n.layoutBox,d.layoutBox);const w=bt();Hc(w,r,p.layoutBox),oU(g,w)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nEe(t){_c&&gs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rEe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iEe(t){t.clearSnapshot()}function tj(t){t.clearMeasurements()}function oEe(t){t.isLayoutDirty=!1}function sEe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aEe(t){t.resolveTargetDelta()}function lEe(t){t.calcProjection()}function uEe(t){t.resetSkewAndRotation()}function cEe(t){t.removeLeadSnapshot()}function rj(t,e,n){t.translate=lt(e.translate,0,n),t.scale=lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ij(t,e,n,r){t.min=lt(e.min,n.min,r),t.max=lt(e.max,n.max,r)}function fEe(t,e,n,r){ij(t.x,e.x,n.x,r),ij(t.y,e.y,n.y,r)}function hEe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dEe={duration:.45,ease:[.4,0,.1,1]},oj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sj=oj("applewebkit/")&&!oj("chrome/")?Math.round:Xn;function aj(t){t.min=sj(t.min),t.max=sj(t.max)}function pEe(t){aj(t.x),aj(t.y)}function lU(t,e,n){return t==="position"||t==="preserve-aspect"&&!ySe(JR(e),JR(n),.2)}function mEe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gEe=aU({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),j0={current:void 0},uU=aU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!j0.current){const t=new gEe({});t.mount(window),t.setOptions({layoutScroll:!0}),j0.current=t}return j0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yEe={pan:{Feature:jSe},drag:{Feature:RSe,ProjectionNode:uU,MeasureLayout:tU}};function lj(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&et.postRender(()=>o(e,$h(e)))}class vEe extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=ybe(e,n=>(lj(this.node,n,"Start"),r=>lj(this.node,r,"End"))))}unmount(){}}class wEe extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uj(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&et.postRender(()=>o(e,$h(e)))}class _Ee extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=bbe(e,n=>(uj(this.node,n,"Start"),(r,{success:i})=>uj(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qb=new WeakMap,N0=new WeakMap,bEe=t=>{const e=qb.get(t.target);e&&e(t)},xEe=t=>{t.forEach(bEe)};function SEe({root:t,...e}){const n=t||document;N0.has(n)||N0.set(n,{});const r=N0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xEe,{root:t,...e})),r[i]}function EEe(t,e,n){const r=SEe(e);return qb.set(t,n),r.observe(t),()=>{qb.delete(t),r.unobserve(t)}}const TEe={some:0,all:1};class AEe extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:TEe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return EEe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PEe(e,n))&&this.startObserver()}unmount(){}}function PEe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IEe={inView:{Feature:AEe},tap:{Feature:_Ee},focus:{Feature:wEe},hover:{Feature:vEe}},OEe={layout:{ProjectionNode:uU,MeasureLayout:tU}},Gb={current:null},cU={current:!1};function CEe(){if(cU.current=!0,!!XE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gb.current=t.matches;t.addListener(e),e()}else Gb.current=!1}const kEe=[...MB,hn,zo],REe=t=>kEe.find(NB(t)),cj=new WeakMap;function jEe(t,e,n){for(const r in e){const i=e[r],o=n[r];if(vn(i))t.addValue(r,i);else if(vn(o))t.addValue(r,oh(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,oh(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NEe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ni.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,et.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=s;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=zy(n),this.isVariantNode=zF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&vn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,cj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cU.current||CEe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cj.delete(this.current),this.projection&&this.projection.unmount(),Uo(this.notifyUpdate),Uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fa.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fj.length;r++){const i=fj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=jEe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RB(i)||SB(i))?i=parseFloat(i):!REe(i)&&zo.test(n)&&(i=OB(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=nT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!vn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fU extends NEe{constructor(){super(...arguments),this.KeyframeResolver=DB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MEe(t){return window.getComputedStyle(t)}class DEe extends fU{constructor(){super(...arguments),this.type="html",this.renderInstance=JF}readValueFromInstance(e,n){if(fa.has(n)){const r=bT(n);return r&&r.default||0}else{const r=MEe(e),i=(XF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZB(e,n)}build(e,n,r){oT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uT(e,n,r)}}class $Ee extends fU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fa.has(n)){const r=bT(n);return r&&r.default||0}return n=ZF.has(n)?n:ZE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nB(e,n,r)}build(e,n,r){sT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){eB(e,n,r,i)}mount(e){this.isSVGTag=lT(e.tagName),super.mount(e)}}const LEe=(t,e)=>tT(t)?new $Ee(e):new DEe(e,{allowProjection:t!==N.Fragment}),VEe=cbe({...lSe,...IEe,...yEe,...OEe},LEe),Xb=T_e(VEe);function hp({message:t,show:e,tone:n="default",position:r="bottom"}){const i=n==="alert"?" toast-alert":n==="success"?" toast-success":"",o=r==="top"?" toast-top":"";return m.jsx(y_e,{children:e&&m.jsx(Xb.div,{className:`toast${i}${o}`,initial:{opacity:0,y:r==="top"?-12:12},animate:{opacity:1,y:0},exit:{opacity:0,y:r==="top"?-10:10},transition:{duration:.2},children:t})})}const FEe="/assets/dragon_1-VUau3TPf.png",BEe="/assets/dragon_2-tIDnmQQY.png",UEe="/assets/dragon_3-CV9vCuX8.png",zEe="/assets/dragon_4-DAXNZ_eS.png",WEe="/assets/dragon_5-CqCN-LGd.png",HEe="/assets/dragon_6-Bj6mXpl5.png",hj=[FEe,BEe,UEe,zEe,WEe,HEe],dj=["Mon","Tue","Wed","Thu","Fri"];function KEe({session:t,player:e}){var x,I;const n=t.revealIndex??0,r=t.weeks??10,i=r*5,o=t.revealedDemands??[],s=t.trainingDemands??[],a=s.length?s.reduce((E,T)=>E+T,0)/s.length:0,l=s.length>1?Math.sqrt(s.reduce((E,T)=>E+(T-a)**2,0)/(s.length-1)):0,[u,c]=N.useState(""),[f,d]=N.useState(!1);N.useEffect(()=>{if(n>0){const E=n-1,T=Math.floor(E/5)+1,P=dj[E%5];c(` Bakery doors open Week ${T}  ${P} demand revealed!`),d(!0);const C=setTimeout(()=>d(!1),2200);return()=>clearTimeout(C)}},[n]);const p=Math.max(0,n-1),g=Math.floor(p/5),w=g*5,v=o.slice(w,w+5),y=((x=e.ordersByWeek)==null?void 0:x[g])??null;(I=e.ordersByWeek)==null||I[t.weekIndex??0];const _=N.useMemo(()=>v.map((E,T)=>{const P=y??0,C=l_e({D:E,Q:P,price:t.price,cost:t.cost,salvage:t.salvage});return{idx:T,d:E,q:P,profit:C}}),[v,y,t.price,t.cost,t.salvage]),b=_.reduce((E,T)=>E+T.profit,0),A=e.cumulativeProfit??0;return m.jsxs("div",{className:"card",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:8},children:[m.jsx("h2",{style:{margin:0},children:"Revealed Demand"}),m.jsx("span",{className:"small",children:"Bakery doors open MonFri"})]}),m.jsxs("div",{className:"kpi",style:{gap:"6px 8px"},children:[m.jsxs("div",{className:"pill",style:{padding:"4px 10px"},children:["Week: ",m.jsxs("span",{className:"mono",children:[(t.weekIndex??0)+1,"/",r]})]}),m.jsxs("div",{className:"pill",style:{padding:"4px 10px"},children:["Revealed: ",m.jsxs("span",{className:"mono",children:[n,"/",i]})]}),m.jsxs("div",{className:"pill",style:{padding:"4px 10px"},children:["Plan: ",m.jsx("span",{className:"mono",children:y??""})]}),m.jsxs("div",{className:"pill",style:{padding:"4px 10px"},children:["Profit: ",m.jsx("span",{className:"mono",children:b.toFixed(2)})]}),m.jsxs("div",{className:"pill",style:{padding:"4px 10px"},children:["Total: ",m.jsx("span",{className:"mono",children:A.toFixed(2)})]})]}),m.jsx("div",{className:"hr",style:{margin:"8px 0"}}),m.jsx("div",{className:"grid five",children:Array.from({length:5},(E,T)=>{const P=v[T],C=_.find(z=>z.idx===T),k=typeof P=="number",j=k&&P>a+l,R=k&&P<a-l,F=`day-card${k?" revealed":""}${j?" high-demand":""}${R?" low-demand":""}`,V=(C==null?void 0:C.profit)??0,W=V>0?"var(--success)":V<0?"var(--danger)":"inherit";return m.jsxs(Xb.div,{className:F,initial:{opacity:.6,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,delay:T*.05},children:[m.jsx("div",{className:"day-label",children:dj[T]}),m.jsxs("div",{className:`demand-value${k?"":" unrevealed"}`,children:[m.jsx("span",{children:k?P:"?"}),m.jsx("span",{className:"small",children:j?"":R?"":k?"":""})]}),m.jsx("div",{className:"profit-row",children:m.jsx("div",{className:"mono",style:{fontWeight:700,color:k?W:"inherit",textAlign:"center",fontSize:"12px"},children:k?(V>=0?"+":"")+V.toFixed(2):""})})]},T)})}),m.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:12,paddingTop:8,borderTop:"1px solid var(--border-soft)",opacity:.9},children:m.jsx(Xb.img,{src:hj[(t.weekIndex??0)%hj.length],alt:"Dragon of the week",style:{width:120,height:120,borderRadius:12,objectFit:"cover",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20}},t.weekIndex)}),m.jsx(hp,{message:u,show:f})]})}function qEe(){var _t,re;const{sessionId:t}=Cg(),e=ta(),{user:n}=Ah(),[r,i]=N.useState(null),[o,s]=N.useState(null),[a,l]=N.useState(""),[u,c]=N.useState(!1),[f,d]=N.useState(""),[p,g]=N.useState(""),[w,v]=N.useState(!1),[y,_]=N.useState(!1),[b,A]=N.useState(!1),[x,I]=N.useState(!1),[E,T]=N.useState(null),P=N.useRef(null),C=N.useRef(null),k=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{if(!t)return;const oe=ks(il(vo,"sessions",t),le=>{i(le.exists()?le.data():null)});return()=>{oe()}},[t]),N.useEffect(()=>{if(!t||!(n!=null&&n.uid))return;const oe=ks(il(vo,"sessions",t,"players",n.uid),le=>{if(!le.exists()){s(null);return}s({uid:n.uid,...le.data()})});return()=>oe()},[t,n==null?void 0:n.uid]),N.useEffect(()=>{if(!(o!=null&&o.lastNudgedAt))return;const oe=(()=>{var Ee;if(typeof((Ee=o.lastNudgedAt)==null?void 0:Ee.toMillis)=="function")return o.lastNudgedAt.toMillis();const q=(o.lastNudgedAt instanceof Date?o.lastNudgedAt:new Date(o.lastNudgedAt)).getTime();return Number.isFinite(q)?q:null})();oe&&(P.current!==null&&oe>P.current&&(v(!0),C.current&&window.clearTimeout(C.current),C.current=window.setTimeout(()=>v(!1),4200)),P.current=oe)},[o==null?void 0:o.lastNudgedAt]),N.useEffect(()=>()=>{C.current&&window.clearTimeout(C.current),k.current&&window.clearTimeout(k.current),j.current&&window.clearTimeout(j.current)},[]),N.useEffect(()=>{const oe=e.state;oe!=null&&oe.resumed&&(_(!0),k.current=window.setTimeout(()=>_(!1),4e3),window.history.replaceState({},document.title))},[e.state]);const R=(r==null?void 0:r.trainingDemands)??[],F=(r==null?void 0:r.revealedDemands)??[],V=N.useMemo(()=>R.concat(F),[R,F]),W=N.useMemo(()=>El(V),[V]),z=N.useMemo(()=>sl(V),[V]),$=N.useMemo(()=>{const oe=Number(r==null?void 0:r.demandMu);return Number.isFinite(oe)?oe:R.length?El(R):W},[r==null?void 0:r.demandMu,R,W]),B=N.useMemo(()=>{const oe=Number(r==null?void 0:r.demandSigma);if(Number.isFinite(oe)&&oe>0)return oe;if(R.length){const q=sl(R);if(q>0)return q}const le=sl(V);return le>0?le:0},[r==null?void 0:r.demandSigma,R,V]),G=(r==null?void 0:r.weekIndex)??0,te=(r==null?void 0:r.weeks)??10,Y=(((_t=r==null?void 0:r.trainingDemands)==null?void 0:_t.length)??50)+te*5,ne=((re=o==null?void 0:o.ordersByWeek)==null?void 0:re[G])??null,Se=(r==null?void 0:r.status)!=="training",Ae=N.useMemo(()=>{const le=((r==null?void 0:r.leaderboard)??[]).findIndex(q=>q.uid===(o==null?void 0:o.uid));return le>=0?le+1:null},[r==null?void 0:r.leaderboard,o==null?void 0:o.uid]);N.useEffect(()=>{l(""),g("")},[G]),N.useEffect(()=>{A(!1),j.current&&window.clearTimeout(j.current)},[G,r==null?void 0:r.status]);async function Fe(oe){const le=oe===!0;if(!t||!r)return;if(d(""),p||a.trim()===""){d("Order must be a non-negative integer.");return}const q=Number(a);if(!le&&B>0&&Math.abs(q-$)>4*B){T(q),I(!0);return}c(!0);try{const Ee=E??q;await Qe.submitOrder({sessionId:t,weekIndex:G,orderQty:Ee}),d(""),A(!0),j.current&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>A(!1),4e3)}catch(Ee){console.error(Ee),d((Ee==null?void 0:Ee.message)??"Submit failed")}finally{c(!1),T(null)}}if(!r)return m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Bakery floor"}),m.jsx("p",{className:"small",children:"Loading session"})]});if(!o)return m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Bakery floor"}),m.jsx("p",{className:"small",children:"Waiting for your player profile (did you join with a name?)"})]});const it=o.cumulativeProfit??0;return m.jsxs("div",{className:"grid",children:[m.jsxs("div",{className:"card highlight",children:[m.jsxs("div",{className:"row",style:{marginBottom:12},children:[m.jsxs("div",{children:[m.jsxs("div",{className:"row",style:{gap:10,marginBottom:4},children:[m.jsxs("h2",{style:{margin:0},children:["Welcome, ",o.name]}),m.jsx("span",{className:"badge large mono",children:r.code})]}),m.jsx("p",{className:"small",style:{margin:0},children:"You run a croissant bakery. Each week, decide how many croissants to bake per day (MonFri)."})]}),m.jsx("div",{className:"spacer"}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("div",{className:"small",children:"Your Profit"}),m.jsxs("div",{className:`mono font-bold ${it>=0?"text-success":"text-danger"}`,style:{fontSize:24},children:[it>=0?"+":"",it.toFixed(2)]})]})]}),m.jsxs("div",{className:"kpi",children:[m.jsxs("div",{className:"pill",children:["Sell Price: ",m.jsx("span",{className:"mono",children:r.price.toFixed(2)})]}),m.jsxs("div",{className:"pill",children:["Cost: ",m.jsx("span",{className:"mono",children:r.cost.toFixed(2)})]}),m.jsxs("div",{className:"pill",children:["Salvage: ",m.jsx("span",{className:"mono",children:r.salvage.toFixed(2)})]}),Ae&&m.jsxs("div",{className:"pill success",children:["Rank: ",m.jsxs("span",{className:"mono",children:["#",Ae]})]})]})]}),r.status==="finished"?m.jsxs("div",{className:"card success-highlight",children:[m.jsx("h2",{children:"Game Complete!"}),m.jsx("p",{children:"Congratulations on completing the Newsvendor simulation. Here are your final results:"}),m.jsxs("div",{className:"kpi",style:{marginTop:16},children:[m.jsxs("div",{className:"pill success",children:["Final Rank: ",m.jsxs("span",{className:"mono font-bold",children:["#",Ae??""]})]}),m.jsxs("div",{className:"pill accent",children:["Total Profit: ",m.jsx("span",{className:"mono font-bold",children:(o.cumulativeProfit??0).toFixed(2)})]})]})]}):m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"row",style:{marginBottom:8},children:[m.jsx("h2",{style:{margin:0},children:"Weekly Bake Plan"}),m.jsxs("span",{className:"badge",children:["Week ",G+1,"/",te]})]}),m.jsx("p",{className:"small",children:"Choose one quantity that applies to every day this week (MonFri). How many croissants will you bake per day?"}),m.jsxs("div",{className:"row",style:{marginTop:10},children:[m.jsx("input",{type:"number",value:a,onChange:oe=>{const le=oe.target.value;if(l(le),le.trim()===""){g("");return}const q=Number(le);!Number.isInteger(q)||q<0?g("Order must be a non-negative integer."):g("")},min:0,step:1,style:{maxWidth:120}}),m.jsx("button",{className:"btn",disabled:u||ne!==null||!Se,onClick:()=>Fe(),children:ne!==null?"Submitted ":"Submit bake plan"}),m.jsx("span",{className:"small",children:ne!==null?`Your submitted Q: ${ne}`:Se?"":"Waiting for host to start the session."})]}),p&&m.jsx("p",{className:"small",style:{color:"#7a2d2d"},children:p}),f&&m.jsx("div",{className:"hr"}),f&&m.jsx("p",{className:"small",children:f})]}),m.jsxs("div",{className:"grid two",children:[r.status==="training"?m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Demand distribution"}),m.jsx("p",{className:"small",children:"Available once the host starts the session."})]}):m.jsx(h_e,{demands:V,meanHat:W,sigmaHat:z,totalDays:Y}),m.jsx(KEe,{session:r,player:o})]}),(r.status==="finished"||r.showLeaderboard)&&m.jsx(Y2,{rows:r.leaderboard??[]}),r.status==="finished"&&m.jsx(DF,{session:r,avgOrderPerDayOverride:r.endgameAvgOrderPerDay}),m.jsx(hp,{message:"Host nudge: please make your decision now.",show:w,tone:"alert"}),m.jsx(hp,{message:"Welcome back! Your progress has been restored.",show:y,tone:"success"}),m.jsx(hp,{message:"Bake plan submitted. Waiting for others...",show:b,tone:"success",position:"top"}),x&&m.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:m.jsxs("div",{className:"modal",children:[m.jsx("h3",{children:"Confirm outlier order"}),m.jsxs("p",{className:"small",children:["Your order (",E??"?",") is more than 4 standard deviations from the mean (",$.toFixed(2),"). Are you sure you want to submit it?"]}),m.jsxs("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:[m.jsx("button",{className:"btn secondary",disabled:u,onClick:()=>{I(!1),T(null)},children:"Revise"}),m.jsx("button",{className:"btn",disabled:u,onClick:()=>{I(!1),Fe(!0)},children:"Submit anyway"})]})]})})]})}function GEe(){const t=Wi(),[e,n]=N.useState(""),[r,i]=N.useState(""),[o,s]=N.useState(""),[a,l]=N.useState(""),[u,c]=N.useState(""),[f,d]=N.useState(!1),[p,g]=N.useState(!1),[w,v]=N.useState(null);async function y(_){var b;if(_.preventDefault(),v(null),r!==o){v({type:"danger",text:"Passwords do not match."});return}if(r.length<8){v({type:"danger",text:"Password must be at least 8 characters."});return}g(!0);try{const A=await Qe.registerInstructor({email:e.trim(),password:r,displayName:a.trim(),affiliation:u.trim()});await yD(Rn,e.trim(),r),await((b=Rn.currentUser)==null?void 0:b.getIdToken(!0)),A.data.isAdmin?(v({type:"success",text:"Admin account created! Redirecting..."}),setTimeout(()=>t("/host"),1500)):A.data.status==="pending"&&v({type:"success",text:"Application submitted! You will receive an email when your account is approved."})}catch(A){console.error(A),v({type:"danger",text:(A==null?void 0:A.message)??"Registration failed"})}finally{g(!1)}}return m.jsx("div",{style:{maxWidth:500,margin:"0 auto",padding:20},children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Apply for Instructor Access"}),m.jsx("p",{className:"text-muted",children:"Create an account to run Newsvendor Game sessions with your students."}),m.jsxs("form",{onSubmit:y,children:[m.jsx("label",{children:"Full Name"}),m.jsx("input",{type:"text",value:a,onChange:_=>l(_.target.value),placeholder:"Dr. Jane Smith",required:!0}),m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:e,onChange:_=>n(_.target.value),placeholder:"jane.smith@university.edu",required:!0}),m.jsx("label",{children:"Affiliation"}),m.jsx("input",{type:"text",value:u,onChange:_=>c(_.target.value),placeholder:"University of Example, Business School",required:!0}),m.jsx("label",{children:"Password"}),m.jsx("input",{type:"password",value:r,onChange:_=>i(_.target.value),placeholder:"At least 8 characters",required:!0,minLength:8}),m.jsx("label",{children:"Confirm Password"}),m.jsx("input",{type:"password",value:o,onChange:_=>s(_.target.value),placeholder:"Confirm your password",required:!0}),m.jsxs("div",{style:{marginTop:24,padding:"16px",background:"var(--card-bg)",borderRadius:8,border:"1px solid var(--border)"},children:[m.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:600,fontSize:"0.95rem"},children:"Terms of Use"}),m.jsxs("div",{style:{marginBottom:12,fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.5},children:[m.jsx("p",{style:{margin:"0 0 8px 0"},children:"By creating an account, I acknowledge that:"}),m.jsxs("ol",{style:{margin:0,paddingLeft:20},children:[m.jsx("li",{style:{marginBottom:6},children:"The operator of this software cannot be held liable for my use of it."}),m.jsx("li",{children:"My access may be revoked at any time at the operator's sole discretion."})]})]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",margin:0},children:[m.jsx("input",{type:"checkbox",checked:f,onChange:_=>d(_.target.checked),style:{flexShrink:0,width:18,height:18}}),m.jsx("span",{style:{fontSize:"0.9rem"},children:"I agree to these terms"})]})]}),m.jsx("div",{className:"row",style:{marginTop:20},children:m.jsx("button",{type:"submit",className:`btn${p?" loading":""}`,disabled:p||!e||!r||!a||!u||!f,children:"Submit Application"})})]}),w&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hr"}),m.jsx("p",{className:`text-${w.type}`,children:w.text})]}),m.jsx("div",{className:"hr"}),m.jsxs("p",{className:"text-center small",children:["Already have an account? ",m.jsx(Tn,{to:"/instructor/login",children:"Sign in"})]})]})})}function XEe(){const t=Wi(),{isApprovedInstructor:e}=Ah(),[n,r]=N.useState(""),[i,o]=N.useState(""),[s,a]=N.useState(!1),[l,u]=N.useState(null);N.useEffect(()=>{e&&t("/host")},[e,t]);async function c(f){var d,p;f.preventDefault(),u(null),a(!0);try{await yD(Rn,n.trim(),i),await((d=Rn.currentUser)==null?void 0:d.getIdToken(!0));const g=await Qe.checkInstructorStatus();await((p=Rn.currentUser)==null?void 0:p.getIdToken(!0));const{role:w,status:v,canAccess:y,rejectedReason:_,revokedReason:b}=g.data;w==="admin"||y?(u({type:"success",text:"Login successful! Redirecting..."}),setTimeout(()=>t("/host"),1e3)):w==="instructor"?v==="pending"?u({type:"warning",text:"Your account is pending approval. You'll receive an email when approved."}):v==="rejected"?u({type:"danger",text:`Your application was not approved.${_?` Reason: ${_}`:""}`}):v==="revoked"&&u({type:"danger",text:`Your access has been revoked.${b?` Reason: ${b}`:""}`}):u({type:"danger",text:"This account does not have instructor access. Please apply for access."})}catch(g){console.error(g),(g==null?void 0:g.code)==="auth/user-not-found"||(g==null?void 0:g.code)==="auth/wrong-password"||(g==null?void 0:g.code)==="auth/invalid-credential"?u({type:"danger",text:"Invalid email or password."}):u({type:"danger",text:(g==null?void 0:g.message)??"Login failed"})}finally{a(!1)}}return m.jsx("div",{style:{maxWidth:400,margin:"0 auto",padding:20},children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Instructor Login"}),m.jsx("p",{className:"text-muted",children:"Sign in to access your instructor dashboard."}),m.jsxs("form",{onSubmit:c,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:n,onChange:f=>r(f.target.value),placeholder:"your@email.com",required:!0}),m.jsx("label",{children:"Password"}),m.jsx("input",{type:"password",value:i,onChange:f=>o(f.target.value),placeholder:"Enter password",required:!0}),m.jsx("div",{className:"row",style:{marginTop:20},children:m.jsx("button",{type:"submit",className:`btn${s?" loading":""}`,disabled:s||!n||!i,children:"Sign In"})})]}),l&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hr"}),m.jsx("p",{className:`text-${l.type}`,children:l.text})]}),m.jsx("div",{className:"hr"}),m.jsx("p",{className:"text-center small",children:m.jsx(Tn,{to:"/instructor/forgot-password",children:"Forgot password?"})}),m.jsxs("p",{className:"text-center small",children:["Don't have an account? ",m.jsx(Tn,{to:"/instructor/register",children:"Apply for access"})]})]})})}function YEe(){const[t,e]=N.useState(""),[n,r]=N.useState(!1),[i,o]=N.useState(!1),[s,a]=N.useState(null);async function l(u){u.preventDefault(),a(null),r(!0);try{await q9(Rn,t.trim()),o(!0),a({type:"success",text:"If an account exists with this email, you will receive a password reset link."})}catch(c){console.error(c),o(!0),a({type:"success",text:"If an account exists with this email, you will receive a password reset link."})}finally{r(!1)}}return m.jsx("div",{style:{maxWidth:400,margin:"0 auto",padding:20},children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Reset Password"}),m.jsx("p",{className:"text-muted",children:"Enter your email to receive a password reset link."}),i?m.jsx("p",{className:"text-success",children:s==null?void 0:s.text}):m.jsxs("form",{onSubmit:l,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"your@email.com",required:!0}),m.jsx("div",{className:"row",style:{marginTop:20},children:m.jsx("button",{type:"submit",className:`btn${n?" loading":""}`,disabled:n||!t,children:"Send Reset Link"})})]}),m.jsx("div",{className:"hr"}),m.jsx("p",{className:"text-center small",children:m.jsx(Tn,{to:"/instructor/login",children:"Back to login"})})]})})}function QEe(){const t=Wi(),[e,n]=N.useState("pending"),[r,i]=N.useState([]),[o,s]=N.useState(0),[a,l]=N.useState({instructorCounts:{pending:0,approved:0,rejected:0,revoked:0},totalSessions:0,activeSessions:0}),[u,c]=N.useState(!0),[f,d]=N.useState(null),[p,g]=N.useState("all"),[w,v]=N.useState("");async function y(){c(!0);try{const[P,C]=await Promise.all([Qe.getInstructorUsageStats(),e==="pending"?Qe.listPendingInstructors():Qe.listAllInstructors({status:p==="all"?void 0:p})]);s(P.data.instructorCounts.pending),l(P.data),i(C.data.instructors)}catch(P){console.error("Failed to load admin data:",P)}finally{c(!1)}}N.useEffect(()=>{y()},[e,p]);async function _(P){if(confirm("Approve this instructor?")){d(P);try{await Qe.approveInstructor({uid:P}),await y()}catch(C){alert((C==null?void 0:C.message)??"Failed to approve")}finally{d(null)}}}async function b(P){const C=prompt("Rejection reason (optional):");if(C!==null){d(P);try{await Qe.rejectInstructor({uid:P,reason:C||void 0}),await y()}catch(k){alert((k==null?void 0:k.message)??"Failed to reject")}finally{d(null)}}}async function A(P){const C=prompt("Revocation reason (optional):");if(C!==null&&confirm("This will end all their active sessions. Continue?")){d(P);try{const k=await Qe.revokeInstructorAccess({uid:P,reason:C||void 0});alert(`Access revoked. ${k.data.sessionsEnded} sessions ended.`),await y()}catch(k){alert((k==null?void 0:k.message)??"Failed to revoke")}finally{d(null)}}}function x(P){return P?new Date(P).toLocaleDateString():"-"}function I(P){const C={pending:"warning",approved:"success",rejected:"danger",revoked:"danger"};return m.jsx("span",{className:`badge ${C[P]}`,children:P})}const E=w.trim().toLowerCase(),T=r.filter(P=>E?[P.displayName,P.email,P.affiliation].filter(Boolean).some(C=>C.toLowerCase().includes(E)):!0);return m.jsxs("div",{className:"admin-dashboard",children:[m.jsxs("div",{className:"admin-hero",children:[m.jsxs("div",{children:[m.jsx("p",{className:"admin-eyebrow",children:"Instructor Access"}),m.jsx("h2",{children:"Admin Dashboard"}),m.jsx("p",{className:"admin-subtitle",children:"Review applications, manage approvals, and keep sessions secure."})]}),m.jsx("div",{className:"admin-hero-actions",children:m.jsx(Tn,{to:"/host",className:"btn outline small",children:"Back to Sessions"})})]}),m.jsxs("div",{className:"admin-stats",children:[m.jsxs("div",{className:"card admin-stat",children:[m.jsx("p",{className:"admin-stat-label",children:"Pending"}),m.jsx("p",{className:"admin-stat-value",children:a.instructorCounts.pending})]}),m.jsxs("div",{className:"card admin-stat",children:[m.jsx("p",{className:"admin-stat-label",children:"Approved"}),m.jsx("p",{className:"admin-stat-value text-success",children:a.instructorCounts.approved})]}),m.jsxs("div",{className:"card admin-stat",children:[m.jsx("p",{className:"admin-stat-label",children:"Rejected"}),m.jsx("p",{className:"admin-stat-value text-danger",children:a.instructorCounts.rejected})]}),m.jsxs("div",{className:"card admin-stat",children:[m.jsx("p",{className:"admin-stat-label",children:"Revoked"}),m.jsx("p",{className:"admin-stat-value text-danger",children:a.instructorCounts.revoked})]}),m.jsxs("div",{className:"card admin-stat",children:[m.jsx("p",{className:"admin-stat-label",children:"Sessions"}),m.jsxs("p",{className:"admin-stat-value",children:[a.activeSessions," / ",a.totalSessions]})]})]}),m.jsxs("div",{className:"card admin-panel",children:[m.jsxs("div",{className:"admin-toolbar",children:[m.jsxs("div",{className:"admin-tabs",children:[m.jsxs("button",{className:`btn small ${e==="pending"?"secondary":"outline"}`,onClick:()=>n("pending"),children:["Pending ",o>0&&`(${o})`]}),m.jsx("button",{className:`btn small ${e==="all"?"secondary":"outline"}`,onClick:()=>n("all"),children:"All Instructors"})]}),m.jsxs("div",{className:"admin-toolbar-right",children:[e==="all"&&m.jsxs("select",{value:p,onChange:P=>g(P.target.value),children:[m.jsx("option",{value:"all",children:"All Statuses"}),m.jsx("option",{value:"approved",children:"Approved"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"rejected",children:"Rejected"}),m.jsx("option",{value:"revoked",children:"Revoked"})]}),m.jsx("input",{className:"admin-search",value:w,onChange:P=>v(P.target.value),placeholder:"Search instructors"})]})]}),u?m.jsxs("div",{className:"admin-loading",children:[m.jsx("div",{className:"admin-skeleton"}),m.jsx("div",{className:"admin-skeleton"}),m.jsx("div",{className:"admin-skeleton"})]}):T.length===0?m.jsxs("div",{className:"admin-empty",children:[m.jsx("h3",{children:"No instructors found"}),m.jsx("p",{className:"text-muted",children:"Try adjusting the filters or clearing the search."})]}):m.jsx("div",{className:"table-wrap",children:m.jsxs("table",{className:"admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Instructor"}),m.jsx("th",{className:"admin-col-email",children:"Email"}),m.jsx("th",{className:"admin-col-status",children:"Status"}),m.jsx("th",{className:"admin-col-sessions",children:"Sessions"}),m.jsx("th",{className:"admin-col-applied",children:"Applied"}),m.jsx("th",{className:"admin-col-actions",children:"Actions"})]})}),m.jsx("tbody",{children:T.map(P=>m.jsxs("tr",{className:`admin-row ${P.status==="pending"?"is-pending":""}`,onClick:()=>t(`/admin/instructors/${P.uid}`),children:[m.jsxs("td",{children:[m.jsx("div",{className:"admin-name",children:P.displayName}),m.jsx("div",{className:"admin-subtext",children:P.affiliation||"Independent instructor"})]}),m.jsx("td",{className:"admin-col-email",children:P.email}),m.jsx("td",{className:"admin-col-status",children:I(P.status)}),m.jsxs("td",{className:"admin-col-sessions",children:[m.jsxs("span",{className:"mono",children:[P.sessionsCreated," / ",P.activeSessions]})," ","active"]}),m.jsx("td",{className:"admin-col-applied",children:x(P.appliedAt)}),m.jsxs("td",{className:"admin-col-actions",onClick:C=>C.stopPropagation(),children:[P.status==="pending"&&m.jsxs("div",{className:"admin-actions",children:[m.jsx("button",{className:"btn small success",onClick:()=>_(P.uid),disabled:f===P.uid,children:"Approve"}),m.jsx("button",{className:"btn small danger",onClick:()=>b(P.uid),disabled:f===P.uid,children:"Reject"})]}),P.status==="approved"&&m.jsx("button",{className:"btn small outline",onClick:()=>A(P.uid),disabled:f===P.uid,children:"Revoke"})]})]},P.uid))})]})})]})]})}function JEe(){const{uid:t}=Cg(),e=Wi(),[n,r]=N.useState(null),[i,o]=N.useState([]),[s,a]=N.useState(!0),[l,u]=N.useState(!1);async function c(){if(t){a(!0);try{const y=await Qe.getInstructorDetail({uid:t});r(y.data.instructor),o(y.data.sessions)}catch(y){console.error("Failed to load instructor:",y),alert((y==null?void 0:y.message)??"Failed to load instructor"),e("/admin")}finally{a(!1)}}}N.useEffect(()=>{c()},[t]);async function f(){if(!(!t||!confirm("Approve this instructor?"))){u(!0);try{await Qe.approveInstructor({uid:t}),await c()}catch(y){alert((y==null?void 0:y.message)??"Failed to approve")}finally{u(!1)}}}async function d(){if(!t)return;const y=prompt("Rejection reason (optional):");if(y!==null){u(!0);try{await Qe.rejectInstructor({uid:t,reason:y||void 0}),await c()}catch(_){alert((_==null?void 0:_.message)??"Failed to reject")}finally{u(!1)}}}async function p(){if(!t)return;const y=prompt("Revocation reason (optional):");if(y!==null&&confirm("This will end all their active sessions. Continue?")){u(!0);try{const _=await Qe.revokeInstructorAccess({uid:t,reason:y||void 0});alert(`Access revoked. ${_.data.sessionsEnded} sessions ended.`),await c()}catch(_){alert((_==null?void 0:_.message)??"Failed to revoke")}finally{u(!1)}}}function g(y){return y?new Date(y).toLocaleString():"-"}function w(y){const _={pending:"warning",approved:"success",rejected:"danger",revoked:"danger"};return m.jsx("span",{className:`badge ${_[y]}`,children:y})}function v(y){const _={training:"warning",ordering:"success",revealing:"success",finished:"",lobby:"warning"};return m.jsx("span",{className:`badge ${_[y]||""}`,children:y})}return s?m.jsx("div",{style:{padding:20},children:m.jsx("p",{children:"Loading..."})}):n?m.jsxs("div",{style:{padding:20},children:[m.jsxs("div",{className:"row",style:{marginBottom:20},children:[m.jsx("h1",{style:{margin:0},children:n.displayName}),m.jsx(Tn,{to:"/admin",className:"btn outline small",children:"Back to Dashboard"})]}),m.jsxs("div",{className:"grid two",style:{marginBottom:20},children:[m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"Instructor Details"}),m.jsx("table",{style:{width:"100%"},children:m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Email"})}),m.jsx("td",{style:{padding:"8px 0"},children:n.email})]}),m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Affiliation"})}),m.jsx("td",{style:{padding:"8px 0"},children:n.affiliation})]}),m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Status"})}),m.jsx("td",{style:{padding:"8px 0"},children:w(n.status)})]}),m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Applied"})}),m.jsx("td",{style:{padding:"8px 0"},children:g(n.appliedAt)})]}),n.approvedAt&&m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Approved"})}),m.jsx("td",{style:{padding:"8px 0"},children:g(n.approvedAt)})]}),n.rejectedAt&&m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Rejected"})}),m.jsx("td",{style:{padding:"8px 0"},children:g(n.rejectedAt)})]}),n.rejectedReason&&m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Rejection Reason"})}),m.jsx("td",{style:{padding:"8px 0"},children:n.rejectedReason})]}),n.revokedAt&&m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Revoked"})}),m.jsx("td",{style:{padding:"8px 0"},children:g(n.revokedAt)})]}),n.revokedReason&&m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Revocation Reason"})}),m.jsx("td",{style:{padding:"8px 0"},children:n.revokedReason})]}),m.jsxs("tr",{children:[m.jsx("td",{style:{padding:"8px 0"},children:m.jsx("strong",{children:"Last Login"})}),m.jsx("td",{style:{padding:"8px 0"},children:g(n.lastLoginAt)})]})]})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"Usage Statistics"}),m.jsxs("div",{className:"grid two",style:{marginBottom:20},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:n.sessionsCreated}),m.jsx("div",{className:"text-muted small",children:"Sessions Created"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:n.activeSessions}),m.jsx("div",{className:"text-muted small",children:"Active Sessions"})]})]}),m.jsx("h4",{children:"Actions"}),m.jsxs("div",{className:"row",style:{gap:8,flexWrap:"wrap"},children:[n.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn success",onClick:f,disabled:l,children:"Approve"}),m.jsx("button",{className:"btn danger",onClick:d,disabled:l,children:"Reject"})]}),n.status==="approved"&&m.jsx("button",{className:"btn danger outline",onClick:p,disabled:l,children:"Revoke Access"})]})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("h3",{children:["Sessions (",i.length,")"]}),i.length===0?m.jsx("p",{className:"text-muted",children:"No sessions created yet."}):m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[m.jsx("th",{style:{textAlign:"left",padding:8},children:"Code"}),m.jsx("th",{style:{textAlign:"center",padding:8},children:"Status"}),m.jsx("th",{style:{textAlign:"center",padding:8},children:"Players"}),m.jsx("th",{style:{textAlign:"center",padding:8},children:"Created"})]})}),m.jsx("tbody",{children:i.map(y=>m.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[m.jsx("td",{style:{padding:8,fontFamily:"var(--mono)"},children:y.code}),m.jsx("td",{style:{padding:8,textAlign:"center"},children:v(y.status)}),m.jsx("td",{style:{padding:8,textAlign:"center"},children:y.playersCount}),m.jsx("td",{style:{padding:8,textAlign:"center"},children:g(y.createdAt)})]},y.sessionId))})]})]})]}):m.jsxs("div",{style:{padding:20},children:[m.jsx("p",{children:"Instructor not found."}),m.jsx(Tn,{to:"/admin",children:"Back to Admin Dashboard"})]})}function ZEe(){N.useEffect(()=>{G9(Rn,oS).catch(e=>{console.error("Failed to set auth persistence",e)});const t=Y9(Rn,async e=>{if(!e)try{await U9(Rn)}catch(n){console.error("Anonymous sign-in failed",n)}});return()=>t()},[])}function eTe(){return ZEe(),m.jsxs("div",{className:"container",children:[m.jsx(Lq,{}),m.jsxs(r5,{children:[m.jsx(ir,{path:"/",element:m.jsx(Fq,{})}),m.jsx(ir,{path:"/instructor/register",element:m.jsx(GEe,{})}),m.jsx(ir,{path:"/instructor/login",element:m.jsx(XEe,{})}),m.jsx(ir,{path:"/instructor/forgot-password",element:m.jsx(YEe,{})}),m.jsx(ir,{path:"/host",element:m.jsx(xd,{requireInstructor:!0,children:m.jsx(Bq,{})})}),m.jsx(ir,{path:"/host/session/:sessionId",element:m.jsx(xd,{requireInstructor:!0,children:m.jsx(c_e,{})})}),m.jsx(ir,{path:"/admin",element:m.jsx(xd,{requireAdmin:!0,children:m.jsx(QEe,{})})}),m.jsx(ir,{path:"/admin/instructors/:uid",element:m.jsx(xd,{requireAdmin:!0,children:m.jsx(JEe,{})})}),m.jsx(ir,{path:"/s/:code",element:m.jsx(f_e,{})}),m.jsx(ir,{path:"/play/:sessionId",element:m.jsx(qEe,{})}),m.jsx(ir,{path:"*",element:m.jsx(Zd,{to:"/",replace:!0})})]})]})}M0.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(c5,{children:m.jsx(Dq,{children:m.jsx(eTe,{})})})}));
