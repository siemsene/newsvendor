function SU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eM={exports:{}},Zm={},tM={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.element"),TU=Symbol.for("react.portal"),EU=Symbol.for("react.fragment"),AU=Symbol.for("react.strict_mode"),PU=Symbol.for("react.profiler"),OU=Symbol.for("react.provider"),IU=Symbol.for("react.context"),CU=Symbol.for("react.forward_ref"),kU=Symbol.for("react.suspense"),RU=Symbol.for("react.memo"),MU=Symbol.for("react.lazy"),cA=Symbol.iterator;function NU(t){return t===null||typeof t!="object"?null:(t=cA&&t[cA]||t["@@iterator"],typeof t=="function"?t:null)}var nM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rM=Object.assign,iM={};function Gl(t,e,n){this.props=t,this.context=e,this.refs=iM,this.updater=n||nM}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oM(){}oM.prototype=Gl.prototype;function Vb(t,e,n){this.props=t,this.context=e,this.refs=iM,this.updater=n||nM}var Fb=Vb.prototype=new oM;Fb.constructor=Vb;rM(Fb,Gl.prototype);Fb.isPureReactComponent=!0;var fA=Array.isArray,aM=Object.prototype.hasOwnProperty,Bb={current:null},sM={key:!0,ref:!0,__self:!0,__source:!0};function lM(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)aM.call(e,r)&&!sM.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Zf,type:t,key:o,ref:a,props:i,_owner:Bb.current}}function DU(t,e){return{$$typeof:Zf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ub(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zf}function jU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hA=/\/+/g;function Yy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jU(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zf:case TU:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Yy(a,0):r,fA(i)?(n="",t!=null&&(n=t.replace(hA,"$&/")+"/"),Cd(i,e,n,"",function(u){return u})):i!=null&&(Ub(i)&&(i=DU(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",fA(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Yy(o,s);a+=Cd(o,e,n,l,i)}else if(l=NU(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Yy(o,s++),a+=Cd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wh(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $U(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},kd={transition:null},LU={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:kd,ReactCurrentOwner:Bb};function uM(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Wh,forEach:function(t,e,n){Wh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wh(t,function(){e++}),e},toArray:function(t){return Wh(t,function(e){return e})||[]},only:function(t){if(!Ub(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Gl;Ae.Fragment=EU;Ae.Profiler=PU;Ae.PureComponent=Vb;Ae.StrictMode=AU;Ae.Suspense=kU;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LU;Ae.act=uM;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rM({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Bb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)aM.call(e,l)&&!sM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Zf,type:t.type,key:i,ref:o,props:r,_owner:a}};Ae.createContext=function(t){return t={$$typeof:IU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OU,_context:t},t.Consumer=t};Ae.createElement=lM;Ae.createFactory=function(t){var e=lM.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:CU,render:t}};Ae.isValidElement=Ub;Ae.lazy=function(t){return{$$typeof:MU,_payload:{_status:-1,_result:t},_init:$U}};Ae.memo=function(t,e){return{$$typeof:RU,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=kd.transition;kd.transition={};try{t()}finally{kd.transition=e}};Ae.unstable_act=uM;Ae.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ae.useContext=function(t){return Sn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ae.useId=function(){return Sn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ae.useRef=function(t){return Sn.current.useRef(t)};Ae.useState=function(t){return Sn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Sn.current.useTransition()};Ae.version="18.3.1";tM.exports=Ae;var D=tM.exports;const j=Ke(D),VU=SU({__proto__:null,default:j},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU=D,BU=Symbol.for("react.element"),UU=Symbol.for("react.fragment"),zU=Object.prototype.hasOwnProperty,WU=FU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HU={key:!0,ref:!0,__self:!0,__source:!0};function cM(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)zU.call(e,r)&&!HU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BU,type:t,key:o,ref:a,props:i,_owner:WU.current}}Zm.Fragment=UU;Zm.jsx=cM;Zm.jsxs=cM;eM.exports=Zm;var I=eM.exports,S0={},fM={exports:{}},Gn={},hM={exports:{}},dM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var q=$.length;$.push(B);e:for(;0<q;){var re=q-1>>>1,Y=$[re];if(0<i(Y,B))$[re]=B,$[q]=Y,q=re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],q=$.pop();if(q!==B){$[0]=q;e:for(var re=0,Y=$.length,ie=Y>>>1;re<ie;){var Te=2*(re+1)-1,Ie=$[Te],Ue=Te+1,xe=$[Ue];if(0>i(Ie,q))Ue<Y&&0>i(xe,Ie)?($[re]=xe,$[Ue]=q,re=Ue):($[re]=Ie,$[Te]=q,re=Te);else if(Ue<Y&&0>i(xe,q))$[re]=xe,$[Ue]=q,re=Ue;else break e}}return B}function i($,B){var q=$.sortIndex-B.sortIndex;return q!==0?q:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=$)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function A($){if(v=!1,w($),!g)if(n(l)!==null)g=!0,W(x);else{var B=n(u);B!==null&&U(A,B.startTime-$)}}function x($,B){g=!1,v&&(v=!1,y(T),T=-1),p=!0;var q=d;try{for(w(B),f=n(l);f!==null&&(!(f.expirationTime>B)||$&&!k());){var re=f.callback;if(typeof re=="function"){f.callback=null,d=f.priorityLevel;var Y=re(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(B)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Te=n(u);Te!==null&&U(A,Te.startTime-B),ie=!1}return ie}finally{f=null,d=q,p=!1}}var E=!1,S=null,T=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function M(){if(S!==null){var $=t.unstable_now();C=$;var B=!0;try{B=S(!0,$)}finally{B?R():(E=!1,S=null)}}else E=!1}var R;if(typeof _=="function")R=function(){_(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=M,R=function(){F.postMessage(null)}}else R=function(){m(M,0)};function W($){S=$,E||(E=!0,R())}function U($,B){T=m(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var q=d;d=B;try{return $()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=d;d=$;try{return B()}finally{d=q}},t.unstable_scheduleCallback=function($,B,q){var re=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?re+q:re):q=re,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,$={id:c++,callback:B,priorityLevel:$,startTime:q,expirationTime:Y,sortIndex:-1},q>re?($.sortIndex=q,e(u,$),n(l)===null&&$===n(u)&&(v?(y(T),T=-1):v=!0,U(A,q-re))):($.sortIndex=Y,e(l,$),g||p||(g=!0,W(x))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var B=d;return function(){var q=d;d=B;try{return $.apply(this,arguments)}finally{d=q}}}})(dM);hM.exports=dM;var KU=hM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qU=D,Kn=KU;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pM=new Set,Lc={};function Ha(t,e){rl(t,e),rl(t+"Capture",e)}function rl(t,e){for(Lc[t]=e,t=0;t<e.length;t++)pM.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=Object.prototype.hasOwnProperty,GU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dA={},pA={};function XU(t){return T0.call(pA,t)?!0:T0.call(dA,t)?!1:GU.test(t)?pA[t]=!0:(dA[t]=!0,!1)}function YU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QU(t,e,n,r){if(e===null||typeof e>"u"||YU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zb=/[\-:]([a-z])/g;function Wb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zb,Wb);Zt[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zb,Wb);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zb,Wb);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hb(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QU(e,n,i,r)&&(n=null),r||i===null?XU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Li=qU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hh=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),mM=Symbol.for("react.provider"),gM=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),Yi=Symbol.for("react.lazy"),yM=Symbol.for("react.offscreen"),mA=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=mA&&t[mA]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Qy;function ec(t){if(Qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qy=e&&e[1]||""}return`
`+Qy+t}var Jy=!1;function Zy(t,e){if(!t||Jy)return"";Jy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Jy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function JU(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=Zy(t.type,!1),t;case 11:return t=Zy(t.type.render,!1),t;case 1:return t=Zy(t.type,!0),t;default:return""}}function O0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case E0:return"Profiler";case Kb:return"StrictMode";case A0:return"Suspense";case P0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gM:return(t.displayName||"Context")+".Consumer";case mM:return(t._context.displayName||"Context")+".Provider";case qb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gb:return e=t.displayName||null,e!==null?e:O0(t.type)||"Memo";case Yi:e=t._payload,t=t._init;try{return O0(t(e))}catch{}}return null}function ZU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e4(t){var e=vM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=e4(t))}function _M(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ep(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I0(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wM(t,e){e=e.checked,e!=null&&Hb(t,"checked",e,!1)}function C0(t,e){wM(t,e);var n=Oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?k0(t,e.type,n):e.hasOwnProperty("defaultValue")&&k0(t,e.type,Oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function k0(t,e,n){(e!=="number"||ep(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function Ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(tc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oo(n)}}function bM(t,e){var n=Oo(e.value),r=Oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _A(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qh,SM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qh=qh||document.createElement("div"),qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t4=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){t4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function TM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function EM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n4=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(t,e){if(e){if(n4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function Xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $0=null,Vs=null,Fs=null;function wA(t){if(t=nh(t)){if(typeof $0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ig(e),$0(t.stateNode,t.type,e))}}function AM(t){Vs?Fs?Fs.push(t):Fs=[t]:Vs=t}function PM(){if(Vs){var t=Vs,e=Fs;if(Fs=Vs=null,wA(t),e)for(t=0;t<e.length;t++)wA(e[t])}}function OM(t,e){return t(e)}function IM(){}var ev=!1;function CM(t,e,n){if(ev)return t(e,n);ev=!0;try{return OM(t,e,n)}finally{ev=!1,(Vs!==null||Fs!==null)&&(IM(),PM())}}function Fc(t,e){var n=t.stateNode;if(n===null)return null;var r=ig(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var L0=!1;if(Ei)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){L0=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{L0=!1}function r4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var dc=!1,tp=null,np=!1,V0=null,i4={onError:function(t){dc=!0,tp=t}};function o4(t,e,n,r,i,o,a,s,l){dc=!1,tp=null,r4.apply(i4,arguments)}function a4(t,e,n,r,i,o,a,s,l){if(o4.apply(this,arguments),dc){if(dc){var u=tp;dc=!1,tp=null}else throw Error(J(198));np||(np=!0,V0=u)}}function Ka(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bA(t){if(Ka(t)!==t)throw Error(J(188))}function s4(t){var e=t.alternate;if(!e){if(e=Ka(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bA(i),t;if(o===r)return bA(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function RM(t){return t=s4(t),t!==null?MM(t):null}function MM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MM(t);if(e!==null)return e;t=t.sibling}return null}var NM=Kn.unstable_scheduleCallback,xA=Kn.unstable_cancelCallback,l4=Kn.unstable_shouldYield,u4=Kn.unstable_requestPaint,vt=Kn.unstable_now,c4=Kn.unstable_getCurrentPriorityLevel,Yb=Kn.unstable_ImmediatePriority,DM=Kn.unstable_UserBlockingPriority,rp=Kn.unstable_NormalPriority,f4=Kn.unstable_LowPriority,jM=Kn.unstable_IdlePriority,eg=null,Fr=null;function h4(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(eg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:m4,d4=Math.log,p4=Math.LN2;function m4(t){return t>>>=0,t===0?32:31-(d4(t)/p4|0)|0}var Gh=64,Xh=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ip(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=nc(s):(o&=a,o!==0&&(r=nc(o)))}else a=n&~i,a!==0?r=nc(a):o!==0&&(r=nc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function g4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ir(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=g4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function F0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $M(){var t=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),t}function tv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function v4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function LM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VM,Jb,FM,BM,UM,B0=!1,Yh=[],po=null,mo=null,go=null,Bc=new Map,Uc=new Map,Zi=[],_4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SA(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(e.pointerId)}}function ju(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=nh(e),e!==null&&Jb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w4(t,e,n,r,i){switch(e){case"focusin":return po=ju(po,t,e,n,r,i),!0;case"dragenter":return mo=ju(mo,t,e,n,r,i),!0;case"mouseover":return go=ju(go,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bc.set(o,ju(Bc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uc.set(o,ju(Uc.get(o)||null,t,e,n,r,i)),!0}return!1}function zM(t){var e=ca(t.target);if(e!==null){var n=Ka(e);if(n!==null){if(e=n.tag,e===13){if(e=kM(n),e!==null){t.blockedOn=e,UM(t.priority,function(){FM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=U0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);j0=r,n.target.dispatchEvent(r),j0=null}else return e=nh(n),e!==null&&Jb(e),t.blockedOn=n,!1;e.shift()}return!0}function TA(t,e,n){Rd(t)&&n.delete(e)}function b4(){B0=!1,po!==null&&Rd(po)&&(po=null),mo!==null&&Rd(mo)&&(mo=null),go!==null&&Rd(go)&&(go=null),Bc.forEach(TA),Uc.forEach(TA)}function $u(t,e){t.blockedOn===e&&(t.blockedOn=null,B0||(B0=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,b4)))}function zc(t){function e(i){return $u(i,t)}if(0<Yh.length){$u(Yh[0],t);for(var n=1;n<Yh.length;n++){var r=Yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&$u(po,t),mo!==null&&$u(mo,t),go!==null&&$u(go,t),Bc.forEach(e),Uc.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)zM(n),n.blockedOn===null&&Zi.shift()}var Bs=Li.ReactCurrentBatchConfig,op=!0;function x4(t,e,n,r){var i=Ve,o=Bs.transition;Bs.transition=null;try{Ve=1,Zb(t,e,n,r)}finally{Ve=i,Bs.transition=o}}function S4(t,e,n,r){var i=Ve,o=Bs.transition;Bs.transition=null;try{Ve=4,Zb(t,e,n,r)}finally{Ve=i,Bs.transition=o}}function Zb(t,e,n,r){if(op){var i=U0(t,e,n,r);if(i===null)fv(t,e,r,ap,n),SA(t,r);else if(w4(i,t,e,n,r))r.stopPropagation();else if(SA(t,r),e&4&&-1<_4.indexOf(t)){for(;i!==null;){var o=nh(i);if(o!==null&&VM(o),o=U0(t,e,n,r),o===null&&fv(t,e,r,ap,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fv(t,e,r,null,n)}}var ap=null;function U0(t,e,n,r){if(ap=null,t=Xb(r),t=ca(t),t!==null)if(e=Ka(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ap=t,null}function WM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c4()){case Yb:return 1;case DM:return 4;case rp:case f4:return 16;case jM:return 536870912;default:return 16}default:return 16}}var ao=null,ex=null,Md=null;function HM(){if(Md)return Md;var t,e=ex,n=e.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Md=i.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qh(){return!0}function EA(){return!1}function Xn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qh:EA,this.isPropagationStopped=EA,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qh)},persist:function(){},isPersistent:Qh}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tx=Xn(Xl),th=lt({},Xl,{view:0,detail:0}),T4=Xn(th),nv,rv,Lu,tg=lt({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lu&&(Lu&&t.type==="mousemove"?(nv=t.screenX-Lu.screenX,rv=t.screenY-Lu.screenY):rv=nv=0,Lu=t),nv)},movementY:function(t){return"movementY"in t?t.movementY:rv}}),AA=Xn(tg),E4=lt({},tg,{dataTransfer:0}),A4=Xn(E4),P4=lt({},th,{relatedTarget:0}),iv=Xn(P4),O4=lt({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),I4=Xn(O4),C4=lt({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k4=Xn(C4),R4=lt({},Xl,{data:0}),PA=Xn(R4),M4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D4[t])?!!e[t]:!1}function nx(){return j4}var $4=lt({},th,{key:function(t){if(t.key){var e=M4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nx,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L4=Xn($4),V4=lt({},tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OA=Xn(V4),F4=lt({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nx}),B4=Xn(F4),U4=lt({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z4=Xn(U4),W4=lt({},tg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H4=Xn(W4),K4=[9,13,27,32],rx=Ei&&"CompositionEvent"in window,pc=null;Ei&&"documentMode"in document&&(pc=document.documentMode);var q4=Ei&&"TextEvent"in window&&!pc,KM=Ei&&(!rx||pc&&8<pc&&11>=pc),IA=" ",CA=!1;function qM(t,e){switch(t){case"keyup":return K4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function G4(t,e){switch(t){case"compositionend":return GM(e);case"keypress":return e.which!==32?null:(CA=!0,IA);case"textInput":return t=e.data,t===IA&&CA?null:t;default:return null}}function X4(t,e){if(_s)return t==="compositionend"||!rx&&qM(t,e)?(t=HM(),Md=ex=ao=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KM&&e.locale!=="ko"?null:e.data;default:return null}}var Y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y4[t.type]:e==="textarea"}function XM(t,e,n,r){AM(r),e=sp(e,"onChange"),0<e.length&&(n=new tx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mc=null,Wc=null;function Q4(t){aN(t,0)}function ng(t){var e=xs(t);if(_M(e))return t}function J4(t,e){if(t==="change")return e}var YM=!1;if(Ei){var ov;if(Ei){var av="oninput"in document;if(!av){var RA=document.createElement("div");RA.setAttribute("oninput","return;"),av=typeof RA.oninput=="function"}ov=av}else ov=!1;YM=ov&&(!document.documentMode||9<document.documentMode)}function MA(){mc&&(mc.detachEvent("onpropertychange",QM),Wc=mc=null)}function QM(t){if(t.propertyName==="value"&&ng(Wc)){var e=[];XM(e,Wc,t,Xb(t)),CM(Q4,e)}}function Z4(t,e,n){t==="focusin"?(MA(),mc=e,Wc=n,mc.attachEvent("onpropertychange",QM)):t==="focusout"&&MA()}function e3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ng(Wc)}function t3(t,e){if(t==="click")return ng(e)}function n3(t,e){if(t==="input"||t==="change")return ng(e)}function r3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:r3;function Hc(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!T0.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function NA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DA(t,e){var n=NA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NA(n)}}function JM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZM(){for(var t=window,e=ep();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ep(t.document)}return e}function ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i3(t){var e=ZM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JM(n.ownerDocument.documentElement,n)){if(r!==null&&ix(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=DA(n,o);var a=DA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o3=Ei&&"documentMode"in document&&11>=document.documentMode,ws=null,z0=null,gc=null,W0=!1;function jA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W0||ws==null||ws!==ep(r)||(r=ws,"selectionStart"in r&&ix(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Hc(gc,r)||(gc=r,r=sp(z0,"onSelect"),0<r.length&&(e=new tx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ws)))}function Jh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:Jh("Animation","AnimationEnd"),animationiteration:Jh("Animation","AnimationIteration"),animationstart:Jh("Animation","AnimationStart"),transitionend:Jh("Transition","TransitionEnd")},sv={},eN={};Ei&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function rg(t){if(sv[t])return sv[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eN)return sv[t]=e[n];return t}var tN=rg("animationend"),nN=rg("animationiteration"),rN=rg("animationstart"),iN=rg("transitionend"),oN=new Map,$A="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){oN.set(t,e),Ha(e,[t])}for(var lv=0;lv<$A.length;lv++){var uv=$A[lv],a3=uv.toLowerCase(),s3=uv[0].toUpperCase()+uv.slice(1);$o(a3,"on"+s3)}$o(tN,"onAnimationEnd");$o(nN,"onAnimationIteration");$o(rN,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(iN,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function LA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a4(r,e,void 0,t),t.currentTarget=null}function aN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;LA(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;LA(i,s,u),o=l}}}if(np)throw t=V0,np=!1,V0=null,t}function Ye(t,e){var n=e[X0];n===void 0&&(n=e[X0]=new Set);var r=t+"__bubble";n.has(r)||(sN(e,t,2,!1),n.add(r))}function cv(t,e,n){var r=0;e&&(r|=4),sN(n,t,r,e)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[Zh]){t[Zh]=!0,pM.forEach(function(n){n!=="selectionchange"&&(l3.has(n)||cv(n,!1,t),cv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zh]||(e[Zh]=!0,cv("selectionchange",!1,e))}}function sN(t,e,n,r){switch(WM(e)){case 1:var i=x4;break;case 4:i=S4;break;default:i=Zb}n=i.bind(null,e,n,t),i=void 0,!L0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ca(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}CM(function(){var u=o,c=Xb(n),f=[];e:{var d=oN.get(t);if(d!==void 0){var p=tx,g=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":p=L4;break;case"focusin":g="focus",p=iv;break;case"focusout":g="blur",p=iv;break;case"beforeblur":case"afterblur":p=iv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=AA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=A4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B4;break;case tN:case nN:case rN:p=I4;break;case iN:p=z4;break;case"scroll":p=T4;break;case"wheel":p=H4;break;case"copy":case"cut":case"paste":p=k4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OA}var v=(e&4)!==0,m=!v&&t==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var _=u,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,y!==null&&(A=Fc(_,y),A!=null&&v.push(qc(_,A,w)))),m)break;_=_.return}0<v.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==j0&&(g=n.relatedTarget||n.fromElement)&&(ca(g)||g[Ai]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ca(g):null,g!==null&&(m=Ka(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=AA,A="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=OA,A="onPointerLeave",y="onPointerEnter",_="pointer"),m=p==null?d:xs(p),w=g==null?d:xs(g),d=new v(A,_+"leave",p,n,c),d.target=m,d.relatedTarget=w,A=null,ca(c)===u&&(v=new v(y,_+"enter",g,n,c),v.target=w,v.relatedTarget=m,A=v),m=A,p&&g)t:{for(v=p,y=g,_=0,w=v;w;w=ls(w))_++;for(w=0,A=y;A;A=ls(A))w++;for(;0<_-w;)v=ls(v),_--;for(;0<w-_;)y=ls(y),w--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=ls(v),y=ls(y)}v=null}else v=null;p!==null&&VA(f,d,p,v,!1),g!==null&&m!==null&&VA(f,m,g,v,!0)}}e:{if(d=u?xs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=J4;else if(kA(d))if(YM)x=n3;else{x=e3;var E=Z4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=t3);if(x&&(x=x(t,u))){XM(f,x,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&k0(d,"number",d.value)}switch(E=u?xs(u):window,t){case"focusin":(kA(E)||E.contentEditable==="true")&&(ws=E,z0=u,gc=null);break;case"focusout":gc=z0=ws=null;break;case"mousedown":W0=!0;break;case"contextmenu":case"mouseup":case"dragend":W0=!1,jA(f,n,c);break;case"selectionchange":if(o3)break;case"keydown":case"keyup":jA(f,n,c)}var S;if(rx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _s?qM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(KM&&n.locale!=="ko"&&(_s||T!=="onCompositionStart"?T==="onCompositionEnd"&&_s&&(S=HM()):(ao=c,ex="value"in ao?ao.value:ao.textContent,_s=!0)),E=sp(u,T),0<E.length&&(T=new PA(T,t,null,n,c),f.push({event:T,listeners:E}),S?T.data=S:(S=GM(n),S!==null&&(T.data=S)))),(S=q4?G4(t,n):X4(t,n))&&(u=sp(u,"onBeforeInput"),0<u.length&&(c=new PA("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}aN(f,e)})}function qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fc(t,n),o!=null&&r.unshift(qc(t,o,i)),o=Fc(t,e),o!=null&&r.push(qc(t,o,i))),t=t.return}return r}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VA(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Fc(n,o),l!=null&&a.unshift(qc(n,l,s))):i||(l=Fc(n,o),l!=null&&a.push(qc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var u3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function FA(t){return(typeof t=="string"?t:""+t).replace(u3,`
`).replace(c3,"")}function ed(t,e,n){if(e=FA(e),FA(t)!==e&&n)throw Error(J(425))}function lp(){}var H0=null,K0=null;function q0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,f3=typeof clearTimeout=="function"?clearTimeout:void 0,BA=typeof Promise=="function"?Promise:void 0,h3=typeof queueMicrotask=="function"?queueMicrotask:typeof BA<"u"?function(t){return BA.resolve(null).then(t).catch(d3)}:G0;function d3(t){setTimeout(function(){throw t})}function hv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zc(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),$r="__reactFiber$"+Yl,Gc="__reactProps$"+Yl,Ai="__reactContainer$"+Yl,X0="__reactEvents$"+Yl,p3="__reactListeners$"+Yl,m3="__reactHandles$"+Yl;function ca(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UA(t);t!==null;){if(n=t[$r])return n;t=UA(t)}return e}t=n,n=t.parentNode}return null}function nh(t){return t=t[$r]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ig(t){return t[Gc]||null}var Y0=[],Ss=-1;function Lo(t){return{current:t}}function et(t){0>Ss||(t.current=Y0[Ss],Y0[Ss]=null,Ss--)}function Ge(t,e){Ss++,Y0[Ss]=t.current,t.current=e}var Io={},gn=Lo(Io),On=Lo(!1),Ia=Io;function il(t,e){var n=t.type.contextTypes;if(!n)return Io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function up(){et(On),et(gn)}function zA(t,e,n){if(gn.current!==Io)throw Error(J(168));Ge(gn,e),Ge(On,n)}function lN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,ZU(t)||"Unknown",i));return lt({},n,r)}function cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Ia=gn.current,Ge(gn,t),Ge(On,On.current),!0}function WA(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=lN(t,e,Ia),r.__reactInternalMemoizedMergedChildContext=t,et(On),et(gn),Ge(gn,t)):et(On),Ge(On,n)}var li=null,og=!1,dv=!1;function uN(t){li===null?li=[t]:li.push(t)}function g3(t){og=!0,uN(t)}function Vo(){if(!dv&&li!==null){dv=!0;var t=0,e=Ve;try{var n=li;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}li=null,og=!1}catch(i){throw li!==null&&(li=li.slice(t+1)),NM(Yb,Vo),i}finally{Ve=e,dv=!1}}return null}var Ts=[],Es=0,fp=null,hp=0,rr=[],ir=0,Ca=null,ui=1,ci="";function ta(t,e){Ts[Es++]=hp,Ts[Es++]=fp,fp=t,hp=e}function cN(t,e,n){rr[ir++]=ui,rr[ir++]=ci,rr[ir++]=Ca,Ca=t;var r=ui;t=ci;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ui=1<<32-Ir(e)+i|n<<i|r,ci=o+t}else ui=1<<o|n<<i|r,ci=t}function ox(t){t.return!==null&&(ta(t,1),cN(t,1,0))}function ax(t){for(;t===fp;)fp=Ts[--Es],Ts[Es]=null,hp=Ts[--Es],Ts[Es]=null;for(;t===Ca;)Ca=rr[--ir],rr[ir]=null,ci=rr[--ir],rr[ir]=null,ui=rr[--ir],rr[ir]=null}var Wn=null,zn=null,rt=!1,Er=null;function fN(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,zn=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ca!==null?{id:ui,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,zn=null,!0):!1;default:return!1}}function Q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J0(t){if(rt){var e=zn;if(e){var n=e;if(!HA(t,e)){if(Q0(t))throw Error(J(418));e=yo(n.nextSibling);var r=Wn;e&&HA(t,e)?fN(r,n):(t.flags=t.flags&-4097|2,rt=!1,Wn=t)}}else{if(Q0(t))throw Error(J(418));t.flags=t.flags&-4097|2,rt=!1,Wn=t}}}function KA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function td(t){if(t!==Wn)return!1;if(!rt)return KA(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!q0(t.type,t.memoizedProps)),e&&(e=zn)){if(Q0(t))throw hN(),Error(J(418));for(;e;)fN(t,e),e=yo(e.nextSibling)}if(KA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Wn?yo(t.stateNode.nextSibling):null;return!0}function hN(){for(var t=zn;t;)t=yo(t.nextSibling)}function ol(){zn=Wn=null,rt=!1}function sx(t){Er===null?Er=[t]:Er.push(t)}var y3=Li.ReactCurrentBatchConfig;function Vu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function nd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qA(t){var e=t._init;return e(t._payload)}function dN(t){function e(y,_){if(t){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=bo(y,_),y.index=0,y.sibling=null,y}function o(y,_,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,w,A){return _===null||_.tag!==6?(_=wv(w,y.mode,A),_.return=y,_):(_=i(_,w),_.return=y,_)}function l(y,_,w,A){var x=w.type;return x===vs?c(y,_,w.props.children,A,w.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yi&&qA(x)===_.type)?(A=i(_,w.props),A.ref=Vu(y,_,w),A.return=y,A):(A=Bd(w.type,w.key,w.props,null,y.mode,A),A.ref=Vu(y,_,w),A.return=y,A)}function u(y,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=bv(w,y.mode,A),_.return=y,_):(_=i(_,w.children||[]),_.return=y,_)}function c(y,_,w,A,x){return _===null||_.tag!==7?(_=xa(w,y.mode,A,x),_.return=y,_):(_=i(_,w),_.return=y,_)}function f(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wv(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hh:return w=Bd(_.type,_.key,_.props,null,y.mode,w),w.ref=Vu(y,null,_),w.return=y,w;case ys:return _=bv(_,y.mode,w),_.return=y,_;case Yi:var A=_._init;return f(y,A(_._payload),w)}if(tc(_)||Nu(_))return _=xa(_,y.mode,w,null),_.return=y,_;nd(y,_)}return null}function d(y,_,w,A){var x=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:s(y,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hh:return w.key===x?l(y,_,w,A):null;case ys:return w.key===x?u(y,_,w,A):null;case Yi:return x=w._init,d(y,_,x(w._payload),A)}if(tc(w)||Nu(w))return x!==null?null:c(y,_,w,A,null);nd(y,w)}return null}function p(y,_,w,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(w)||null,s(_,y,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hh:return y=y.get(A.key===null?w:A.key)||null,l(_,y,A,x);case ys:return y=y.get(A.key===null?w:A.key)||null,u(_,y,A,x);case Yi:var E=A._init;return p(y,_,w,E(A._payload),x)}if(tc(A)||Nu(A))return y=y.get(w)||null,c(_,y,A,x,null);nd(_,A)}return null}function g(y,_,w,A){for(var x=null,E=null,S=_,T=_=0,P=null;S!==null&&T<w.length;T++){S.index>T?(P=S,S=null):P=S.sibling;var C=d(y,S,w[T],A);if(C===null){S===null&&(S=P);break}t&&S&&C.alternate===null&&e(y,S),_=o(C,_,T),E===null?x=C:E.sibling=C,E=C,S=P}if(T===w.length)return n(y,S),rt&&ta(y,T),x;if(S===null){for(;T<w.length;T++)S=f(y,w[T],A),S!==null&&(_=o(S,_,T),E===null?x=S:E.sibling=S,E=S);return rt&&ta(y,T),x}for(S=r(y,S);T<w.length;T++)P=p(S,y,T,w[T],A),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?T:P.key),_=o(P,_,T),E===null?x=P:E.sibling=P,E=P);return t&&S.forEach(function(k){return e(y,k)}),rt&&ta(y,T),x}function v(y,_,w,A){var x=Nu(w);if(typeof x!="function")throw Error(J(150));if(w=x.call(w),w==null)throw Error(J(151));for(var E=x=null,S=_,T=_=0,P=null,C=w.next();S!==null&&!C.done;T++,C=w.next()){S.index>T?(P=S,S=null):P=S.sibling;var k=d(y,S,C.value,A);if(k===null){S===null&&(S=P);break}t&&S&&k.alternate===null&&e(y,S),_=o(k,_,T),E===null?x=k:E.sibling=k,E=k,S=P}if(C.done)return n(y,S),rt&&ta(y,T),x;if(S===null){for(;!C.done;T++,C=w.next())C=f(y,C.value,A),C!==null&&(_=o(C,_,T),E===null?x=C:E.sibling=C,E=C);return rt&&ta(y,T),x}for(S=r(y,S);!C.done;T++,C=w.next())C=p(S,y,T,C.value,A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),_=o(C,_,T),E===null?x=C:E.sibling=C,E=C);return t&&S.forEach(function(M){return e(y,M)}),rt&&ta(y,T),x}function m(y,_,w,A){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hh:e:{for(var x=w.key,E=_;E!==null;){if(E.key===x){if(x=w.type,x===vs){if(E.tag===7){n(y,E.sibling),_=i(E,w.props.children),_.return=y,y=_;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yi&&qA(x)===E.type){n(y,E.sibling),_=i(E,w.props),_.ref=Vu(y,E,w),_.return=y,y=_;break e}n(y,E);break}else e(y,E);E=E.sibling}w.type===vs?(_=xa(w.props.children,y.mode,A,w.key),_.return=y,y=_):(A=Bd(w.type,w.key,w.props,null,y.mode,A),A.ref=Vu(y,_,w),A.return=y,y=A)}return a(y);case ys:e:{for(E=w.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(y,_.sibling),_=i(_,w.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=bv(w,y.mode,A),_.return=y,y=_}return a(y);case Yi:return E=w._init,m(y,_,E(w._payload),A)}if(tc(w))return g(y,_,w,A);if(Nu(w))return v(y,_,w,A);nd(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,w),_.return=y,y=_):(n(y,_),_=wv(w,y.mode,A),_.return=y,y=_),a(y)):n(y,_)}return m}var al=dN(!0),pN=dN(!1),dp=Lo(null),pp=null,As=null,lx=null;function ux(){lx=As=pp=null}function cx(t){var e=dp.current;et(dp),t._currentValue=e}function Z0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){pp=t,lx=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(lx!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(pp===null)throw Error(J(308));As=t,pp.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var fa=null;function fx(t){fa===null?fa=[t]:fa.push(t)}function mN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function hx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,fx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}function GA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mp(t,e,n,r){var i=t.updateQueue;Qi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(d=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=lt({},f,d);break e;case 2:Qi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ra|=a,t.lanes=a,t.memoizedState=f}}function XA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var rh={},Br=Lo(rh),Xc=Lo(rh),Yc=Lo(rh);function ha(t){if(t===rh)throw Error(J(174));return t}function dx(t,e){switch(Ge(Yc,e),Ge(Xc,t),Ge(Br,rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M0(e,t)}et(Br),Ge(Br,e)}function sl(){et(Br),et(Xc),et(Yc)}function yN(t){ha(Yc.current);var e=ha(Br.current),n=M0(e,t.type);e!==n&&(Ge(Xc,t),Ge(Br,n))}function px(t){Xc.current===t&&(et(Br),et(Xc))}var ot=Lo(0);function gp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function mx(){for(var t=0;t<pv.length;t++)pv[t]._workInProgressVersionPrimary=null;pv.length=0}var jd=Li.ReactCurrentDispatcher,mv=Li.ReactCurrentBatchConfig,ka=0,st=null,kt=null,Ft=null,yp=!1,yc=!1,Qc=0,v3=0;function on(){throw Error(J(321))}function gx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function yx(t,e,n,r,i,o){if(ka=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jd.current=t===null||t.memoizedState===null?x3:S3,t=n(r,i),yc){o=0;do{if(yc=!1,Qc=0,25<=o)throw Error(J(301));o+=1,Ft=kt=null,e.updateQueue=null,jd.current=T3,t=n(r,i)}while(yc)}if(jd.current=vp,e=kt!==null&&kt.next!==null,ka=0,Ft=kt=st=null,yp=!1,e)throw Error(J(300));return t}function vx(){var t=Qc!==0;return Qc=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?st.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function fr(){if(kt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Ft===null?st.memoizedState:Ft.next;if(e!==null)Ft=e,kt=t;else{if(t===null)throw Error(J(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ft===null?st.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Jc(t,e){return typeof e=="function"?e(t):e}function gv(t){var e=fr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ka&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,st.lanes|=c,Ra|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,kr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,Ra|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yv(t){var e=fr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);kr(o,e.memoizedState)||(An=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vN(){}function _N(t,e){var n=st,r=fr(),i=e(),o=!kr(r.memoizedState,i);if(o&&(r.memoizedState=i,An=!0),r=r.queue,_x(xN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Zc(9,bN.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(J(349));ka&30||wN(n,e,i)}return i}function wN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bN(t,e,n,r){e.value=n,e.getSnapshot=r,SN(e)&&TN(t)}function xN(t,e,n){return n(function(){SN(e)&&TN(t)})}function SN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function TN(t){var e=Pi(t,1);e!==null&&Cr(e,t,1,-1)}function YA(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:t},e.queue=t,t=t.dispatch=b3.bind(null,st,t),[e.memoizedState,t]}function Zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EN(){return fr().memoizedState}function $d(t,e,n,r){var i=jr();st.flags|=t,i.memoizedState=Zc(1|e,n,void 0,r===void 0?null:r)}function ag(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(kt!==null){var a=kt.memoizedState;if(o=a.destroy,r!==null&&gx(r,a.deps)){i.memoizedState=Zc(e,n,o,r);return}}st.flags|=t,i.memoizedState=Zc(1|e,n,o,r)}function QA(t,e){return $d(8390656,8,t,e)}function _x(t,e){return ag(2048,8,t,e)}function AN(t,e){return ag(4,2,t,e)}function PN(t,e){return ag(4,4,t,e)}function ON(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IN(t,e,n){return n=n!=null?n.concat([t]):null,ag(4,4,ON.bind(null,e,t),n)}function wx(){}function CN(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kN(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RN(t,e,n){return ka&21?(kr(n,e)||(n=$M(),st.lanes|=n,Ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function _3(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=mv.transition;mv.transition={};try{t(!1),e()}finally{Ve=n,mv.transition=r}}function MN(){return fr().memoizedState}function w3(t,e,n){var r=wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NN(t))DN(e,n);else if(n=mN(t,e,n,r),n!==null){var i=xn();Cr(n,t,r,i),jN(n,e,r)}}function b3(t,e,n){var r=wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NN(t))DN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,kr(s,a)){var l=e.interleaved;l===null?(i.next=i,fx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mN(t,e,i,r),n!==null&&(i=xn(),Cr(n,t,r,i),jN(n,e,r))}}function NN(t){var e=t.alternate;return t===st||e!==null&&e===st}function DN(t,e){yc=yp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}var vp={readContext:cr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},x3={readContext:cr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:QA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,ON.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w3.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:YA,useDebugValue:wx,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=YA(!1),e=t[0];return t=_3.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=jr();if(rt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Bt===null)throw Error(J(349));ka&30||wN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,QA(xN.bind(null,r,o,t),[t]),r.flags|=2048,Zc(9,bN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jr(),e=Bt.identifierPrefix;if(rt){var n=ci,r=ui;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S3={readContext:cr,useCallback:CN,useContext:cr,useEffect:_x,useImperativeHandle:IN,useInsertionEffect:AN,useLayoutEffect:PN,useMemo:kN,useReducer:gv,useRef:EN,useState:function(){return gv(Jc)},useDebugValue:wx,useDeferredValue:function(t){var e=fr();return RN(e,kt.memoizedState,t)},useTransition:function(){var t=gv(Jc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:vN,useSyncExternalStore:_N,useId:MN,unstable_isNewReconciler:!1},T3={readContext:cr,useCallback:CN,useContext:cr,useEffect:_x,useImperativeHandle:IN,useInsertionEffect:AN,useLayoutEffect:PN,useMemo:kN,useReducer:yv,useRef:EN,useState:function(){return yv(Jc)},useDebugValue:wx,useDeferredValue:function(t){var e=fr();return kt===null?e.memoizedState=t:RN(e,kt.memoizedState,t)},useTransition:function(){var t=yv(Jc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:vN,useSyncExternalStore:_N,useId:MN,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function e_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sg={isMounted:function(t){return(t=t._reactInternals)?Ka(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=wo(t),o=vi(r,i);o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Cr(e,t,i,r),Dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=wo(t),o=vi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Cr(e,t,i,r),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=wo(t),i=vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=vo(t,i,r),e!==null&&(Cr(e,t,r,n),Dd(e,t,r))}};function JA(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,o):!0}function $N(t,e,n){var r=!1,i=Io,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=In(e)?Ia:gn.current,r=e.contextTypes,o=(r=r!=null)?il(t,i):Io),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sg.enqueueReplaceState(e,e.state,null)}function t_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hx(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=In(e)?Ia:gn.current,i.context=il(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(e_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sg.enqueueReplaceState(i,i.state,null),mp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ll(t,e){try{var n="",r=e;do n+=JU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E3=typeof WeakMap=="function"?WeakMap:Map;function LN(t,e,n){n=vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wp||(wp=!0,h_=r),n_(t,e)},n}function VN(t,e,n){n=vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){n_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){n_(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function e1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V3.bind(null,t,e,n),e.then(t,t))}function t1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vi(-1,1),e.tag=2,vo(n,e,1))),n.lanes|=1),t)}var A3=Li.ReactCurrentOwner,An=!1;function _n(t,e,n,r){e.child=t===null?pN(e,null,n,r):al(e,t.child,n,r)}function r1(t,e,n,r,i){n=n.render;var o=e.ref;return Us(e,i),r=yx(t,e,n,r,o,i),n=vx(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(rt&&n&&ox(e),e.flags|=1,_n(t,e,r,i),e.child)}function i1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ox(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,FN(t,e,o,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(a,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=bo(o,r),t.ref=e.ref,t.return=e,e.child=t}function FN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hc(o,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return r_(t,e,n,r,i)}function BN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Os,Ln),Ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Os,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(Os,Ln),Ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(Os,Ln),Ln|=r;return _n(t,e,i,n),e.child}function UN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r_(t,e,n,r,i){var o=In(n)?Ia:gn.current;return o=il(e,o),Us(e,i),n=yx(t,e,n,r,o,i),r=vx(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(rt&&r&&ox(e),e.flags|=1,_n(t,e,n,i),e.child)}function o1(t,e,n,r,i){if(In(n)){var o=!0;cp(e)}else o=!1;if(Us(e,i),e.stateNode===null)Ld(t,e),$N(e,n,r),t_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=In(n)?Ia:gn.current,u=il(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&ZA(e,a,r,u),Qi=!1;var d=e.memoizedState;a.state=d,mp(e,r,a,i),l=e.memoizedState,s!==r||d!==l||On.current||Qi?(typeof c=="function"&&(e_(e,n,c,r),l=e.memoizedState),(s=Qi||JA(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:br(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=In(n)?Ia:gn.current,l=il(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&ZA(e,a,r,l),Qi=!1,d=e.memoizedState,a.state=d,mp(e,r,a,i);var g=e.memoizedState;s!==f||d!==g||On.current||Qi?(typeof p=="function"&&(e_(e,n,p,r),g=e.memoizedState),(u=Qi||JA(e,n,u,r,d,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return i_(t,e,n,r,o,i)}function i_(t,e,n,r,i,o){UN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&WA(e,n,!1),Oi(t,e,o);r=e.stateNode,A3.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=al(e,t.child,null,o),e.child=al(e,null,s,o)):_n(t,e,s,o),e.memoizedState=r.state,i&&WA(e,n,!0),e.child}function zN(t){var e=t.stateNode;e.pendingContext?zA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zA(t,e.context,!1),dx(t,e.containerInfo)}function a1(t,e,n,r,i){return ol(),sx(i),e.flags|=256,_n(t,e,n,r),e.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function a_(t){return{baseLanes:t,cachePool:null,transitions:null}}function WN(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ot,i&1),t===null)return J0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cg(a,r,0,null),t=xa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=a_(n),e.memoizedState=o_,t):bx(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return P3(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=bo(s,o):(o=xa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?a_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=o_,r}return o=t.child,t=o.sibling,r=bo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bx(t,e){return e=cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rd(t,e,n,r){return r!==null&&sx(r),al(e,t.child,null,n),t=bx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P3(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=vv(Error(J(422))),rd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cg({mode:"visible",children:r.children},i,0,null),o=xa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&al(e,t.child,null,a),e.child.memoizedState=a_(a),e.memoizedState=o_,o);if(!(e.mode&1))return rd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=vv(o,r,void 0),rd(t,e,a,r)}if(s=(a&t.childLanes)!==0,An||s){if(r=Bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pi(t,i),Cr(r,t,i,-1))}return Px(),r=vv(Error(J(421))),rd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zn=yo(i.nextSibling),Wn=e,rt=!0,Er=null,t!==null&&(rr[ir++]=ui,rr[ir++]=ci,rr[ir++]=Ca,ui=t.id,ci=t.overflow,Ca=e),e=bx(e,r.children),e.flags|=4096,e)}function s1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Z0(t.return,e,n)}function _v(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function HN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_n(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s1(t,n,e);else if(t.tag===19)s1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_v(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_v(e,!0,n,null,o);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O3(t,e,n){switch(e.tag){case 3:zN(e),ol();break;case 5:yN(e);break;case 1:In(e.type)&&cp(e);break;case 4:dx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(dp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?WN(t,e,n):(Ge(ot,ot.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,BN(t,e,n)}return Oi(t,e,n)}var KN,s_,qN,GN;KN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s_=function(){};qN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ha(Br.current);var o=null;switch(n){case"input":i=I0(t,i),r=I0(t,r),o=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),o=[];break;case"textarea":i=R0(t,i),r=R0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lp)}N0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ye("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};GN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fu(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I3(t,e,n){var r=e.pendingProps;switch(ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return In(e.type)&&up(),an(e),null;case 3:return r=e.stateNode,sl(),et(On),et(gn),mx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(m_(Er),Er=null))),s_(t,e),an(e),null;case 5:px(e);var i=ha(Yc.current);if(n=e.type,t!==null&&e.stateNode!=null)qN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return an(e),null}if(t=ha(Br.current),td(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$r]=e,r[Gc]=o,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<rc.length;i++)Ye(rc[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":gA(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":vA(r,o),Ye("invalid",r)}N0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ed(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ed(r.textContent,s,t),i=["children",""+s]):Lc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Kh(r),yA(r,o,!0);break;case"textarea":Kh(r),_A(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=lp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[$r]=e,t[Gc]=r,KN(t,e,!1,!1),e.stateNode=t;e:{switch(a=D0(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<rc.length;i++)Ye(rc[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":gA(t,r),i=I0(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":vA(t,r),i=R0(t,r),Ye("invalid",t);break;default:i=r}N0(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?EM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vc(t,l):typeof l=="number"&&Vc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ye("scroll",t):l!=null&&Hb(t,o,l,a))}switch(n){case"input":Kh(t),yA(t,r,!1);break;case"textarea":Kh(t),_A(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ls(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)GN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ha(Yc.current),ha(Br.current),td(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(o=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ed(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return an(e),null;case 13:if(et(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&zn!==null&&e.mode&1&&!(e.flags&128))hN(),ol(),e.flags|=98560,o=!1;else if(o=td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[$r]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Er!==null&&(m_(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Rt===0&&(Rt=3):Px())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return sl(),s_(t,e),t===null&&Kc(e.stateNode.containerInfo),an(e),null;case 10:return cx(e.type._context),an(e),null;case 17:return In(e.type)&&up(),an(e),null;case 19:if(et(ot),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Fu(o,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gp(t),a!==null){for(e.flags|=128,Fu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>ul&&(e.flags|=128,r=!0,Fu(o,!1),e.lanes=4194304)}else{if(!r)if(t=gp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!rt)return an(e),null}else 2*vt()-o.renderingStartTime>ul&&n!==1073741824&&(e.flags|=128,r=!0,Fu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=ot.current,Ge(ot,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Ax(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function C3(t,e){switch(ax(e),e.tag){case 1:return In(e.type)&&up(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(),et(On),et(gn),mx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return px(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return sl(),null;case 10:return cx(e.type._context),null;case 22:case 23:return Ax(),null;case 24:return null;default:return null}}var id=!1,fn=!1,k3=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function l_(t,e,n){try{n()}catch(r){ht(t,e,r)}}var l1=!1;function R3(t,e){if(H0=op,t=ZM(),ix(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(K0={focusedElem:t,selectionRange:n},op=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:br(e.type,v),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(A){ht(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=l1,l1=!1,g}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&l_(e,n,o)}i=i.next}while(i!==r)}}function lg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function u_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XN(t){var e=t.alternate;e!==null&&(t.alternate=null,XN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Gc],delete e[X0],delete e[p3],delete e[m3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YN(t){return t.tag===5||t.tag===3||t.tag===4}function u1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lp));else if(r!==4&&(t=t.child,t!==null))for(c_(t,e,n),t=t.sibling;t!==null;)c_(t,e,n),t=t.sibling}function f_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(f_(t,e,n),t=t.sibling;t!==null;)f_(t,e,n),t=t.sibling}var Kt=null,xr=!1;function Ki(t,e,n){for(n=n.child;n!==null;)QN(t,e,n),n=n.sibling}function QN(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(eg,n)}catch{}switch(n.tag){case 5:fn||Ps(n,e);case 6:var r=Kt,i=xr;Kt=null,Ki(t,e,n),Kt=r,xr=i,Kt!==null&&(xr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(xr?(t=Kt,n=n.stateNode,t.nodeType===8?hv(t.parentNode,n):t.nodeType===1&&hv(t,n),zc(t)):hv(Kt,n.stateNode));break;case 4:r=Kt,i=xr,Kt=n.stateNode.containerInfo,xr=!0,Ki(t,e,n),Kt=r,xr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&l_(n,e,a),i=i.next}while(i!==r)}Ki(t,e,n);break;case 1:if(!fn&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ht(n,e,s)}Ki(t,e,n);break;case 21:Ki(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Ki(t,e,n),fn=r):Ki(t,e,n);break;default:Ki(t,e,n)}}function c1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k3),e.forEach(function(r){var i=B3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Kt=s.stateNode,xr=!1;break e;case 3:Kt=s.stateNode.containerInfo,xr=!0;break e;case 4:Kt=s.stateNode.containerInfo,xr=!0;break e}s=s.return}if(Kt===null)throw Error(J(160));QN(o,a,i),Kt=null,xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JN(e,t),e=e.sibling}function JN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Dr(t),r&4){try{vc(3,t,t.return),lg(3,t)}catch(v){ht(t,t.return,v)}try{vc(5,t,t.return)}catch(v){ht(t,t.return,v)}}break;case 1:gr(e,t),Dr(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(gr(e,t),Dr(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Vc(i,"")}catch(v){ht(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&wM(i,o),D0(s,a);var u=D0(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?EM(i,f):c==="dangerouslySetInnerHTML"?SM(i,f):c==="children"?Vc(i,f):Hb(i,c,f,u)}switch(s){case"input":C0(i,o);break;case"textarea":bM(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ls(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ls(i,!!o.multiple,o.defaultValue,!0):Ls(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gc]=o}catch(v){ht(t,t.return,v)}}break;case 6:if(gr(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ht(t,t.return,v)}}break;case 3:if(gr(e,t),Dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zc(e.containerInfo)}catch(v){ht(t,t.return,v)}break;case 4:gr(e,t),Dr(t);break;case 13:gr(e,t),Dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tx=vt())),r&4&&c1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||c,gr(e,t),fn=u):gr(e,t),Dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:vc(4,d,d.return);break;case 1:Ps(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ht(r,n,v)}}break;case 5:Ps(d,d.return);break;case 22:if(d.memoizedState!==null){h1(f);continue}}p!==null?(p.return=d,oe=p):h1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=TM("display",a))}catch(v){ht(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ht(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(e,t),Dr(t),r&4&&c1(t);break;case 21:break;default:gr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vc(i,""),r.flags&=-33);var o=u1(t);f_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=u1(t);c_(t,s,a);break;default:throw Error(J(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M3(t,e,n){oe=t,ZN(t)}function ZN(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||id;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||fn;s=id;var u=fn;if(id=a,(fn=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?d1(i):l!==null?(l.return=a,oe=l):d1(i);for(;o!==null;)oe=o,ZN(o),o=o.sibling;oe=i,id=s,fn=u}f1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):f1(t)}}function f1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||lg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&XA(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XA(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&zc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}fn||e.flags&512&&u_(e)}catch(d){ht(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function h1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function d1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lg(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var o=e.return;try{u_(e)}catch(l){ht(e,o,l)}break;case 5:var a=e.return;try{u_(e)}catch(l){ht(e,a,l)}}}catch(l){ht(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var N3=Math.ceil,_p=Li.ReactCurrentDispatcher,xx=Li.ReactCurrentOwner,lr=Li.ReactCurrentBatchConfig,Re=0,Bt=null,Tt=null,Qt=0,Ln=0,Os=Lo(0),Rt=0,ef=null,Ra=0,ug=0,Sx=0,_c=null,En=null,Tx=0,ul=1/0,si=null,wp=!1,h_=null,_o=null,od=!1,so=null,bp=0,wc=0,d_=null,Vd=-1,Fd=0;function xn(){return Re&6?vt():Vd!==-1?Vd:Vd=vt()}function wo(t){return t.mode&1?Re&2&&Qt!==0?Qt&-Qt:y3.transition!==null?(Fd===0&&(Fd=$M()),Fd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:WM(t.type)),t):1}function Cr(t,e,n,r){if(50<wc)throw wc=0,d_=null,Error(J(185));eh(t,n,r),(!(Re&2)||t!==Bt)&&(t===Bt&&(!(Re&2)&&(ug|=n),Rt===4&&eo(t,Qt)),Cn(t,r),n===1&&Re===0&&!(e.mode&1)&&(ul=vt()+500,og&&Vo()))}function Cn(t,e){var n=t.callbackNode;y4(t,e);var r=ip(t,t===Bt?Qt:0);if(r===0)n!==null&&xA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xA(n),e===1)t.tag===0?g3(p1.bind(null,t)):uN(p1.bind(null,t)),h3(function(){!(Re&6)&&Vo()}),n=null;else{switch(LM(r)){case 1:n=Yb;break;case 4:n=DM;break;case 16:n=rp;break;case 536870912:n=jM;break;default:n=rp}n=sD(n,eD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eD(t,e){if(Vd=-1,Fd=0,Re&6)throw Error(J(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=ip(t,t===Bt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xp(t,r);else{e=r;var i=Re;Re|=2;var o=nD();(Bt!==t||Qt!==e)&&(si=null,ul=vt()+500,ba(t,e));do try{$3();break}catch(s){tD(t,s)}while(!0);ux(),_p.current=o,Re=i,Tt!==null?e=0:(Bt=null,Qt=0,e=Rt)}if(e!==0){if(e===2&&(i=F0(t),i!==0&&(r=i,e=p_(t,i))),e===1)throw n=ef,ba(t,0),eo(t,r),Cn(t,vt()),n;if(e===6)eo(t,r);else{if(i=t.current.alternate,!(r&30)&&!D3(i)&&(e=xp(t,r),e===2&&(o=F0(t),o!==0&&(r=o,e=p_(t,o))),e===1))throw n=ef,ba(t,0),eo(t,r),Cn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:na(t,En,si);break;case 3:if(eo(t,r),(r&130023424)===r&&(e=Tx+500-vt(),10<e)){if(ip(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G0(na.bind(null,t,En,si),e);break}na(t,En,si);break;case 4:if(eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ir(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N3(r/1960))-r,10<r){t.timeoutHandle=G0(na.bind(null,t,En,si),r);break}na(t,En,si);break;case 5:na(t,En,si);break;default:throw Error(J(329))}}}return Cn(t,vt()),t.callbackNode===n?eD.bind(null,t):null}function p_(t,e){var n=_c;return t.current.memoizedState.isDehydrated&&(ba(t,e).flags|=256),t=xp(t,e),t!==2&&(e=En,En=n,e!==null&&m_(e)),t}function m_(t){En===null?En=t:En.push.apply(En,t)}function D3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~Sx,e&=~ug,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function p1(t){if(Re&6)throw Error(J(327));zs();var e=ip(t,0);if(!(e&1))return Cn(t,vt()),null;var n=xp(t,e);if(t.tag!==0&&n===2){var r=F0(t);r!==0&&(e=r,n=p_(t,r))}if(n===1)throw n=ef,ba(t,0),eo(t,e),Cn(t,vt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,En,si),Cn(t,vt()),null}function Ex(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(ul=vt()+500,og&&Vo())}}function Ma(t){so!==null&&so.tag===0&&!(Re&6)&&zs();var e=Re;Re|=1;var n=lr.transition,r=Ve;try{if(lr.transition=null,Ve=1,t)return t()}finally{Ve=r,lr.transition=n,Re=e,!(Re&6)&&Vo()}}function Ax(){Ln=Os.current,et(Os)}function ba(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f3(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(ax(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&up();break;case 3:sl(),et(On),et(gn),mx();break;case 5:px(r);break;case 4:sl();break;case 13:et(ot);break;case 19:et(ot);break;case 10:cx(r.type._context);break;case 22:case 23:Ax()}n=n.return}if(Bt=t,Tt=t=bo(t.current,null),Qt=Ln=e,Rt=0,ef=null,Sx=ug=Ra=0,En=_c=null,fa!==null){for(e=0;e<fa.length;e++)if(n=fa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}fa=null}return t}function tD(t,e){do{var n=Tt;try{if(ux(),jd.current=vp,yp){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yp=!1}if(ka=0,Ft=kt=st=null,yc=!1,Qc=0,xx.current=null,n===null||n.return===null){Rt=1,ef=e,Tt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=t1(a);if(p!==null){p.flags&=-257,n1(p,a,s,o,e),p.mode&1&&e1(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){e1(o,u,e),Px();break e}l=Error(J(426))}}else if(rt&&s.mode&1){var m=t1(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),n1(m,a,s,o,e),sx(ll(l,s));break e}}o=l=ll(l,s),Rt!==4&&(Rt=2),_c===null?_c=[o]:_c.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=LN(o,l,e);GA(o,y);break e;case 1:s=l;var _=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=VN(o,s,e);GA(o,A);break e}}o=o.return}while(o!==null)}iD(n)}catch(x){e=x,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function nD(){var t=_p.current;return _p.current=vp,t===null?vp:t}function Px(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Bt===null||!(Ra&268435455)&&!(ug&268435455)||eo(Bt,Qt)}function xp(t,e){var n=Re;Re|=2;var r=nD();(Bt!==t||Qt!==e)&&(si=null,ba(t,e));do try{j3();break}catch(i){tD(t,i)}while(!0);if(ux(),Re=n,_p.current=r,Tt!==null)throw Error(J(261));return Bt=null,Qt=0,Rt}function j3(){for(;Tt!==null;)rD(Tt)}function $3(){for(;Tt!==null&&!l4();)rD(Tt)}function rD(t){var e=aD(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?iD(t):Tt=e,xx.current=null}function iD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C3(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Tt=null;return}}else if(n=I3(n,e,Ln),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Rt===0&&(Rt=5)}function na(t,e,n){var r=Ve,i=lr.transition;try{lr.transition=null,Ve=1,L3(t,e,n,r)}finally{lr.transition=i,Ve=r}return null}function L3(t,e,n,r){do zs();while(so!==null);if(Re&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(v4(t,o),t===Bt&&(Tt=Bt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||od||(od=!0,sD(rp,function(){return zs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var a=Ve;Ve=1;var s=Re;Re|=4,xx.current=null,R3(t,n),JN(n,t),i3(K0),op=!!H0,K0=H0=null,t.current=n,M3(n),u4(),Re=s,Ve=a,lr.transition=o}else t.current=n;if(od&&(od=!1,so=t,bp=i),o=t.pendingLanes,o===0&&(_o=null),h4(n.stateNode),Cn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wp)throw wp=!1,t=h_,h_=null,t;return bp&1&&t.tag!==0&&zs(),o=t.pendingLanes,o&1?t===d_?wc++:(wc=0,d_=t):wc=0,Vo(),null}function zs(){if(so!==null){var t=LM(bp),e=lr.transition,n=Ve;try{if(lr.transition=null,Ve=16>t?16:t,so===null)var r=!1;else{if(t=so,so=null,bp=0,Re&6)throw Error(J(331));var i=Re;for(Re|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:vc(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(XN(c),c===u){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,oe=y;break e}oe=o.return}}var _=t.current;for(oe=_;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=_;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:lg(9,s)}}catch(x){ht(s,s.return,x)}if(s===a){oe=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,oe=A;break e}oe=s.return}}if(Re=i,Vo(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(eg,t)}catch{}r=!0}return r}finally{Ve=n,lr.transition=e}}return!1}function m1(t,e,n){e=ll(n,e),e=LN(t,e,1),t=vo(t,e,1),e=xn(),t!==null&&(eh(t,1,e),Cn(t,e))}function ht(t,e,n){if(t.tag===3)m1(t,t,n);else for(;e!==null;){if(e.tag===3){m1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=ll(n,t),t=VN(e,t,1),e=vo(e,t,1),t=xn(),e!==null&&(eh(e,1,t),Cn(e,t));break}}e=e.return}}function V3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Qt&n)===n&&(Rt===4||Rt===3&&(Qt&130023424)===Qt&&500>vt()-Tx?ba(t,0):Sx|=n),Cn(t,e)}function oD(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var n=xn();t=Pi(t,e),t!==null&&(eh(t,e,n),Cn(t,n))}function F3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oD(t,n)}function B3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),oD(t,n)}var aD;aD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,O3(t,e,n);An=!!(t.flags&131072)}else An=!1,rt&&e.flags&1048576&&cN(e,hp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ld(t,e),t=e.pendingProps;var i=il(e,gn.current);Us(e,n),i=yx(null,e,r,t,i,n);var o=vx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(o=!0,cp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hx(e),i.updater=sg,e.stateNode=i,i._reactInternals=e,t_(e,r,t,n),e=i_(null,e,r,!0,o,n)):(e.tag=0,rt&&o&&ox(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ld(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z3(r),t=br(r,t),i){case 0:e=r_(null,e,r,t,n);break e;case 1:e=o1(null,e,r,t,n);break e;case 11:e=r1(null,e,r,t,n);break e;case 14:e=i1(null,e,r,br(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),r_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),o1(t,e,r,i,n);case 3:e:{if(zN(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,gN(t,e),mp(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ll(Error(J(423)),e),e=a1(t,e,r,n,i);break e}else if(r!==i){i=ll(Error(J(424)),e),e=a1(t,e,r,n,i);break e}else for(zn=yo(e.stateNode.containerInfo.firstChild),Wn=e,rt=!0,Er=null,n=pN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){e=Oi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return yN(e),t===null&&J0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,q0(r,i)?a=null:o!==null&&q0(r,o)&&(e.flags|=32),UN(t,e),_n(t,e,a,n),e.child;case 6:return t===null&&J0(e),null;case 13:return WN(t,e,n);case 4:return dx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),r1(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ge(dp,r._currentValue),r._currentValue=a,o!==null)if(kr(o.value,a)){if(o.children===i.children&&!On.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Z0(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Z0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=cr(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),i1(t,e,r,i,n);case 15:return FN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Ld(t,e),e.tag=1,In(r)?(t=!0,cp(e)):t=!1,Us(e,n),$N(e,r,i),t_(e,r,i,n),i_(null,e,r,!0,t,n);case 19:return HN(t,e,n);case 22:return BN(t,e,n)}throw Error(J(156,e.tag))};function sD(t,e){return NM(t,e)}function U3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new U3(t,e,n,r)}function Ox(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z3(t){if(typeof t=="function")return Ox(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qb)return 11;if(t===Gb)return 14}return 2}function bo(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Ox(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vs:return xa(n.children,i,o,e);case Kb:a=8,i|=8;break;case E0:return t=or(12,n,e,i|2),t.elementType=E0,t.lanes=o,t;case A0:return t=or(13,n,e,i),t.elementType=A0,t.lanes=o,t;case P0:return t=or(19,n,e,i),t.elementType=P0,t.lanes=o,t;case yM:return cg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mM:a=10;break e;case gM:a=9;break e;case qb:a=11;break e;case Gb:a=14;break e;case Yi:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=or(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xa(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function cg(t,e,n,r){return t=or(22,t,r,e),t.elementType=yM,t.lanes=n,t.stateNode={isHidden:!1},t}function wv(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function bv(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ix(t,e,n,r,i,o,a,s,l){return t=new W3(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=or(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hx(o),t}function H3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lD(t){if(!t)return Io;t=t._reactInternals;e:{if(Ka(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(In(n))return lN(t,n,e)}return e}function uD(t,e,n,r,i,o,a,s,l){return t=Ix(n,r,!0,t,i,o,a,s,l),t.context=lD(null),n=t.current,r=xn(),i=wo(n),o=vi(r,i),o.callback=e??null,vo(n,o,i),t.current.lanes=i,eh(t,i,r),Cn(t,r),t}function fg(t,e,n,r){var i=e.current,o=xn(),a=wo(i);return n=lD(n),e.context===null?e.context=n:e.pendingContext=n,e=vi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vo(i,e,a),t!==null&&(Cr(t,i,a,o),Dd(t,i,a)),a}function Sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cx(t,e){g1(t,e),(t=t.alternate)&&g1(t,e)}function K3(){return null}var cD=typeof reportError=="function"?reportError:function(t){console.error(t)};function kx(t){this._internalRoot=t}hg.prototype.render=kx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));fg(t,e,null,null)};hg.prototype.unmount=kx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ma(function(){fg(null,t,null,null)}),e[Ai]=null}};function hg(t){this._internalRoot=t}hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=BM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&zM(t)}};function Rx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y1(){}function q3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Sp(a);o.call(u)}}var a=uD(e,r,t,0,null,!1,!1,"",y1);return t._reactRootContainer=a,t[Ai]=a.current,Kc(t.nodeType===8?t.parentNode:t),Ma(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Sp(l);s.call(u)}}var l=Ix(t,0,!1,null,null,!1,!1,"",y1);return t._reactRootContainer=l,t[Ai]=l.current,Kc(t.nodeType===8?t.parentNode:t),Ma(function(){fg(e,l,n,r)}),l}function pg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Sp(a);s.call(l)}}fg(e,a,t,i)}else a=q3(n,e,t,i,r);return Sp(a)}VM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(Qb(e,n|1),Cn(e,vt()),!(Re&6)&&(ul=vt()+500,Vo()))}break;case 13:Ma(function(){var r=Pi(t,1);if(r!==null){var i=xn();Cr(r,t,1,i)}}),Cx(t,1)}};Jb=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=xn();Cr(e,t,134217728,n)}Cx(t,134217728)}};FM=function(t){if(t.tag===13){var e=wo(t),n=Pi(t,e);if(n!==null){var r=xn();Cr(n,t,e,r)}Cx(t,e)}};BM=function(){return Ve};UM=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};$0=function(t,e,n){switch(e){case"input":if(C0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ig(r);if(!i)throw Error(J(90));_M(r),C0(r,i)}}}break;case"textarea":bM(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};OM=Ex;IM=Ma;var G3={usingClientEntryPoint:!1,Events:[nh,xs,ig,AM,PM,Ex]},Bu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X3={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RM(t),t===null?null:t.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||K3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{eg=ad.inject(X3),Fr=ad}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(e))throw Error(J(200));return H3(t,e,null,n)};Gn.createRoot=function(t,e){if(!Rx(t))throw Error(J(299));var n=!1,r="",i=cD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ix(t,1,!1,null,null,n,!1,r,i),t[Ai]=e.current,Kc(t.nodeType===8?t.parentNode:t),new kx(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=RM(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Ma(t)};Gn.hydrate=function(t,e,n){if(!dg(e))throw Error(J(200));return pg(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!Rx(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=cD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=uD(e,null,t,1,n??null,i,!1,o,a),t[Ai]=e.current,Kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hg(e)};Gn.render=function(t,e,n){if(!dg(e))throw Error(J(200));return pg(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!dg(t))throw Error(J(40));return t._reactRootContainer?(Ma(function(){pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Gn.unstable_batchedUpdates=Ex;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return pg(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function fD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fD)}catch(t){console.error(t)}}fD(),fM.exports=Gn;var Y3=fM.exports,v1=Y3;S0.createRoot=v1.createRoot,S0.hydrateRoot=v1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const _1="popstate";function Q3(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return g_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tp(i)}return Z3(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J3(){return Math.random().toString(36).substr(2,8)}function w1(t,e){return{usr:t.state,key:t.key,idx:e}}function g_(t,e,n,r){return n===void 0&&(n=null),tf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ql(e):e,{state:n,key:e&&e.key||r||J3()})}function Tp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=lo.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(tf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=lo.Pop;let m=c(),y=m==null?null:m-u;u=m,l&&l({action:s,location:v.location,delta:y})}function d(m,y){s=lo.Push;let _=g_(v.location,m,y);u=c()+1;let w=w1(_,u),A=v.createHref(_);try{a.pushState(w,"",A)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(A)}o&&l&&l({action:s,location:v.location,delta:1})}function p(m,y){s=lo.Replace;let _=g_(v.location,m,y);u=c();let w=w1(_,u),A=v.createHref(_);a.replaceState(w,"",A),o&&l&&l({action:s,location:v.location,delta:0})}function g(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof m=="string"?m:Tp(m);return _=_.replace(/ $/,"%20"),wt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let v={get action(){return s},get location(){return t(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_1,f),l=m,()=>{i.removeEventListener(_1,f),l=null}},createHref(m){return e(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(m){return a.go(m)}};return v}var b1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(b1||(b1={}));function ez(t,e,n){return n===void 0&&(n="/"),tz(t,e,n)}function tz(t,e,n,r){let i=typeof e=="string"?Ql(e):e,o=Nx(i.pathname||"/",n);if(o==null)return null;let a=hD(t);nz(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=pz(o);s=fz(a[l],u)}return s}function hD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hD(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:uz(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of dD(o.path))i(o,a,l)}),e}function dD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=dD(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function nz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rz=/^:[\w-]+$/,iz=3,oz=2,az=1,sz=10,lz=-2,x1=t=>t==="*";function uz(t,e){let n=t.split("/"),r=n.length;return n.some(x1)&&(r+=lz),e&&(r+=oz),n.filter(i=>!x1(i)).reduce((i,o)=>i+(rz.test(o)?iz:o===""?az:sz),r)}function cz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fz(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=hz({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:xo([o,f.pathname]),pathnameBase:_z(xo([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=xo([o,f.pathnameBase]))}return a}function hz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let v=s[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function dz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const mz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gz=t=>mz.test(t);function yz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ql(t):t,o;if(n)if(gz(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Mx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=S1(n.substring(1),"/"):o=S1(n,e)}else o=e;return{pathname:o,search:wz(r),hash:bz(i)}}function S1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dx(t,e){let n=vz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ql(t):(i=tf({},t),wt(!i.pathname||!i.pathname.includes("?"),xv("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),xv("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),xv("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=yz(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),_z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pD=["post","put","patch","delete"];new Set(pD);const Sz=["get",...pD];new Set(Sz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}const $x=D.createContext(null),Tz=D.createContext(null),Fo=D.createContext(null),mg=D.createContext(null),Vi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),mD=D.createContext(null);function Ez(t,e){let{relative:n}=e===void 0?{}:e;Jl()||wt(!1);let{basename:r,navigator:i}=D.useContext(Fo),{hash:o,pathname:a,search:s}=yD(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:xo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Jl(){return D.useContext(mg)!=null}function qa(){return Jl()||wt(!1),D.useContext(mg).location}function gD(t){D.useContext(Fo).static||D.useLayoutEffect(t)}function gg(){let{isDataRoute:t}=D.useContext(Vi);return t?Lz():Az()}function Az(){Jl()||wt(!1);let t=D.useContext($x),{basename:e,future:n,navigator:r}=D.useContext(Fo),{matches:i}=D.useContext(Vi),{pathname:o}=qa(),a=JSON.stringify(Dx(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return gD(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=jx(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function Lx(){let{matches:t}=D.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function yD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Fo),{matches:i}=D.useContext(Vi),{pathname:o}=qa(),a=JSON.stringify(Dx(i,r.v7_relativeSplatPath));return D.useMemo(()=>jx(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function Pz(t,e){return Oz(t,e)}function Oz(t,e,n,r){Jl()||wt(!1);let{navigator:i}=D.useContext(Fo),{matches:o}=D.useContext(Vi),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=qa(),c;if(e){var f;let m=typeof e=="string"?Ql(e):e;l==="/"||(f=m.pathname)!=null&&f.startsWith(l)||wt(!1),c=m}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=ez(t,{pathname:p}),v=Mz(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:xo([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:xo([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return e&&v?D.createElement(mg.Provider,{value:{location:nf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:lo.Pop}},v):v}function Iz(){let t=$z(),e=xz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const Cz=D.createElement(Iz,null);class kz extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Vi.Provider,{value:this.props.routeContext},D.createElement(mD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rz(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext($x);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Vi.Provider,{value:e},r)}function Mz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||wt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,g=!1,v=null,m=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||Cz,l&&(u<0&&d===0?(Vz("route-fallback"),g=!0,m=null):u===d&&(g=!0,m=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,d+1)),_=()=>{let w;return p?w=v:g?w=m:f.route.Component?w=D.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,D.createElement(Rz,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?D.createElement(kz,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var vD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vD||{}),_D=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_D||{});function Nz(t){let e=D.useContext($x);return e||wt(!1),e}function Dz(t){let e=D.useContext(Tz);return e||wt(!1),e}function jz(t){let e=D.useContext(Vi);return e||wt(!1),e}function wD(t){let e=jz(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function $z(){var t;let e=D.useContext(mD),n=Dz(),r=wD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Lz(){let{router:t}=Nz(vD.UseNavigateStable),e=wD(_D.UseNavigateStable),n=D.useRef(!1);return gD(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nf({fromRouteId:e},o)))},[t,e])}const T1={};function Vz(t,e,n){T1[t]||(T1[t]=!0)}function Fz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bz(t){let{to:e,replace:n,state:r,relative:i}=t;Jl()||wt(!1);let{future:o,static:a}=D.useContext(Fo),{matches:s}=D.useContext(Vi),{pathname:l}=qa(),u=gg(),c=jx(e,Dx(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ra(t){wt(!1)}function Uz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lo.Pop,navigator:o,static:a=!1,future:s}=t;Jl()&&wt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:a,future:nf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ql(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:g="default"}=r,v=D.useMemo(()=>{let m=Nx(c,l);return m==null?null:{location:{pathname:m,search:f,hash:d,state:p,key:g},navigationType:i}},[l,c,f,d,p,g,i]);return v==null?null:D.createElement(Fo.Provider,{value:u},D.createElement(mg.Provider,{children:n,value:v}))}function zz(t){let{children:e,location:n}=t;return Pz(y_(e),n)}new Promise(()=>{});function y_(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,y_(r.props.children,o));return}r.type!==ra&&wt(!1),!r.props.index||!r.props.children||wt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=y_(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function Wz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kz(t,e){return t.button===0&&(!e||e==="_self")&&!Hz(t)}const qz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gz="6";try{window.__reactRouterVersion=Gz}catch{}const Xz="startTransition",E1=VU[Xz];function Yz(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=Q3({window:i,v5Compat:!0}));let a=o.current,[s,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&E1?E1(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.useEffect(()=>Fz(r),[r]),D.createElement(Uz,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const Qz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=Wz(e,qz),{basename:p}=D.useContext(Fo),g,v=!1;if(typeof u=="string"&&Jz.test(u)&&(g=u,Qz))try{let w=new URL(window.location.href),A=u.startsWith("//")?new URL(w.protocol+u):new URL(u),x=Nx(A.pathname,p);A.origin===w.origin&&x!=null?u=x+A.search+A.hash:v=!0}catch{}let m=Ez(u,{relative:i}),y=Zz(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(w){r&&r(w),w.defaultPrevented||y(w)}return D.createElement("a",v_({},d,{href:g||m,onClick:v||o?r:_,ref:n,target:l}))});var A1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A1||(A1={}));var P1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P1||(P1={}));function Zz(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=gg(),u=qa(),c=yD(t,{relative:a});return D.useCallback(f=>{if(Kz(f,n)){f.preventDefault();let d=r!==void 0?r:Tp(u)===Tp(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}function e5({size:t=42}){return I.jsxs("svg",{width:t,height:t,viewBox:"0 0 128 128",fill:"none","aria-label":"croissant",children:[I.jsx("path",{d:"M24 72c0-20 18-36 40-36s40 16 40 36-18 30-40 30S24 92 24 72Z",fill:"#E6B566"}),I.jsx("path",{d:"M34 72c0-14 14-26 30-26s30 12 30 26-14 22-30 22S34 86 34 72Z",fill:"#F2CC85"}),I.jsx("path",{d:"M46 58c8 6 28 6 36 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"}),I.jsx("path",{d:"M44 74c10 7 30 7 40 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"}),I.jsx("path",{d:"M50 90c8 5 20 5 28 0",stroke:"#D59C46",strokeWidth:"6",strokeLinecap:"round"})]})}var O1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},xD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new n5;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r5=function(t){const e=bD(t);return xD.encodeByteArray(e,!0)},Ep=function(t){return r5(t).replace(/\./g,"")},SD=function(t){try{return xD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=()=>i5().__FIREBASE_DEFAULTS__,a5=()=>{if(typeof process>"u"||typeof O1>"u")return;const t=O1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SD(t[1]);return e&&JSON.parse(e)},yg=()=>{try{return o5()||a5()||s5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TD=t=>{var e,n;return(n=(e=yg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ED=t=>{const e=TD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AD=()=>{var t;return(t=yg())===null||t===void 0?void 0:t.config},PD=t=>{var e;return(e=yg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ep(JSON.stringify(n)),Ep(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function f5(){var t;const e=(t=yg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m5(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g5(){return!f5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y5(){try{return typeof indexedDB=="object"}catch{return!1}}function v5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_5,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?w5(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ni(i,s,r)}}function w5(t,e){return t.replace(b5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const b5=/\{\$([^}]+)}/g;function x5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ap(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(I1(o)&&I1(a)){if(!Ap(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function S5(t,e){const n=new T5(t,e);return n.subscribe.bind(n)}class T5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sv),i.error===void 0&&(i.error=Sv),i.complete===void 0&&(i.complete=Sv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O5(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P5(t){return t===ia?void 0:t}function O5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const C5={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},k5=Ce.INFO,R5={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},M5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=R5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vx{constructor(e){this.name=e,this._logLevel=k5,this._logHandler=M5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const N5=(t,e)=>e.some(n=>t instanceof n);let C1,k1;function D5(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j5(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OD=new WeakMap,w_=new WeakMap,ID=new WeakMap,Tv=new WeakMap,Fx=new WeakMap;function $5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(So(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OD.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function L5(t){if(w_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});w_.set(t,e)}let b_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V5(t){b_=t(b_)}function F5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ev(this),e,...n);return ID.set(r,e.sort?e.sort():[e]),So(r)}:j5().includes(t)?function(...e){return t.apply(Ev(this),e),So(OD.get(this))}:function(...e){return So(t.apply(Ev(this),e))}}function B5(t){return typeof t=="function"?F5(t):(t instanceof IDBTransaction&&L5(t),N5(t,D5())?new Proxy(t,b_):t)}function So(t){if(t instanceof IDBRequest)return $5(t);if(Tv.has(t))return Tv.get(t);const e=B5(t);return e!==t&&(Tv.set(t,e),Fx.set(e,t)),e}const Ev=t=>Fx.get(t);function U5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=So(a);return r&&a.addEventListener("upgradeneeded",l=>{r(So(a.result),l.oldVersion,l.newVersion,So(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const z5=["get","getKey","getAll","getAllKeys","count"],W5=["put","add","delete","clear"],Av=new Map;function R1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Av.get(e))return Av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z5.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Av.set(e,o),o}V5(t=>({...t,get:(e,n,r)=>R1(e,n)||t.get(e,n,r),has:(e,n)=>!!R1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x_="@firebase/app",M1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Vx("@firebase/app"),q5="@firebase/app-compat",G5="@firebase/analytics-compat",X5="@firebase/analytics",Y5="@firebase/app-check-compat",Q5="@firebase/app-check",J5="@firebase/auth",Z5="@firebase/auth-compat",e9="@firebase/database",t9="@firebase/data-connect",n9="@firebase/database-compat",r9="@firebase/functions",i9="@firebase/functions-compat",o9="@firebase/installations",a9="@firebase/installations-compat",s9="@firebase/messaging",l9="@firebase/messaging-compat",u9="@firebase/performance",c9="@firebase/performance-compat",f9="@firebase/remote-config",h9="@firebase/remote-config-compat",d9="@firebase/storage",p9="@firebase/storage-compat",m9="@firebase/firestore",g9="@firebase/vertexai-preview",y9="@firebase/firestore-compat",v9="firebase",_9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="[DEFAULT]",w9={[x_]:"fire-core",[q5]:"fire-core-compat",[X5]:"fire-analytics",[G5]:"fire-analytics-compat",[Q5]:"fire-app-check",[Y5]:"fire-app-check-compat",[J5]:"fire-auth",[Z5]:"fire-auth-compat",[e9]:"fire-rtdb",[t9]:"fire-data-connect",[n9]:"fire-rtdb-compat",[r9]:"fire-fn",[i9]:"fire-fn-compat",[o9]:"fire-iid",[a9]:"fire-iid-compat",[s9]:"fire-fcm",[l9]:"fire-fcm-compat",[u9]:"fire-perf",[c9]:"fire-perf-compat",[f9]:"fire-rc",[h9]:"fire-rc-compat",[d9]:"fire-gcs",[p9]:"fire-gcs-compat",[m9]:"fire-fst",[y9]:"fire-fst-compat",[g9]:"fire-vertex","fire-js":"fire-js",[v9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,b9=new Map,T_=new Map;function N1(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(T_.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,t);for(const n of Pp.values())N1(n,t);for(const n of b9.values())N1(n,t);return!0}function vg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new ih("app","Firebase",x9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=_9;function CD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:S_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=AD()),!n)throw To.create("no-options");const o=Pp.get(i);if(o){if(Ap(n,o.options)&&Ap(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}const a=new I5(i);for(const l of T_.values())a.addComponent(l);const s=new S9(n,r,a);return Pp.set(i,s),s}function Bx(t=S_){const e=Pp.get(t);if(!e&&t===S_&&AD())return CD();if(!e)throw To.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=w9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(s.join(" "));return}Na(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="firebase-heartbeat-database",E9=1,rf="firebase-heartbeat-store";let Pv=null;function kD(){return Pv||(Pv=U5(T9,E9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw To.create("idb-open",{originalErrorMessage:t.message})})),Pv}async function A9(t){try{const n=(await kD()).transaction(rf),r=await n.objectStore(rf).get(RD(t));return await n.done,r}catch(e){if(e instanceof ni)Ii.warn(e.message);else{const n=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function D1(t,e){try{const r=(await kD()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,RD(t)),await r.done}catch(n){if(n instanceof ni)Ii.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function RD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1024,O9=30*24*60*60*1e3;class I9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=j1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=O9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j1(),{heartbeatsToSend:r,unsentEntries:i}=C9(this._heartbeatsCache.heartbeats),o=Ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}}}function j1(){return new Date().toISOString().substring(0,10)}function C9(t,e=P9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),$1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y5()?v5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return D1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $1(t){return Ep(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){Na(new Co("platform-logger",e=>new H5(e),"PRIVATE")),Na(new Co("heartbeat",e=>new I9(e),"PRIVATE")),Ur(x_,M1,t),Ur(x_,M1,"esm2017"),Ur("fire-js","")}R9("");var M9="firebase",N9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(M9,N9,"app");function Ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D9=MD,ND=new ih("auth","Firebase",MD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Vx("@firebase/auth");function j9(t,...e){Op.logLevel<=Ce.WARN&&Op.warn(`Auth (${Zl}): ${t}`,...e)}function Ud(t,...e){Op.logLevel<=Ce.ERROR&&Op.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw zx(t,...e)}function zr(t,...e){return zx(t,...e)}function DD(t,e,n){const r=Object.assign(Object.assign({},D9()),{[e]:n});return new ih("auth","Firebase",r).create(e,{appName:t.name})}function Eo(t){return DD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ND.create(t,...e)}function ge(t,e,...n){if(!t)throw zx(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function ki(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $9(){return L1()==="http:"||L1()==="https:"}function L1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($9()||d5()||"connection"in navigator)?navigator.onLine:!0}function V9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=c5()||p5()}get(){return L9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new ah(3e4,6e4);function _g(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eu(t,e,n,r,i={}){return $D(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=oh(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return h5()||(u.referrerPolicy="no-referrer"),jD.fetch()(VD(t,t.config.apiHost,n,s),u)})}async function $D(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},F9),e);try{const i=new U9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw sd(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw sd(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DD(t,c,u);Ci(t,c)}}catch(i){if(i instanceof ni)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function LD(t,e,n,r,i={}){const o=await eu(t,e,n,r,i);return"mfaPendingCredential"in o&&Ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}function VD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Wx(t.config,i):`${t.config.apiScheme}://${i}`}class U9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),B9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e){return eu(t,"POST","/v1/accounts:delete",e)}async function FD(t,e){return eu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(t,e=!1){const n=bt(t),r=await n.getIdToken(e),i=Hx(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:bc(Ov(i.auth_time)),issuedAtTime:bc(Ov(i.iat)),expirationTime:bc(Ov(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ov(t){return Number(t)*1e3}function Hx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=SD(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V1(t){const e=Hx(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&W9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){var e;const n=t.auth,r=await t.getIdToken(),i=await of(t,FD(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UD(o.providerUserInfo):[],s=q9(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new A_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function K9(t){const e=bt(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UD(t){return t.map(e=>{var{providerId:n}=e,r=Ux(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e){const n=await $D(t,{},async()=>{const r=oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=VD(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",jD.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X9(t,e){return eu(t,"POST","/v2/accounts:revokeToken",_g(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=V1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await G9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ws;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ux(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new A_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await of(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BD(this,e)}reload(){return K9(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Eo(this.auth));const e=await this.getIdToken();return await of(this,z9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(s=n.tenantId)!==null&&s!==void 0?s:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:A,isAnonymous:x,providerData:E,stsTokenManager:S}=n;ge(w&&S,e,"internal-error");const T=Ws.fromJSON(this.name,S);ge(typeof w=="string",e,"internal-error"),qi(f,e.name),qi(d,e.name),ge(typeof A=="boolean",e,"internal-error"),ge(typeof x=="boolean",e,"internal-error"),qi(p,e.name),qi(g,e.name),qi(v,e.name),qi(m,e.name),qi(y,e.name),qi(_,e.name);const P=new di({uid:w,auth:e,email:d,emailVerified:A,displayName:f,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:_});return E&&Array.isArray(E)&&(P.providerData=E.map(C=>Object.assign({},C))),m&&(P._redirectEventId=m),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ws;i.updateFromServerResponse(n);const o=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?UD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Ws;s.updateFromIdToken(r);const l=new di({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new A_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;function pi(t){ki(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zD.type="NONE";const B1=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(pi(B1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||pi(B1);const a=zd(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=di._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Hs(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Hs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XD(e))return"Blackberry";if(YD(e))return"Webos";if(HD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(GD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WD(t=yn()){return/firefox\//i.test(t)}function HD(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=yn()){return/crios\//i.test(t)}function qD(t=yn()){return/iemobile/i.test(t)}function GD(t=yn()){return/android/i.test(t)}function XD(t=yn()){return/blackberry/i.test(t)}function YD(t=yn()){return/webos/i.test(t)}function Kx(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y9(t=yn()){var e;return Kx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q9(){return m5()&&document.documentMode===10}function QD(t=yn()){return Kx(t)||GD(t)||YD(t)||XD(t)||/windows phone/i.test(t)||qD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e=[]){let n;switch(t){case"Browser":n=U1(yn());break;case"Worker":n=`${U1(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e={}){return eu(t,"GET","/v2/passwordPolicy",_g(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=6;class t6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:e6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z1(this),this.idTokenSubscription=new z1(this),this.beforeStateQueue=new J9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FD(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Eo(this));const n=e?bt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z9(this),n=new t6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ih("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wg(t){return bt(t)}class z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=S5(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r6(t){qx=t}function i6(t){return qx.loadJS(t)}function o6(){return qx.gapiScript}function a6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){const n=vg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ap(o,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function l6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u6(t,e,n){const r=wg(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ZD(e),{host:a,port:s}=c6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),f6()}function ZD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c6(t){const e=ZD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:W1(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:W1(a)}}}function W1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return LD(t,"POST","/v1/accounts:signInWithIdp",_g(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="http://localhost";class Da extends ej{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ux(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Da(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ks(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:h6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends tj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends sh{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends sh{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends sh{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e){return LD(t,"POST","/v1/accounts:signUp",_g(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await di._fromIdTokenResponse(e,r,i),a=H1(r);return new ko({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=H1(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t){var e;if(fi(t.app))return Promise.reject(Eo(t));const n=wg(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ko({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await d6(n,{returnSecureToken:!0}),i=await ko._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends ni{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function nj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,o,e,r):o})}async function m6(t,e,n=!1){const r=await of(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Eo(r));const i="reauthenticate";try{const o=await of(t,nj(r,i,e,t),n);ge(o.idToken,r,"internal-error");const a=Hx(o.idToken);ge(a,r,"internal-error");const{sub:s}=a;return ge(t.uid===s,r,"user-mismatch"),ko._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e,n=!1){if(fi(t.app))return Promise.reject(Eo(t));const r="signIn",i=await nj(t,r,e),o=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){return bt(t).setPersistence(e)}function rj(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function _6(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function w6(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=1e3,x6=10;class oj extends ij{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Q9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oj.type="LOCAL";const S6=oj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends ij{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aj.type="SESSION";const Gx=aj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await T6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Xx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function A6(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function P6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I6(){return sj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="firebaseLocalStorageDb",C6=1,Rp="firebaseLocalStorage",uj="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xg(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function k6(){const t=indexedDB.deleteDatabase(lj);return new lh(t).toPromise()}function P_(){const t=indexedDB.open(lj,C6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:uj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await k6(),e(await P_()))})})}async function K1(t,e,n){const r=xg(t,!0).put({[uj]:e,value:n});return new lh(r).toPromise()}async function R6(t,e){const n=xg(t,!1).get(e),r=await new lh(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=xg(t,!0).delete(e);return new lh(n).toPromise()}const M6=800,N6=3;class cj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(I6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P6(),!this.activeServiceWorker)return;this.sender=new E6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await K1(e,kp,"1"),await q1(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=xg(i,!1).getAll();return new lh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cj.type="LOCAL";const D6=cj;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){return e?pi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends ej{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $6(t){return y6(t.auth,new Yx(t),t.bypassAuthState)}function L6(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),g6(n,new Yx(t),t.bypassAuthState)}async function V6(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),m6(n,new Yx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $6;case"linkViaPopup":case"linkViaRedirect":return V6;case"reauthViaPopup":case"reauthViaRedirect":return L6;default:Ci(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new ah(2e3,1e4);class Is extends fj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F6.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="pendingRedirect",Wd=new Map;class U6 extends fj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await z6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z6(t,e){const n=K6(e),r=H6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W6(t,e){Wd.set(t._key(),e)}function H6(t){return pi(t._redirectPersistence)}function K6(t){return zd(B6,t.config.apiKey,t.name)}async function q6(t,e,n=!1){if(fi(t.app))return Promise.reject(Eo(t));const r=wg(t),i=j6(r,e),a=await new U6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=10*60*1e3;class X6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G6&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e={}){return eu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z6=/^https?/;async function eW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q6(t);for(const n of e)try{if(tW(n))return}catch{}Ci(t,"unauthorized-domain")}function tW(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Z6.test(n))return!1;if(J6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=new ah(3e4,6e4);function X1(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rW(t){return new Promise((e,n)=>{var r,i,o;function a(){X1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X1(),n(zr(t,"network-request-failed"))},timeout:nW.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Wr().gapi)===null||o===void 0)&&o.load)a();else{const s=a6("iframefcb");return Wr()[s]=()=>{gapi.load?a():n(zr(t,"network-request-failed"))},i6(`${o6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function iW(t){return Hd=Hd||rW(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new ah(5e3,15e3),aW="__/auth/iframe",sW="emulator/auth/iframe",lW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cW(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wx(e,sW):`https://${t.config.authDomain}/${aW}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},i=uW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${oh(r).slice(1)}`}async function fW(t){const e=await iW(t),n=Wr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:cW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),s=Wr().setTimeout(()=>{o(a)},oW.get());function l(){Wr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dW=500,pW=600,mW="_blank",gW="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yW(t,e,n,r=dW,i=pW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},hW),{width:r.toString(),height:i.toString(),top:o,left:a}),u=yn().toLowerCase();n&&(s=KD(u)?mW:n),WD(u)&&(e=e||gW,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(Y9(u)&&s!=="_self")return vW(e||"",s),new Y1(null);const f=window.open(e||"",s,c);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new Y1(f)}function vW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W="__/auth/handler",wW="emulator/auth/handler",bW=encodeURIComponent("fac");async function Q1(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:i};if(e instanceof tj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",x5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof sh){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${bW}=${encodeURIComponent(l)}`:"";return`${xW(t)}?${oh(s).slice(1)}${u}`}function xW({config:t}){return t.emulator?Wx(t,wW):`https://${t.authDomain}/${_W}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="webStorageSupport";class SW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gx,this._completeRedirectFn=q6,this._overrideRedirectResult=W6}async _openPopup(e,n,r,i){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Q1(e,n,r,E_(),i);return yW(e,a,Xx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Q1(e,n,r,E_(),i);return A6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fW(e),r=new X6(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Iv,{type:Iv},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Iv];a!==void 0&&n(!!a),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QD()||HD()||Kx()}}const TW=SW;var J1="@firebase/auth",Z1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PW(t){Na(new Co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JD(t)},u=new n6(r,i,o,l);return l6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new Co("auth-internal",e=>{const n=wg(e.getProvider("auth").getImmediate());return(r=>new EW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(J1,Z1,AW(t)),Ur(J1,Z1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=5*60,IW=PD("authIdTokenMaxAge")||OW;let eP=null;const CW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IW)return;const i=n==null?void 0:n.token;eP!==i&&(eP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kW(t=Bx()){const e=vg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s6(t,{popupRedirectResolver:TW,persistence:[D6,S6,Gx]}),r=PD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=CW(o.toString());_6(n,a,()=>a(n.currentUser)),rj(n,s=>a(s))}}const i=TD("auth");return i&&u6(n,`http://${i}`),n}function RW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}r6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",RW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PW("Browser");var tP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,dj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function P(){}P.prototype=T.prototype,S.D=T.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(C,k,M){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return T.prototype[k].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,P){P||(P=0);var C=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)C[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)C[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=S.g[0],P=S.g[1],k=S.g[2];var M=S.g[3],R=T+(M^P&(k^M))+C[0]+3614090360&4294967295;T=P+(R<<7&4294967295|R>>>25),R=M+(k^T&(P^k))+C[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(P^M&(T^P))+C[2]+606105819&4294967295,k=M+(R<<17&4294967295|R>>>15),R=P+(T^k&(M^T))+C[3]+3250441966&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(M^P&(k^M))+C[4]+4118548399&4294967295,T=P+(R<<7&4294967295|R>>>25),R=M+(k^T&(P^k))+C[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(P^M&(T^P))+C[6]+2821735955&4294967295,k=M+(R<<17&4294967295|R>>>15),R=P+(T^k&(M^T))+C[7]+4249261313&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(M^P&(k^M))+C[8]+1770035416&4294967295,T=P+(R<<7&4294967295|R>>>25),R=M+(k^T&(P^k))+C[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(P^M&(T^P))+C[10]+4294925233&4294967295,k=M+(R<<17&4294967295|R>>>15),R=P+(T^k&(M^T))+C[11]+2304563134&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(M^P&(k^M))+C[12]+1804603682&4294967295,T=P+(R<<7&4294967295|R>>>25),R=M+(k^T&(P^k))+C[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(P^M&(T^P))+C[14]+2792965006&4294967295,k=M+(R<<17&4294967295|R>>>15),R=P+(T^k&(M^T))+C[15]+1236535329&4294967295,P=k+(R<<22&4294967295|R>>>10),R=T+(k^M&(P^k))+C[1]+4129170786&4294967295,T=P+(R<<5&4294967295|R>>>27),R=M+(P^k&(T^P))+C[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(M^T))+C[11]+643717713&4294967295,k=M+(R<<14&4294967295|R>>>18),R=P+(M^T&(k^M))+C[0]+3921069994&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(P^k))+C[5]+3593408605&4294967295,T=P+(R<<5&4294967295|R>>>27),R=M+(P^k&(T^P))+C[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(M^T))+C[15]+3634488961&4294967295,k=M+(R<<14&4294967295|R>>>18),R=P+(M^T&(k^M))+C[4]+3889429448&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(P^k))+C[9]+568446438&4294967295,T=P+(R<<5&4294967295|R>>>27),R=M+(P^k&(T^P))+C[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(M^T))+C[3]+4107603335&4294967295,k=M+(R<<14&4294967295|R>>>18),R=P+(M^T&(k^M))+C[8]+1163531501&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(P^k))+C[13]+2850285829&4294967295,T=P+(R<<5&4294967295|R>>>27),R=M+(P^k&(T^P))+C[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^P&(M^T))+C[7]+1735328473&4294967295,k=M+(R<<14&4294967295|R>>>18),R=P+(M^T&(k^M))+C[12]+2368359562&4294967295,P=k+(R<<20&4294967295|R>>>12),R=T+(P^k^M)+C[5]+4294588738&4294967295,T=P+(R<<4&4294967295|R>>>28),R=M+(T^P^k)+C[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^P)+C[11]+1839030562&4294967295,k=M+(R<<16&4294967295|R>>>16),R=P+(k^M^T)+C[14]+4259657740&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^M)+C[1]+2763975236&4294967295,T=P+(R<<4&4294967295|R>>>28),R=M+(T^P^k)+C[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^P)+C[7]+4139469664&4294967295,k=M+(R<<16&4294967295|R>>>16),R=P+(k^M^T)+C[10]+3200236656&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^M)+C[13]+681279174&4294967295,T=P+(R<<4&4294967295|R>>>28),R=M+(T^P^k)+C[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^P)+C[3]+3572445317&4294967295,k=M+(R<<16&4294967295|R>>>16),R=P+(k^M^T)+C[6]+76029189&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(P^k^M)+C[9]+3654602809&4294967295,T=P+(R<<4&4294967295|R>>>28),R=M+(T^P^k)+C[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^P)+C[15]+530742520&4294967295,k=M+(R<<16&4294967295|R>>>16),R=P+(k^M^T)+C[2]+3299628645&4294967295,P=k+(R<<23&4294967295|R>>>9),R=T+(k^(P|~M))+C[0]+4096336452&4294967295,T=P+(R<<6&4294967295|R>>>26),R=M+(P^(T|~k))+C[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~P))+C[14]+2878612391&4294967295,k=M+(R<<15&4294967295|R>>>17),R=P+(M^(k|~T))+C[5]+4237533241&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~M))+C[12]+1700485571&4294967295,T=P+(R<<6&4294967295|R>>>26),R=M+(P^(T|~k))+C[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~P))+C[10]+4293915773&4294967295,k=M+(R<<15&4294967295|R>>>17),R=P+(M^(k|~T))+C[1]+2240044497&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~M))+C[8]+1873313359&4294967295,T=P+(R<<6&4294967295|R>>>26),R=M+(P^(T|~k))+C[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~P))+C[6]+2734768916&4294967295,k=M+(R<<15&4294967295|R>>>17),R=P+(M^(k|~T))+C[13]+1309151649&4294967295,P=k+(R<<21&4294967295|R>>>11),R=T+(k^(P|~M))+C[4]+4149444226&4294967295,T=P+(R<<6&4294967295|R>>>26),R=M+(P^(T|~k))+C[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~P))+C[2]+718787259&4294967295,k=M+(R<<15&4294967295|R>>>17),R=P+(M^(k|~T))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var P=T-this.blockSize,C=this.B,k=this.h,M=0;M<T;){if(k==0)for(;M<=P;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<T;)if(C[k++]=S.charCodeAt(M++),k==this.blockSize){i(this,C),k=0;break}}else for(;M<T;)if(C[k++]=S[M++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var P=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=P&255,P/=256;for(this.u(S),S=Array(16),T=P=0;4>T;++T)for(var C=0;32>C;C+=8)S[P++]=this.g[T]>>>C&255;return S};function o(S,T){var P=s;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=T(S)}function a(S,T){this.h=T;for(var P=[],C=!0,k=S.length-1;0<=k;k--){var M=S[k]|0;C&&M==T||(P[k]=M,C=!1)}this.g=P}var s={};function l(S){return-128<=S&&128>S?o(S,function(T){return new a([T|0],0>T?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return m(u(-S));for(var T=[],P=1,C=0;S>=P;C++)T[C]=S/P|0,P*=4294967296;return new a(T,0)}function c(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return m(c(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),C=f,k=0;k<S.length;k+=8){var M=Math.min(8,S.length-k),R=parseInt(S.substring(k,k+M),T);8>M?(M=u(Math.pow(T,M)),C=C.j(M).add(u(R))):(C=C.j(P),C=C.add(u(R)))}return C}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-m(this).m();for(var S=0,T=1,P=0;P<this.g.length;P++){var C=this.i(P);S+=(0<=C?C:4294967296+C)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(v(this))return"-"+m(this).toString(S);for(var T=u(Math.pow(S,6)),P=this,C="";;){var k=A(P,T).g;P=y(P,k.j(T));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=k,g(P))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=y(this,S),v(S)?-1:g(S)?0:1};function m(S){for(var T=S.g.length,P=[],C=0;C<T;C++)P[C]=~S.g[C];return new a(P,~S.h).add(d)}t.abs=function(){return v(this)?m(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),P=[],C=0,k=0;k<=T;k++){var M=C+(this.i(k)&65535)+(S.i(k)&65535),R=(M>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);C=R>>>16,M&=65535,R&=65535,P[k]=R<<16|M}return new a(P,P[P.length-1]&-2147483648?-1:0)};function y(S,T){return S.add(m(T))}t.j=function(S){if(g(this)||g(S))return f;if(v(this))return v(S)?m(this).j(m(S)):m(m(this).j(S));if(v(S))return m(this.j(m(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,P=[],C=0;C<2*T;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<S.g.length;k++){var M=this.i(C)>>>16,R=this.i(C)&65535,V=S.i(k)>>>16,F=S.i(k)&65535;P[2*C+2*k]+=R*F,_(P,2*C+2*k),P[2*C+2*k+1]+=M*F,_(P,2*C+2*k+1),P[2*C+2*k+1]+=R*V,_(P,2*C+2*k+1),P[2*C+2*k+2]+=M*V,_(P,2*C+2*k+2)}for(C=0;C<T;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=T;C<2*T;C++)P[C]=0;return new a(P,0)};function _(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function w(S,T){this.g=S,this.h=T}function A(S,T){if(g(T))throw Error("division by zero");if(g(S))return new w(f,f);if(v(S))return T=A(m(S),T),new w(m(T.g),m(T.h));if(v(T))return T=A(S,m(T)),new w(m(T.g),T.h);if(30<S.g.length){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,C=T;0>=C.l(S);)P=x(P),C=x(C);var k=E(P,1),M=E(C,1);for(C=E(C,2),P=E(P,2);!g(C);){var R=M.add(C);0>=R.l(S)&&(k=k.add(P),M=R),C=E(C,1),P=E(P,1)}return T=y(S,k.j(T)),new w(k,T)}for(k=f;0<=S.l(T);){for(P=Math.max(1,Math.floor(S.m()/T.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(P),R=M.j(T);v(R)||0<R.l(S);)P-=C,M=u(P),R=M.j(T);g(M)&&(M=d),k=k.add(M),S=y(S,R)}return new w(k,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)&S.i(C);return new a(P,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)|S.i(C);return new a(P,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),P=[],C=0;C<T;C++)P[C]=this.i(C)^S.i(C);return new a(P,this.h^S.h)};function x(S){for(var T=S.g.length+1,P=[],C=0;C<T;C++)P[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(P,S.h)}function E(S,T){var P=T>>5;T%=32;for(var C=S.g.length-P,k=[],M=0;M<C;M++)k[M]=0<T?S.i(M+P)>>>T|S.i(M+P+1)<<32-T:S.i(M+P);return new a(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dj=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Sa=a}).apply(typeof tP<"u"?tP:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pj,ic,mj,Kd,O_,gj,yj,vj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,O){return h==Array.prototype||h==Object.prototype||(h[b]=O.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var b=0;b<h.length;++b){var O=h[b];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(h,b){if(b)e:{var O=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var L=h[N];if(!(L in O))break e;O=O[L]}h=h[h.length-1],N=O[h],b=b(N),b!=N&&b!=null&&e(O,h,{configurable:!0,writable:!0,value:b})}}function o(h,b){h instanceof String&&(h+="");var O=0,N=!1,L={next:function(){if(!N&&O<h.length){var z=O++;return{value:b(z,h[z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return o(this,function(b,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function u(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,O){return h.call.apply(h.bind,arguments)}function f(h,b,O){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),h.apply(b,L)}}return function(){return h.apply(b,arguments)}}function d(h,b,O){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,b){var O=Array.prototype.slice.call(arguments,1);return function(){var N=O.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function g(h,b){function O(){}O.prototype=b.prototype,h.aa=b.prototype,h.prototype=new O,h.prototype.constructor=h,h.Qb=function(N,L,z){for(var ne=Array(arguments.length-2),We=2;We<arguments.length;We++)ne[We-2]=arguments[We];return b.prototype[L].apply(N,ne)}}function v(h){const b=h.length;if(0<b){const O=Array(b);for(let N=0;N<b;N++)O[N]=h[N];return O}return[]}function m(h,b){for(let O=1;O<arguments.length;O++){const N=arguments[O];if(l(N)){const L=h.length||0,z=N.length||0;h.length=L+z;for(let ne=0;ne<z;ne++)h[L+ne]=N[ne]}else h.push(N)}}class y{constructor(b,O){this.i=b,this.j=O,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(h){return/^[\s\xa0]*$/.test(h)}function w(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var x=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function E(h,b,O){for(const N in h)b.call(O,h[N],N,h)}function S(h,b){for(const O in h)b.call(void 0,h[O],O,h)}function T(h){const b={};for(const O in h)b[O]=h[O];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,b){let O,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(O in N)h[O]=N[O];for(let z=0;z<P.length;z++)O=P[z],Object.prototype.hasOwnProperty.call(N,O)&&(h[O]=N[O])}}function k(h){var b=1;h=h.split(":");const O=[];for(;0<b&&h.length;)O.push(h.shift()),b--;return h.length&&O.push(h.join(":")),O}function M(h){s.setTimeout(()=>{throw h},0)}function R(){var h=B;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class V{constructor(){this.h=this.g=null}add(b,O){const N=F.get();N.set(b,O),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new y(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,O){this.h=b,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let U,$=!1,B=new V,q=()=>{const h=s.Promise.resolve(void 0);U=()=>{h.then(re)}};var re=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(O){M(O)}var b=F;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const O=()=>{};s.addEventListener("test",O,b),s.removeEventListener("test",O,b)}catch{}return h}();function Ie(h,b){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var O=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(x){e:{try{A(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else O=="mouseover"?b=h.fromElement:O=="mouseout"&&(b=h.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}g(Ie,ie);var Ue={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Z(h,b,O,N,L){this.listener=h,this.proxy=null,this.src=b,this.type=O,this.capture=!!N,this.ha=L,this.key=++Ee,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,b,O,N,L){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var ne=K(h,b,N,L);return-1<ne?(b=h[ne],O||(b.fa=!1)):(b=new Z(b,this.src,z,!!N,L),b.fa=O,h.push(b)),b};function X(h,b){var O=b.type;if(O in h.g){var N=h.g[O],L=Array.prototype.indexOf.call(N,b,void 0),z;(z=0<=L)&&Array.prototype.splice.call(N,L,1),z&&(ce(b),h.g[O].length==0&&(delete h.g[O],h.h--))}}function K(h,b,O,N){for(var L=0;L<h.length;++L){var z=h[L];if(!z.da&&z.listener==b&&z.capture==!!O&&z.ha==N)return L}return-1}var ee="closure_lm_"+(1e6*Math.random()|0),se={};function he(h,b,O,N,L){if(Array.isArray(b)){for(var z=0;z<b.length;z++)he(h,b[z],O,N,L);return null}return O=Nn(O),h&&h[xe]?h.K(b,O,u(N)?!!N.capture:!1,L):Le(h,b,O,!1,N,L)}function Le(h,b,O,N,L,z){if(!b)throw Error("Invalid event type");var ne=u(L)?!!L.capture:!!L,We=tn(h);if(We||(h[ee]=We=new me(h)),O=We.add(b,O,N,ne,z),O.proxy)return O;if(N=pt(),O.proxy=N,N.src=h,N.listener=O,h.addEventListener)Te||(L=ne),L===void 0&&(L=!1),h.addEventListener(b.toString(),N,L);else if(h.attachEvent)h.attachEvent(Pt(b.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return O}function pt(){function h(O){return b.call(h.src,h.listener,O)}const b=nt;return h}function $t(h,b,O,N,L){if(Array.isArray(b))for(var z=0;z<b.length;z++)$t(h,b[z],O,N,L);else N=u(N)?!!N.capture:!!N,O=Nn(O),h&&h[xe]?(h=h.i,b=String(b).toString(),b in h.g&&(z=h.g[b],O=K(z,O,N,L),-1<O&&(ce(z[O]),Array.prototype.splice.call(z,O,1),z.length==0&&(delete h.g[b],h.h--)))):h&&(h=tn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=K(b,O,N,L)),(O=-1<h?b[h]:null)&&mt(O))}function mt(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[xe])X(b.i,h);else{var O=h.type,N=h.proxy;b.removeEventListener?b.removeEventListener(O,N,h.capture):b.detachEvent?b.detachEvent(Pt(O),N):b.addListener&&b.removeListener&&b.removeListener(N),(O=tn(b))?(X(O,h),O.h==0&&(O.src=null,b[ee]=null)):ce(h)}}}function Pt(h){return h in se?se[h]:se[h]="on"+h}function nt(h,b){if(h.da)h=!0;else{b=new Ie(b,this);var O=h.listener,N=h.ha||h.src;h.fa&&mt(h),h=O.call(N,b)}return h}function tn(h){return h=h[ee],h instanceof me?h:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nn(h){return typeof h=="function"?h:(h[Yn]||(h[Yn]=function(b){return h.handleEvent(b)}),h[Yn])}function Ot(){Y.call(this),this.i=new me(this),this.M=this,this.F=null}g(Ot,Y),Ot.prototype[xe]=!0,Ot.prototype.removeEventListener=function(h,b,O,N){$t(this,h,b,O,N)};function zt(h,b){var O,N=h.F;if(N)for(O=[];N;N=N.F)O.push(N);if(h=h.M,N=b.type||b,typeof b=="string")b=new ie(b,h);else if(b instanceof ie)b.target=b.target||h;else{var L=b;b=new ie(N,h),C(b,L)}if(L=!0,O)for(var z=O.length-1;0<=z;z--){var ne=b.g=O[z];L=Ph(ne,N,!0,b)&&L}if(ne=b.g=h,L=Ph(ne,N,!0,b)&&L,L=Ph(ne,N,!1,b)&&L,O)for(z=0;z<O.length;z++)ne=b.g=O[z],L=Ph(ne,N,!1,b)&&L}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var O=h.g[b],N=0;N<O.length;N++)ce(O[N]);delete h.g[b],h.h--}}this.F=null},Ot.prototype.K=function(h,b,O,N){return this.i.add(String(h),b,!1,O,N)},Ot.prototype.L=function(h,b,O,N){return this.i.add(String(h),b,!0,O,N)};function Ph(h,b,O,N){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,z=0;z<b.length;++z){var ne=b[z];if(ne&&!ne.da&&ne.capture==O){var We=ne.listener,Wt=ne.ha||ne.src;ne.fa&&X(h.i,ne),L=We.call(Wt,N)!==!1&&L}}return L&&!N.defaultPrevented}function mE(h,b,O){if(typeof h=="function")O&&(h=d(h,O));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:s.setTimeout(h,b||0)}function gE(h){h.g=mE(()=>{h.g=null,h.i&&(h.i=!1,gE(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class QB extends Y{constructor(b,O){super(),this.m=b,this.l=O,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:gE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bu(h){Y.call(this),this.h=h,this.g={}}g(bu,Y);var yE=[];function vE(h){E(h.g,function(b,O){this.g.hasOwnProperty(O)&&mt(b)},h),h.g={}}bu.prototype.N=function(){bu.aa.N.call(this),vE(this)},bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ny=s.JSON.stringify,JB=s.JSON.parse,ZB=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function Dy(){}Dy.prototype.h=null;function _E(h){return h.h||(h.h=h.i())}function wE(){}var xu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jy(){ie.call(this,"d")}g(jy,ie);function $y(){ie.call(this,"c")}g($y,ie);var Xo={},bE=null;function Oh(){return bE=bE||new Ot}Xo.La="serverreachability";function xE(h){ie.call(this,Xo.La,h)}g(xE,ie);function Su(h){const b=Oh();zt(b,new xE(b))}Xo.STAT_EVENT="statevent";function SE(h,b){ie.call(this,Xo.STAT_EVENT,h),this.stat=b}g(SE,ie);function vn(h){const b=Oh();zt(b,new SE(b,h))}Xo.Ma="timingevent";function TE(h,b){ie.call(this,Xo.Ma,h),this.size=b}g(TE,ie);function Tu(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},b)}function Eu(){this.g=!0}Eu.prototype.xa=function(){this.g=!1};function eU(h,b,O,N,L,z){h.info(function(){if(h.g)if(z)for(var ne="",We=z.split("&"),Wt=0;Wt<We.length;Wt++){var Me=We[Wt].split("=");if(1<Me.length){var nn=Me[0];Me=Me[1];var rn=nn.split("_");ne=2<=rn.length&&rn[1]=="type"?ne+(nn+"="+Me+"&"):ne+(nn+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+b+`
`+O+`
`+ne})}function tU(h,b,O,N,L,z,ne){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+b+`
`+O+`
`+z+" "+ne})}function is(h,b,O,N){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+rU(h,O)+(N?" "+N:"")})}function nU(h,b){h.info(function(){return"TIMEOUT: "+b})}Eu.prototype.info=function(){};function rU(h,b){if(!h.g)return b;if(!b)return null;try{var O=JSON.parse(b);if(O){for(h=0;h<O.length;h++)if(Array.isArray(O[h])){var N=O[h];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return Ny(O)}catch{return b}}var Ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ly;function Ch(){}g(Ch,Dy),Ch.prototype.g=function(){return new XMLHttpRequest},Ch.prototype.i=function(){return{}},Ly=new Ch;function zi(h,b,O,N){this.j=h,this.i=b,this.l=O,this.R=N||1,this.U=new bu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new AE}function AE(){this.i=null,this.g="",this.h=!1}var PE={},Vy={};function Fy(h,b,O){h.L=1,h.v=Nh(ii(b)),h.m=O,h.P=!0,OE(h,null)}function OE(h,b){h.F=Date.now(),kh(h),h.A=ii(h.v);var O=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),UE(O.i,"t",N),h.C=0,O=h.j.J,h.h=new AE,h.g=aA(h.j,O?b:null,!h.m),0<h.O&&(h.M=new QB(d(h.Y,h,h.g),h.O)),b=h.U,O=h.g,N=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(yE[0]=L.toString()),L=yE);for(var z=0;z<L.length;z++){var ne=he(O,L[z],N||b.handleEvent,!1,b.h||b);if(!ne)break;b.g[ne.key]=ne}b=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Su(),eU(h.i,h.u,h.A,h.l,h.R,h.m)}zi.prototype.ca=function(h){h=h.target;const b=this.M;b&&oi(h)==3?b.j():this.Y(h)},zi.prototype.Y=function(h){try{if(h==this.g)e:{const rn=oi(this.g);var b=this.g.Ba();const ss=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||XE(this.g)))){this.J||rn!=4||b==7||(b==8||0>=ss?Su(3):Su(2)),By(this);var O=this.g.Z();this.X=O;t:if(IE(this)){var N=XE(this.g);h="";var L=N.length,z=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),Au(this);var ne="";break t}this.h.i=new s.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,h+=this.h.i.decode(N[b],{stream:!(z&&b==L-1)});N.length=0,this.h.g+=h,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=O==200,tU(this.i,this.u,this.A,this.l,this.R,rn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Wt=this.g;if((We=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(We)){var Me=We;break t}}Me=null}if(O=Me)is(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uy(this,O);else{this.o=!1,this.s=3,vn(12),Yo(this),Au(this);break e}}if(this.P){O=!0;let mr;for(;!this.J&&this.C<ne.length;)if(mr=iU(this,ne),mr==Vy){rn==4&&(this.s=4,vn(14),O=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==PE){this.s=4,vn(15),is(this.i,this.l,ne,"[Invalid Chunk]"),O=!1;break}else is(this.i,this.l,mr,null),Uy(this,mr);if(IE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ne.length!=0||this.h.h||(this.s=1,vn(16),O=!1),this.o=this.o&&O,!O)is(this.i,this.l,ne,"[Invalid Chunked Response]"),Yo(this),Au(this);else if(0<ne.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Gy(nn),nn.M=!0,vn(11))}}else is(this.i,this.l,ne,null),Uy(this,ne);rn==4&&Yo(this),this.o&&!this.J&&(rn==4?nA(this.j,this):(this.o=!1,kh(this)))}else bU(this.g),O==400&&0<ne.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Yo(this),Au(this)}}}catch{}finally{}};function IE(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function iU(h,b){var O=h.C,N=b.indexOf(`
`,O);return N==-1?Vy:(O=Number(b.substring(O,N)),isNaN(O)?PE:(N+=1,N+O>b.length?Vy:(b=b.slice(N,N+O),h.C=N+O,b)))}zi.prototype.cancel=function(){this.J=!0,Yo(this)};function kh(h){h.S=Date.now()+h.I,CE(h,h.I)}function CE(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Tu(d(h.ba,h),b)}function By(h){h.B&&(s.clearTimeout(h.B),h.B=null)}zi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(nU(this.i,this.A),this.L!=2&&(Su(),vn(17)),Yo(this),this.s=2,Au(this)):CE(this,this.S-h)};function Au(h){h.j.G==0||h.J||nA(h.j,h)}function Yo(h){By(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,vE(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Uy(h,b){try{var O=h.j;if(O.G!=0&&(O.g==h||zy(O.h,h))){if(!h.K&&zy(O.h,h)&&O.G==3){try{var N=O.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<h.F)Fh(O),Lh(O);else break e;qy(O),vn(18)}}else O.za=L[1],0<O.za-O.T&&37500>L[2]&&O.F&&O.v==0&&!O.C&&(O.C=Tu(d(O.Za,O),6e3));if(1>=ME(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Jo(O,11)}else if((h.K||O.g==h)&&Fh(O),!_(b))for(L=O.Da.g.parse(b),b=0;b<L.length;b++){let Me=L[b];if(O.T=Me[0],Me=Me[1],O.G==2)if(Me[0]=="c"){O.K=Me[1],O.ia=Me[2];const nn=Me[3];nn!=null&&(O.la=nn,O.j.info("VER="+O.la));const rn=Me[4];rn!=null&&(O.Aa=rn,O.j.info("SVER="+O.Aa));const ss=Me[5];ss!=null&&typeof ss=="number"&&0<ss&&(N=1.5*ss,O.L=N,O.j.info("backChannelRequestTimeoutMs_="+N)),N=O;const mr=h.g;if(mr){const Uh=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uh){var z=N.h;z.g||Uh.indexOf("spdy")==-1&&Uh.indexOf("quic")==-1&&Uh.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Wy(z,z.h),z.h=null))}if(N.D){const Xy=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(N.ya=Xy,Xe(N.I,N.D,Xy))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-h.F,O.j.info("Handshake RTT: "+O.R+"ms")),N=O;var ne=h;if(N.qa=oA(N,N.J?N.ia:null,N.W),ne.K){NE(N.h,ne);var We=ne,Wt=N.L;Wt&&(We.I=Wt),We.B&&(By(We),kh(We)),N.g=ne}else eA(N);0<O.i.length&&Vh(O)}else Me[0]!="stop"&&Me[0]!="close"||Jo(O,7);else O.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Jo(O,7):Ky(O):Me[0]!="noop"&&O.l&&O.l.ta(Me),O.v=0)}}Su(4)}catch{}}var oU=class{constructor(h,b){this.g=h,this.map=b}};function kE(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function RE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ME(h){return h.h?1:h.g?h.g.size:0}function zy(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Wy(h,b){h.g?h.g.add(b):h.h=b}function NE(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}kE.prototype.cancel=function(){if(this.i=DE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function DE(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const O of h.g.values())b=b.concat(O.D);return b}return v(h.i)}function aU(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var b=[],O=h.length,N=0;N<O;N++)b.push(h[N]);return b}b=[],O=0;for(N in h)b[O++]=h[N];return b}function sU(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var b=[];h=h.length;for(var O=0;O<h;O++)b.push(O);return b}b=[],O=0;for(const N in h)b[O++]=N;return b}}}function jE(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var O=sU(h),N=aU(h),L=N.length,z=0;z<L;z++)b.call(void 0,N[z],O&&O[z],h)}var $E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lU(h,b){if(h){h=h.split("&");for(var O=0;O<h.length;O++){var N=h[O].indexOf("="),L=null;if(0<=N){var z=h[O].substring(0,N);L=h[O].substring(N+1)}else z=h[O];b(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qo){this.h=h.h,Rh(this,h.j),this.o=h.o,this.g=h.g,Mh(this,h.s),this.l=h.l;var b=h.i,O=new Iu;O.i=b.i,b.g&&(O.g=new Map(b.g),O.h=b.h),LE(this,O),this.m=h.m}else h&&(b=String(h).match($E))?(this.h=!1,Rh(this,b[1]||"",!0),this.o=Pu(b[2]||""),this.g=Pu(b[3]||"",!0),Mh(this,b[4]),this.l=Pu(b[5]||"",!0),LE(this,b[6]||"",!0),this.m=Pu(b[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}Qo.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Ou(b,VE,!0),":");var O=this.g;return(O||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Ou(b,VE,!0),"@"),h.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&h.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&h.push("/"),h.push(Ou(O,O.charAt(0)=="/"?fU:cU,!0))),(O=this.i.toString())&&h.push("?",O),(O=this.m)&&h.push("#",Ou(O,dU)),h.join("")};function ii(h){return new Qo(h)}function Rh(h,b,O){h.j=O?Pu(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Mh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function LE(h,b,O){b instanceof Iu?(h.i=b,pU(h.i,h.h)):(O||(b=Ou(b,hU)),h.i=new Iu(b,h.h))}function Xe(h,b,O){h.i.set(b,O)}function Nh(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Pu(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ou(h,b,O){return typeof h=="string"?(h=encodeURI(h).replace(b,uU),O&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uU(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var VE=/[#\/\?@]/g,cU=/[#\?:]/g,fU=/[#\?]/g,hU=/[#\?@]/g,dU=/#/g;function Iu(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Wi(h){h.g||(h.g=new Map,h.h=0,h.i&&lU(h.i,function(b,O){h.add(decodeURIComponent(b.replace(/\+/g," ")),O)}))}t=Iu.prototype,t.add=function(h,b){Wi(this),this.i=null,h=os(this,h);var O=this.g.get(h);return O||this.g.set(h,O=[]),O.push(b),this.h+=1,this};function FE(h,b){Wi(h),b=os(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function BE(h,b){return Wi(h),b=os(h,b),h.g.has(b)}t.forEach=function(h,b){Wi(this),this.g.forEach(function(O,N){O.forEach(function(L){h.call(b,L,N,this)},this)},this)},t.na=function(){Wi(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),O=[];for(let N=0;N<b.length;N++){const L=h[N];for(let z=0;z<L.length;z++)O.push(b[N])}return O},t.V=function(h){Wi(this);let b=[];if(typeof h=="string")BE(this,h)&&(b=b.concat(this.g.get(os(this,h))));else{h=Array.from(this.g.values());for(let O=0;O<h.length;O++)b=b.concat(h[O])}return b},t.set=function(h,b){return Wi(this),this.i=null,h=os(this,h),BE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function UE(h,b,O){FE(h,b),0<O.length&&(h.i=null,h.g.set(os(h,b),v(O)),h.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var O=0;O<b.length;O++){var N=b[O];const z=encodeURIComponent(String(N)),ne=this.V(N);for(N=0;N<ne.length;N++){var L=z;ne[N]!==""&&(L+="="+encodeURIComponent(String(ne[N]))),h.push(L)}}return this.i=h.join("&")};function os(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function pU(h,b){b&&!h.j&&(Wi(h),h.i=null,h.g.forEach(function(O,N){var L=N.toLowerCase();N!=L&&(FE(this,N),UE(this,L,O))},h)),h.j=b}function mU(h,b){const O=new Eu;if(s.Image){const N=new Image;N.onload=p(Hi,O,"TestLoadImage: loaded",!0,b,N),N.onerror=p(Hi,O,"TestLoadImage: error",!1,b,N),N.onabort=p(Hi,O,"TestLoadImage: abort",!1,b,N),N.ontimeout=p(Hi,O,"TestLoadImage: timeout",!1,b,N),s.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else b(!1)}function gU(h,b){const O=new Eu,N=new AbortController,L=setTimeout(()=>{N.abort(),Hi(O,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:N.signal}).then(z=>{clearTimeout(L),z.ok?Hi(O,"TestPingServer: ok",!0,b):Hi(O,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),Hi(O,"TestPingServer: error",!1,b)})}function Hi(h,b,O,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(O)}catch{}}function yU(){this.g=new ZB}function vU(h,b,O){const N=O||"";try{jE(h,function(L,z){let ne=L;u(L)&&(ne=Ny(L)),b.push(N+z+"="+encodeURIComponent(ne))})}catch(L){throw b.push(N+"type="+encodeURIComponent("_badmap")),L}}function Dh(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Dh,Dy),Dh.prototype.g=function(){return new jh(this.l,this.j)},Dh.prototype.i=function(h){return function(){return h}}({});function jh(h,b){Ot.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(jh,Ot),t=jh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,ku(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ku(this)),this.g&&(this.readyState=3,ku(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zE(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function zE(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Cu(this):ku(this),this.readyState==3&&zE(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Cu(this))},t.Qa=function(h){this.g&&(this.response=h,Cu(this))},t.ga=function(){this.g&&Cu(this)};function Cu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ku(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var O=b.next();!O.done;)O=O.value,h.push(O[0]+": "+O[1]),O=b.next();return h.join(`\r
`)};function ku(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function WE(h){let b="";return E(h,function(O,N){b+=N,b+=":",b+=O,b+=`\r
`}),b}function Hy(h,b,O){e:{for(N in O){var N=!1;break e}N=!0}N||(O=WE(O),typeof h=="string"?O!=null&&encodeURIComponent(String(O)):Xe(h,b,O))}function ct(h){Ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ct,Ot);var _U=/^https?$/i,wU=["POST","PUT"];t=ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,O,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ly.g(),this.v=this.o?_E(this.o):_E(Ly),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(z){HE(this,z);return}if(h=O||"",O=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)O.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())O.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(O.keys()).find(z=>z.toLowerCase()=="content-type"),L=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(wU,b,void 0))||N||L||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of O)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GE(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){HE(this,z)}};function HE(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,KE(h),$h(h)}function KE(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,zt(this,"complete"),zt(this,"abort"),$h(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$h(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qE(this):this.bb())},t.bb=function(){qE(this)};function qE(h){if(h.h&&typeof a<"u"&&(!h.v[1]||oi(h)!=4||h.Z()!=2)){if(h.u&&oi(h)==4)mE(h.Ea,0,h);else if(zt(h,"readystatechange"),oi(h)==4){h.h=!1;try{const ne=h.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var O;if(!(O=b)){var N;if(N=ne===0){var L=String(h.D).match($E)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),N=!_U.test(L?L.toLowerCase():"")}O=N}if(O)zt(h,"complete"),zt(h,"success");else{h.m=6;try{var z=2<oi(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",KE(h)}}finally{$h(h)}}}}function $h(h,b){if(h.g){GE(h);const O=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||zt(h,"ready");try{O.onreadystatechange=N}catch{}}}function GE(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),JB(b)}};function XE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bU(h){const b={};h=(h.g&&2<=oi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(_(h[N]))continue;var O=k(h[N]);const L=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const z=b[L]||[];b[L]=z,z.push(O)}S(b,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(h,b,O){return O&&O.internalChannelParams&&O.internalChannelParams[h]||b}function YE(h){this.Aa=0,this.i=[],this.j=new Eu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ru("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ru("baseRetryDelayMs",5e3,h),this.cb=Ru("retryDelaySeedMs",1e4,h),this.Wa=Ru("forwardChannelMaxRetries",2,h),this.wa=Ru("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new kE(h&&h.concurrentRequestLimit),this.Da=new yU,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YE.prototype,t.la=8,t.G=1,t.connect=function(h,b,O,N){vn(0),this.W=h,this.H=b||{},O&&N!==void 0&&(this.H.OSID=O,this.H.OAID=N),this.F=this.X,this.I=oA(this,null,this.W),Vh(this)};function Ky(h){if(QE(h),h.G==3){var b=h.U++,O=ii(h.I);if(Xe(O,"SID",h.K),Xe(O,"RID",b),Xe(O,"TYPE","terminate"),Mu(h,O),b=new zi(h,h.j,b),b.L=2,b.v=Nh(ii(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!O&&s.Image&&(new Image().src=b.v,O=!0),O||(b.g=aA(b.j,null),b.g.ea(b.v)),b.F=Date.now(),kh(b)}iA(h)}function Lh(h){h.g&&(Gy(h),h.g.cancel(),h.g=null)}function QE(h){Lh(h),h.u&&(s.clearTimeout(h.u),h.u=null),Fh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Vh(h){if(!RE(h.h)&&!h.s){h.s=!0;var b=h.Ga;U||q(),$||(U(),$=!0),B.add(b,h),h.B=0}}function xU(h,b){return ME(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Tu(d(h.Ga,h,b),rA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new zi(this,this.j,h);let z=this.o;if(this.S&&(z?(z=T(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var b=0,O=0;O<this.i.length;O++){t:{var N=this.i[O];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=O;break e}if(b===4096||O===this.i.length-1){b=O+1;break e}}b=1e3}else b=1e3;b=ZE(this,L,b),O=ii(this.I),Xe(O,"RID",h),Xe(O,"CVER",22),this.D&&Xe(O,"X-HTTP-Session-Id",this.D),Mu(this,O),z&&(this.O?b="headers="+encodeURIComponent(String(WE(z)))+"&"+b:this.m&&Hy(O,this.m,z)),Wy(this.h,L),this.Ua&&Xe(O,"TYPE","init"),this.P?(Xe(O,"$req",b),Xe(O,"SID","null"),L.T=!0,Fy(L,O,null)):Fy(L,O,b),this.G=2}}else this.G==3&&(h?JE(this,h):this.i.length==0||RE(this.h)||JE(this))};function JE(h,b){var O;b?O=b.l:O=h.U++;const N=ii(h.I);Xe(N,"SID",h.K),Xe(N,"RID",O),Xe(N,"AID",h.T),Mu(h,N),h.m&&h.o&&Hy(N,h.m,h.o),O=new zi(h,h.j,O,h.B+1),h.m===null&&(O.H=h.o),b&&(h.i=b.D.concat(h.i)),b=ZE(h,O,1e3),O.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wy(h.h,O),Fy(O,N,b)}function Mu(h,b){h.H&&E(h.H,function(O,N){Xe(b,N,O)}),h.l&&jE({},function(O,N){Xe(b,N,O)})}function ZE(h,b,O){O=Math.min(h.i.length,O);var N=h.l?d(h.l.Na,h.l,h):null;e:{var L=h.i;let z=-1;for(;;){const ne=["count="+O];z==-1?0<O?(z=L[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let We=!0;for(let Wt=0;Wt<O;Wt++){let Me=L[Wt].g;const nn=L[Wt].map;if(Me-=z,0>Me)z=Math.max(0,L[Wt].g-100),We=!1;else try{vU(nn,ne,"req"+Me+"_")}catch{N&&N(nn)}}if(We){N=ne.join("&");break e}}}return h=h.i.splice(0,O),b.D=h,N}function eA(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;U||q(),$||(U(),$=!0),B.add(b,h),h.v=0}}function qy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Tu(d(h.Fa,h),rA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,tA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Tu(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Lh(this),tA(this))};function Gy(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function tA(h){h.g=new zi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=ii(h.qa);Xe(b,"RID","rpc"),Xe(b,"SID",h.K),Xe(b,"AID",h.T),Xe(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(b,"TO",h.ja),Xe(b,"TYPE","xmlhttp"),Mu(h,b),h.m&&h.o&&Hy(b,h.m,h.o),h.L&&(h.g.I=h.L);var O=h.g;h=h.ia,O.L=1,O.v=Nh(ii(b)),O.m=null,O.P=!0,OE(O,h)}t.Za=function(){this.C!=null&&(this.C=null,Lh(this),qy(this),vn(19))};function Fh(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function nA(h,b){var O=null;if(h.g==b){Fh(h),Gy(h),h.g=null;var N=2}else if(zy(h.h,b))O=b.D,NE(h.h,b),N=1;else return;if(h.G!=0){if(b.o)if(N==1){O=b.m?b.m.length:0,b=Date.now()-b.F;var L=h.B;N=Oh(),zt(N,new TE(N,O)),Vh(h)}else eA(h);else if(L=b.s,L==3||L==0&&0<b.X||!(N==1&&xU(h,b)||N==2&&qy(h)))switch(O&&0<O.length&&(b=h.h,b.i=b.i.concat(O)),L){case 1:Jo(h,5);break;case 4:Jo(h,10);break;case 3:Jo(h,6);break;default:Jo(h,2)}}}function rA(h,b){let O=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(O*=2),O*b}function Jo(h,b){if(h.j.info("Error code "+b),b==2){var O=d(h.fb,h),N=h.Xa;const L=!N;N=new Qo(N||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Rh(N,"https"),Nh(N),L?mU(N.toString(),O):gU(N.toString(),O)}else vn(2);h.G=0,h.l&&h.l.sa(b),iA(h),QE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function iA(h){if(h.G=0,h.ka=[],h.l){const b=DE(h.h);(b.length!=0||h.i.length!=0)&&(m(h.ka,b),m(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function oA(h,b,O){var N=O instanceof Qo?ii(O):new Qo(O);if(N.g!="")b&&(N.g=b+"."+N.g),Mh(N,N.s);else{var L=s.location;N=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var z=new Qo(null);N&&Rh(z,N),b&&(z.g=b),L&&Mh(z,L),O&&(z.l=O),N=z}return O=h.D,b=h.ya,O&&b&&Xe(N,O,b),Xe(N,"VER",h.la),Mu(h,N),N}function aA(h,b,O){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new ct(new Dh({eb:O})):new ct(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sA(){}t=sA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bh(){}Bh.prototype.g=function(h,b){return new Dn(h,b)};function Dn(h,b){Ot.call(this),this.g=new YE(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!_(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!_(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new as(this)}g(Dn,Ot),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ky(this.g)},Dn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var O={};O.__data__=h,h=O}else this.u&&(O={},O.__data__=Ny(h),h=O);b.i.push(new oU(b.Ya++,h)),b.G==3&&Vh(b)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ky(this.g),delete this.g,Dn.aa.N.call(this)};function lA(h){jy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const O in b){h=O;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}g(lA,jy);function uA(){$y.call(this),this.status=1}g(uA,$y);function as(h){this.g=h}g(as,sA),as.prototype.ua=function(){zt(this.g,"a")},as.prototype.ta=function(h){zt(this.g,new lA(h))},as.prototype.sa=function(h){zt(this.g,new uA)},as.prototype.ra=function(){zt(this.g,"b")},Bh.prototype.createWebChannel=Bh.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,vj=function(){return new Bh},yj=function(){return Oh()},gj=Xo,O_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ih.NO_ERROR=0,Ih.TIMEOUT=8,Ih.HTTP_ERROR=6,Kd=Ih,EE.COMPLETE="complete",mj=EE,wE.EventType=xu,xu.OPEN="a",xu.CLOSE="b",xu.ERROR="c",xu.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,ic=wE,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,pj=ct}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const nP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Vx("@firebase/firestore");function Uu(){return ja.logLevel}function le(t,...e){if(ja.logLevel<=Ce.DEBUG){const n=e.map(Qx);ja.debug(`Firestore (${tu}): ${t}`,...n)}}function Ri(t,...e){if(ja.logLevel<=Ce.ERROR){const n=e.map(Qx);ja.error(`Firestore (${tu}): ${t}`,...n)}}function cl(t,...e){if(ja.logLevel<=Ce.WARN){const n=e.map(Qx);ja.warn(`Firestore (${tu}): ${t}`,...n)}}function Qx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: `+t;throw Ri(e),new Error(e)}function Fe(t,e){t||ye()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class NW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DW{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ta,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ta)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new _j(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new cn(e)}}class jW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $W{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new LW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FW(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Nt(0,0))}static max(){return new _e(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return af.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends af{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const BW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends af{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return BW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ue(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ue(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ze.fromString(e))}static fromName(e){return new fe(Ze.fromString(e).popFirst(5))}static empty(){return new fe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ze(e.slice()))}}function UW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Ro(i,fe.empty(),e)}function zW(t){return new Ro(t.readTime,t.key,-1)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(_e.min(),fe.empty(),-1)}static max(){return new Ro(_e.max(),fe.empty(),-1)}}function WW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==HW)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function qW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ch(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jx.oe=-1;function Sg(t){return t==null}function Mp(t){return t===0&&1/t==-1/0}function GW(t){return typeof t=="number"&&Number.isInteger(t)&&!Mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=o??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iP(this.data.getIterator())}getIteratorFrom(e){return new iP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class iP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Jt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xj("Invalid base64 string: "+o):o}}(e);return new en(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const XW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=XW.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $a(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eS(t){const e=t.mapValue.fields.__previous_value__;return Zx(e)?eS(e):e}function sf(t){const e=Mo(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class lf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd={mapValue:{}};function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zx(t)?4:JW(t)?9007199254740991:QW(t)?10:11:ye()}function Jr(t,e){if(t===e)return!0;const n=La(t);if(n!==La(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Mo(i.timestampValue),s=Mo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $a(i.bytesValue).isEqual($a(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return yt(i.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return yt(i.integerValue)===yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=yt(i.doubleValue),s=yt(o.doubleValue);return a===s?Mp(a)===Mp(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(rP(a)!==rP(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Jr(a[l],s[l])))return!1;return!0}(t,e);default:return ye()}}function uf(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=La(t),r=La(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=yt(o.integerValue||o.doubleValue),l=yt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return oP(t.timestampValue,e.timestampValue);case 4:return oP(sf(t),sf(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,a){const s=$a(o),l=$a(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ne(s[u],l[u]);if(c!==0)return c}return Ne(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ne(yt(o.latitude),yt(a.latitude));return s!==0?s:Ne(yt(o.longitude),yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aP(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=Ne(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:aP(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===cd.mapValue&&a===cd.mapValue)return 0;if(o===cd.mapValue)return 1;if(a===cd.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Ne(l[f],c[f]);if(d!==0)return d;const p=hl(s[l[f]],u[c[f]]);if(p!==0)return p}return Ne(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function oP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Mo(t),r=Mo(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function aP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hl(n[i],r[i]);if(o)return o}return Ne(n.length,r.length)}function dl(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $a(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=I_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${I_(n.fields[a])}`;return i+"}"}(t.mapValue):ye()}function sP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function C_(t){return!!t&&"integerValue"in t}function tS(t){return!!t&&"arrayValue"in t}function lP(t){return!!t&&"nullValue"in t}function uP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function QW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=xc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bn(xc(this.value))}}function Sj(t){const e=[];return Ga(t.fields,(n,r)=>{const i=new Xt([n]);if(qd(r)){const o=Sj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new hn(e,0,_e.min(),_e.min(),_e.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,_e.min(),_e.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,_e.min(),_e.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.position=e,this.inclusive=n}}function cP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=hl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{}class Et extends Tj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t8(e,n,r):n==="array-contains"?new i8(e,r):n==="in"?new o8(e,r):n==="not-in"?new a8(e,r):n==="array-contains-any"?new s8(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n8(e,r):new r8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&La(this.value)===La(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends Tj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return Ej(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ej(t){return t.op==="and"}function Aj(t){return e8(t)&&Ej(t)}function e8(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function k_(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(Aj(t))return t.filters.map(e=>k_(e)).join(",");{const e=t.filters.map(n=>k_(n)).join(",");return`${t.op}(${e})`}}function Pj(t,e){return t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Rr?function(r,i){return i instanceof Rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&Pj(a,i.filters[s]),!0):!1}(t,e):void ye()}function Oj(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Oj).join(" ,")+"}"}(t):"Filter"}class t8 extends Et{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class n8 extends Et{constructor(e,n){super(e,"in",n),this.keys=Ij("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r8 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Ij("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ij(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class i8 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tS(n)&&uf(n.arrayValue,this.value)}}class o8 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uf(this.value.arrayValue,n)}}class a8 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uf(this.value.arrayValue,n)}}class s8 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function hP(t,e=null,n=[],r=[],i=null,o=null,a=null){return new l8(t,e,n,r,i,o,a)}function nS(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>k_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function rS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fP(t.startAt,e.startAt)&&fP(t.endAt,e.endAt)}function R_(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function u8(t,e,n,r,i,o,a,s){return new fh(t,e,n,r,i,o,a,s)}function iS(t){return new fh(t)}function dP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cj(t){return t.collectionGroup!==null}function Sc(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Jt(Xt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Dp(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new Dp(Xt.keyField(),r))}return e.ce}function Hr(t){const e=be(t);return e.le||(e.le=c8(e,Sc(t))),e.le}function c8(t,e){if(t.limitType==="F")return hP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Dp(i.field,o)});const n=t.endAt?new Np(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Np(t.startAt.position,t.startAt.inclusive):null;return hP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M_(t,e){const n=t.filters.concat([e]);return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function N_(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tg(t,e){return rS(Hr(t),Hr(e))&&t.limitType===e.limitType}function kj(t){return`${nS(Hr(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Oj(i)).join(", ")}]`),Sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Eg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=cP(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Sc(r),i)||r.endAt&&!function(a,s,l){const u=cP(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Sc(r),i))}(t,e)}function f8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rj(t){return(e,n)=>{let r=!1;for(const i of Sc(t)){const o=h8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h8(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?hl(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return bj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new ut(fe.comparator);function Mi(){return d8}const Mj=new ut(fe.comparator);function oc(...t){let e=Mj;for(const n of t)e=e.insert(n.key,n);return e}function Nj(t){let e=Mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function da(){return Tc()}function Dj(){return Tc()}function Tc(){return new nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const p8=new ut(fe.comparator),m8=new Jt(fe.comparator);function Pe(...t){let e=m8;for(const n of t)e=e.add(n);return e}const g8=new Jt(Ne);function y8(){return g8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function jj(t){return{integerValue:""+t}}function v8(t,e){return GW(e)?jj(e):oS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this._=void 0}}function _8(t,e,n){return t instanceof jp?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zx(o)&&(o=eS(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof cf?Lj(t,e):t instanceof ff?Vj(t,e):function(i,o){const a=$j(i,o),s=pP(a)+pP(i.Pe);return C_(a)&&C_(i.Pe)?jj(s):oS(i.serializer,s)}(t,e)}function w8(t,e,n){return t instanceof cf?Lj(t,e):t instanceof ff?Vj(t,e):n}function $j(t,e){return t instanceof $p?function(r){return C_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jp extends Ag{}class cf extends Ag{constructor(e){super(),this.elements=e}}function Lj(t,e){const n=Fj(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ff extends Ag{constructor(e){super(),this.elements=e}}function Vj(t,e){let n=Fj(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class $p extends Ag{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function pP(t){return yt(t.integerValue||t.doubleValue)}function Fj(t){return tS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cf&&i instanceof cf||r instanceof ff&&i instanceof ff?fl(r.elements,i.elements,Jr):r instanceof $p&&i instanceof $p?Jr(r.Pe,i.Pe):r instanceof jp&&i instanceof jp}(t.transform,e.transform)}class x8{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pg{}function Bj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zj(t.key,_i.none()):new Og(t.key,t.data,_i.none());{const n=t.data,r=Bn.empty();let i=new Jt(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Xa(t.key,r,new Pr(i.toArray()),_i.none())}}function S8(t,e,n){t instanceof Og?function(i,o,a){const s=i.value.clone(),l=gP(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Xa?function(i,o,a){if(!Gd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=gP(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(Uj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Og?function(o,a,s,l){if(!Gd(o.precondition,a))return s;const u=o.value.clone(),c=yP(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xa?function(o,a,s,l){if(!Gd(o.precondition,a))return s;const u=yP(o.fieldTransforms,l,a),c=a.data;return c.setAll(Uj(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Gd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function T8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$j(r.transform,i||null);o!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,o))}return n||null}function mP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(o,a)=>b8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Og extends Pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xa extends Pg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Uj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gP(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,w8(a,s,n[i]))}return r}function yP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,_8(o,a,e))}return r}class zj extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E8 extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&S8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=Bj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>mP(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>mP(n,r))}}class aS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return p8}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new aS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,ke;function I8(t){switch(t){default:return ye();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function Wj(t){if(t===void 0)return Ri("GRPC error has no .code"),G.UNKNOWN;switch(t){case xt.OK:return G.OK;case xt.CANCELLED:return G.CANCELLED;case xt.UNKNOWN:return G.UNKNOWN;case xt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case xt.INTERNAL:return G.INTERNAL;case xt.UNAVAILABLE:return G.UNAVAILABLE;case xt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case xt.NOT_FOUND:return G.NOT_FOUND;case xt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case xt.ABORTED:return G.ABORTED;case xt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case xt.DATA_LOSS:return G.DATA_LOSS;default:return ye()}}(ke=xt||(xt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=new Sa([4294967295,4294967295],0);function vP(t){const e=C8().encode(t),n=new dj;return n.update(e),new Uint8Array(n.digest())}function _P(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sa([n,r],0),new Sa([i,o],0)]}class sS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sa.fromNumber(r)));return i.compare(k8)===1&&(i=new Sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=vP(e),[r,i]=_P(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new sS(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=vP(e),[r,i]=_P(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ig(_e.min(),i,new ut(Ne),Mi(),Pe())}}class hh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hh(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Hj{constructor(e,n){this.targetId=e,this.me=n}}class Kj{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wP{constructor(){this.fe=0,this.ge=xP(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new hh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class R8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=bP(),this.Qe=new ut(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(R_(o))if(r===0){const a=new fe(o.path);this.Ue(n,a,hn.newNoDocument(a,_e.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=$a(r).toUint8Array()}catch(l){if(l instanceof xj)return cl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new sS(a,i,o)}catch(l){return cl(l instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&R_(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,hn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Ig(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=bP(),this.Qe=new ut(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new wP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bP(){return new ut(fe.comparator)}function xP(){return new ut(fe.comparator)}const M8={asc:"ASCENDING",desc:"DESCENDING"},N8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D8={and:"AND",or:"OR"};class j8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function D_(t,e){return t.useProto3Json||Sg(e)?e:{value:e}}function Lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $8(t,e){return Lp(t,e.toTimestamp())}function Kr(t){return Fe(!!t),_e.fromTimestamp(function(n){const r=Mo(n);return new Nt(r.seconds,r.nanos)}(t))}function lS(t,e){return j_(t,e).canonicalString()}function j_(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gj(t){const e=Ze.fromString(t);return Fe(Zj(e)),e}function $_(t,e){return lS(t.databaseId,e.path)}function Cv(t,e){const n=Gj(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(Yj(n))}function Xj(t,e){return lS(t.databaseId,e)}function L8(t){const e=Gj(t);return e.length===4?Ze.emptyPath():Yj(e)}function L_(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yj(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SP(t,e,n){return{name:$_(t,e),fields:n.value.mapValue.fields}}function V8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Fe(c===void 0||typeof c=="string"),en.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),en.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?G.UNKNOWN:Wj(u.code);return new ue(c,u.message||"")}(a);n=new Kj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cv(t,r.document.name),o=Kr(r.document.updateTime),a=r.document.createTime?Kr(r.document.createTime):_e.min(),s=new Bn({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cv(t,r.document),o=r.readTime?Kr(r.readTime):_e.min(),a=hn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Xd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cv(t,r.document),o=r.removedTargetIds||[];n=new Xd([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new O8(i,o),s=r.targetId;n=new Hj(s,a)}}return n}function F8(t,e){let n;if(e instanceof Og)n={update:SP(t,e.key,e.value)};else if(e instanceof zj)n={delete:$_(t,e.key)};else if(e instanceof Xa)n={update:SP(t,e.key,e.data),updateMask:X8(e.fieldMask)};else{if(!(e instanceof E8))return ye();n={verify:$_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof jp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ff)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof $p)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function B8(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Kr(i.updateTime):Kr(o);return a.isEqual(_e.min())&&(a=Kr(o)),new x8(a,i.transformResults||[])}(n,e))):[]}function U8(t,e){return{documents:[Xj(t,e.path)]}}function z8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xj(t,i);const o=function(u){if(u.length!==0)return Jj(Rr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ms(d.field),direction:K8(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=D_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function W8(t){let e=L8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=Qj(f);return d instanceof Rr&&Aj(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(g){return new Dp(gs(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,Sg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Np(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Np(p,d)}(n.endAt)),u8(e,i,a,o,s,"F",l,u)}function H8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gs(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gs(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gs(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gs(n.unaryFilter.field);return Et.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>Qj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function K8(t){return M8[t]}function q8(t){return N8[t]}function G8(t){return D8[t]}function ms(t){return{fieldPath:t.canonicalString()}}function gs(t){return Xt.fromServerFormat(t.fieldPath)}function Jj(t){return t instanceof Et?function(n){if(n.op==="=="){if(uP(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(lP(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uP(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(lP(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:q8(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(i=>Jj(i));return r.length===1?r[0]:{compositeFilter:{op:G8(n.op),filters:r}}}(t):ye()}function X8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,i,o=_e.min(),a=_e.min(),s=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.ct=e}}function Q8(t){const e=W8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?N_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.un=new Z8}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ro.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Z8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pl(0)}static kn(){return new pl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(){this.changes=new nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ec(r.mutation,i,Pr.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=oc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Mi();const a=Tc(),s=function(){return Tc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xa)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Ec(c.mutation,u,c.mutation.getFieldMask(),Nt.now())):a.set(u.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new tH(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new ut((a,s)=>a-s),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Pr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Pe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=Dj();c.forEach(d=>{if(!o.has(d)){const p=Bj(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(da());let s=-1,l=o;return a.next(u=>Q.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:s,changes:Nj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=oc();return this.indexManager.getCollectionParents(e,o).next(s=>Q.forEach(s,l=>{const u=function(f,d){return new fh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,hn.newInvalidDocument(c)))});let s=oc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ec(c.mutation,u,Pr.empty(),Nt.now()),Eg(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Q8(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.overlays=new ut(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=da(),o=n.length+1,a=new fe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=da(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=da(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Q.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new P8(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Tr=new Jt(Lt.Er),this.dr=new Jt(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new Ze([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new Ze([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Pe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(Lt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new A8(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Lt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Ne);return n.forEach(i=>{const o=new Lt(i,0),a=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const a=new Lt(new fe(o),0);let s=new Jt(Ne);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Q.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.Mr=e,this.docs=function(){return new ut(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const a=n.path,s=new fe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||WW(zW(c),r)<=0||(i.has(c.key)||Eg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lH(this)}getSize(e){return Q.resolve(this.size)}}class lH extends eH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.persistence=e,this.Nr=new nu(n=>nS(n),rS),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uS,this.targetCount=0,this.kr=pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jx(0),this.Kr=!1,this.Kr=!0,this.$r=new oH,this.referenceDelegate=e(this),this.Ur=new uH(this),this.indexManager=new J8,this.remoteDocumentCache=function(i){return new sH(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Y8(n),this.Gr=new rH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new aH(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new fH(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class fH extends KW{constructor(e){super(),this.currentSequenceNumber=e}}class cS{constructor(e){this.persistence=e,this.Jr=new uS,this.Yr=null}static Zr(e){return new cS(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new fS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return g5()?8:qW(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new hH;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Uu()<=Ce.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Uu()<=Ce.DEBUG&&le("QueryEngine","Query:",ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Uu()<=Ce.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):Q.resolve())}Yi(e,n){if(dP(n))return Q.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=N_(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Pe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,N_(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return dP(n)||i.isEqual(_e.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Q.resolve(null):(Uu()<=Ce.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ps(n)),this.rs(e,a,n,UW(i,-1)).next(s=>s))})}ts(e,n){let r=new Jt(Rj(e));return n.forEach((i,o)=>{Eg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Uu()<=Ce.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(Ne),this._s=new nu(o=>nS(o),rS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mH(t,e,n,r){return new pH(t,e,n,r)}async function e2(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Pe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function gH(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=Q.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(v=>{const m=u.docVersions.get(g);Fe(m!==null),v.version.compareTo(m)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t2(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yH(t,e){const n=be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(en.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(v,m,y){return v.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Mi(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(vH(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(_e.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Q.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function vH(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Mi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):le("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function _H(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wH(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new uo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function V_(t,e,n){const r=be(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ch(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function TP(t,e,n){const r=be(t);let i=_e.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=be(l),d=f._s.get(c);return d!==void 0?Q.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,a,Hr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:_e.min(),n?o:Pe())).next(s=>(bH(r,f8(e),s),{documents:s,Ts:o})))}function bH(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class EP{constructor(){this.activeTargetIds=y8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xH{constructor(){this.so=new EP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new EP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function kv(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class AH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=kv(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw cl("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=TH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=kv();return new Promise((a,s)=>{const l=new pj;l.setWithCredentials(!0),l.listenOnce(mj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kd.NO_ERROR:const c=l.getResponseJson();le(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Kd.TIMEOUT:le(sn,`RPC '${e}' ${o} timed out`),s(new ue(G.DEADLINE_EXCEEDED,"Request time out"));break;case Kd.HTTP_ERROR:const f=l.getStatus();if(le(sn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(p.status);s(new ue(g,p.message))}else s(new ue(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ue(G.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{le(sn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);le(sn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=kv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vj(),s=yj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");le(sn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,p=!1;const g=new EH({Io:m=>{p?le(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(le(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),le(sn,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},To:()=>f.close()}),v=(m,y,_)=>{m.listen(y,w=>{try{_(w)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,ic.EventType.OPEN,()=>{p||(le(sn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,ic.EventType.CLOSE,()=>{p||(p=!0,le(sn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,ic.EventType.ERROR,m=>{p||(p=!0,cl(sn,`RPC '${e}' stream ${i} transport errored:`,m),g.So(new ue(G.UNAVAILABLE,"The operation could not be completed")))}),v(f,ic.EventType.MESSAGE,m=>{var y;if(!p){const _=m.data[0];Fe(!!_);const w=_,A=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(A){le(sn,`RPC '${e}' stream ${i} received error:`,A);const x=A.status;let E=function(P){const C=xt[P];if(C!==void 0)return Wj(C)}(x),S=A.message;E===void 0&&(E=G.INTERNAL,S="Unknown error status: "+x+" with message "+A.message),p=!0,g.So(new ue(E,S)),f.close()}else le(sn,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),v(s,gj.STAT_EVENT,m=>{m.stat===O_.PROXY?le(sn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===O_.NOPROXY&&le(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){return new j8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PH extends r2{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=V8(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?Kr(a.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=L_(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=R_(l)?{documents:U8(o,l)}:{query:z8(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=qj(o,a.resumeToken);const u=D_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(_e.min())>0){s.readTime=Lp(o,a.snapshotVersion.toTimestamp());const u=D_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=H8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=L_(this.serializer),n.removeTarget=e,this.a_(n)}}class OH extends r2{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=B8(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=L_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,j_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(G.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,j_(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(G.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class CH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ri(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ya(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await dh(u),u.q_.set("Unknown"),u.L_.delete(4),await kg(u)}(this))})}),this.q_=new CH(r,i)}}async function kg(t){if(Ya(t))for(const e of t.B_)await e(!0)}async function dh(t){for(const e of t.B_)await e(!1)}function i2(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mS(n)?pS(n):ru(n).r_()&&dS(n,e))}function hS(t,e){const n=be(t),r=ru(n);n.N_.delete(e),r.r_()&&o2(n,e),n.N_.size===0&&(r.r_()?r.o_():Ya(n)&&n.q_.set("Unknown"))}function dS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(t).A_(e)}function o2(t,e){t.Q_.xe(e),ru(t).R_(e)}function pS(t){t.Q_=new R8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ru(t).start(),t.q_.v_()}function mS(t){return Ya(t)&&!ru(t).n_()&&t.N_.size>0}function Ya(t){return be(t).L_.size===0}function a2(t){t.Q_=void 0}async function RH(t){t.q_.set("Online")}async function MH(t){t.N_.forEach((e,n)=>{dS(t,e)})}async function NH(t,e){a2(t),mS(t)?(t.q_.M_(e),pS(t)):t.q_.set("Unknown")}async function DH(t,e,n){if(t.q_.set("Online"),e instanceof Kj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(t,r)}else if(e instanceof Xd?t.Q_.Ke(e):e instanceof Hj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await t2(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(en.EMPTY_BYTE_STRING,c.snapshotVersion)),o2(o,l);const f=new uo(c.target,l,u,c.sequenceNumber);dS(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Vp(t,r)}}async function Vp(t,e,n){if(!ch(e))throw e;t.L_.add(1),await dh(t),t.q_.set("Offline"),n||(n=()=>t2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kg(t)})}function s2(t,e){return e().catch(n=>Vp(t,n,e))}async function Rg(t){const e=be(t),n=No(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jH(e);)try{const i=await _H(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,$H(e,i)}catch(i){await Vp(e,i)}l2(e)&&u2(e)}function jH(t){return Ya(t)&&t.O_.length<10}function $H(t,e){t.O_.push(e);const n=No(t);n.r_()&&n.V_&&n.m_(e.mutations)}function l2(t){return Ya(t)&&!No(t).n_()&&t.O_.length>0}function u2(t){No(t).start()}async function LH(t){No(t).p_()}async function VH(t){const e=No(t);for(const n of t.O_)e.m_(n.mutations)}async function FH(t,e,n){const r=t.O_.shift(),i=aS.from(r,e,n);await s2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rg(t)}async function BH(t,e){e&&No(t).V_&&await async function(r,i){if(function(a){return I8(a)&&a!==G.ABORTED}(i.code)){const o=r.O_.shift();No(r).s_(),await s2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Rg(r)}}(t,e),l2(t)&&u2(t)}async function PP(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Ya(n);n.L_.add(3),await dh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kg(n)}async function UH(t,e){const n=be(t);e?(n.L_.delete(2),await kg(n)):e||(n.L_.add(2),await dh(n),n.q_.set("Unknown"))}function ru(t){return t.K_||(t.K_=function(n,r,i){const o=be(n);return o.w_(),new PH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:RH.bind(null,t),Ro:MH.bind(null,t),mo:NH.bind(null,t),d_:DH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mS(t)?pS(t):t.q_.set("Unknown")):(await t.K_.stop(),a2(t))})),t.K_}function No(t){return t.U_||(t.U_=function(n,r,i){const o=be(n);return o.w_(),new OH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LH.bind(null,t),mo:BH.bind(null,t),f_:VH.bind(null,t),g_:FH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Rg(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new gS(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yS(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),ch(t))return new ue(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.W_=new ut(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ml{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new ml(e,n,qs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class WH{constructor(){this.queries=IP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=be(n),o=i.queries;i.queries=IP(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ue(G.ABORTED,"Firestore shutting down"))}}function IP(){return new nu(t=>kj(t),Tg)}async function HH(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new zH,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=yS(a,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&vS(n)}async function KH(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qH(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&vS(n)}function GH(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function vS(t){t.Y_.forEach(e=>{e.next()})}var F_,CP;(CP=F_||(F_={})).ea="default",CP.Cache="cache";class XH{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==F_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.key=e}}class f2{constructor(e){this.key=e}}class YH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=Rj(e),this.Ra=new qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new OP,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=Eg(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;d&&p?d.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),m=!0):this.ga(d,p)||(r.track({type:2,doc:p}),m=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),m=!0):d&&!p&&(r.track({type:1,doc:d}),m=!0,(l||u)&&(s=!0)),m&&(p?(a=a.add(p),o=v?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,g){const v=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return v(p)-v(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new ml(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new f2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ml.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class QH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JH{constructor(e){this.key=e,this.va=!1}}class ZH{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new nu(s=>kj(s),Tg),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(fe.comparator),this.Na=new Map,this.La=new uS,this.Ba={},this.ka=new Map,this.qa=pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eK(t,e,n=!0){const r=y2(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await h2(r,e,n,!0),i}async function tK(t,e){const n=y2(t);await h2(n,e,!0,!1)}async function h2(t,e,n,r){const i=await wH(t.localStore,Hr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await nK(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&i2(t.remoteStore,i),s}async function nK(t,e,n,r,i){t.Ka=(f,d,p)=>async function(v,m,y,_){let w=m.view.ma(y);w.ns&&(w=await TP(v.localStore,m.query,!1).then(({documents:S})=>m.view.ma(S,w)));const A=_&&_.targetChanges.get(m.targetId),x=_&&_.targetMismatches.get(m.targetId)!=null,E=m.view.applyChanges(w,v.isPrimaryClient,A,x);return RP(v,m.targetId,E.wa),E.snapshot}(t,f,d,p);const o=await TP(t.localStore,e,!0),a=new YH(e,o.Ts),s=a.ma(o.documents),l=hh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);RP(t,n,u.wa);const c=new QH(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function rK(t,e,n){const r=be(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Tg(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await V_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hS(r.remoteStore,i.targetId),B_(r,i.targetId)}).catch(uh)):(B_(r,i.targetId),await V_(r.localStore,i.targetId,!0))}async function iK(t,e){const n=be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hS(n.remoteStore,r.targetId))}async function oK(t,e,n){const r=hK(t);try{const i=await function(a,s){const l=be(a),u=Nt.now(),c=s.reduce((p,g)=>p.add(g.key),Pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Mi(),v=Pe();return l.cs.getEntries(p,c).next(m=>{g=m,g.forEach((y,_)=>{_.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(m=>{f=m;const y=[];for(const _ of s){const w=T8(_,f.get(_.key).overlayedDocument);w!=null&&y.push(new Xa(_.key,w,Sj(w.value.mapValue),_i.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Nj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ut(Ne)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await ph(r,i.changes),await Rg(r.remoteStore)}catch(i){const o=yS(i,"Failed to persist write");n.reject(o)}}async function d2(t,e){const n=be(t);try{const r=await yH(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await ph(n,r,e)}catch(r){await uh(r)}}function kP(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=be(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&vS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aK(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ut(fe.comparator);a=a.insert(o,hn.newNoDocument(o,_e.min()));const s=Pe().add(o),l=new Ig(_e.min(),new Map,new ut(Ne),a,s);await d2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),_S(r)}else await V_(r.localStore,e,!1).then(()=>B_(r,e,n)).catch(uh)}async function sK(t,e){const n=be(t),r=e.batch.batchId;try{const i=await gH(n.localStore,e);m2(n,r,null),p2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ph(n,i)}catch(i){await uh(i)}}async function lK(t,e,n){const r=be(t);try{const i=await function(a,s){const l=be(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Fe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);m2(r,e,n),p2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ph(r,i)}catch(i){await uh(i)}}function p2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m2(t,e,n){const r=be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function B_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||g2(t,r)})}function g2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_S(t))}function RP(t,e,n){for(const r of n)r instanceof c2?(t.La.addReference(r.key,e),uK(t,r)):r instanceof f2?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||g2(t,r.key)):ye()}function uK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),_S(t))}function _S(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new JH(n)),t.Oa=t.Oa.insert(n,r),i2(t.remoteStore,new uo(Hr(iS(n.path)),r,"TargetPurposeLimboResolution",Jx.oe))}}async function ph(t,e,n){const r=be(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=fS.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,d=>Q.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!ch(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(d,v)}}}(r.localStore,o))}async function cK(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await e2(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ue(G.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(n,r.hs)}}function fK(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function y2(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aK.bind(null,e),e.Ca.d_=qH.bind(null,e.eventManager),e.Ca.$a=GH.bind(null,e.eventManager),e}function hK(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lK.bind(null,e),e}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mH(this.persistence,new dH,e.initialUser,this.serializer)}Ga(e){return new cH(cS.Zr,this.serializer)}Wa(e){return new xH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class U_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cK.bind(null,this.syncEngine),await UH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WH}()}createDatastore(e){const n=Cg(e.databaseInfo.databaseId),r=function(o){return new AH(o)}(e.databaseInfo);return function(o,a,s,l){return new IH(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new kH(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>kP(this.syncEngine,n,0),function(){return AP.D()?new AP:new SH}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new ZH(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=be(i);le("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await dh(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}U_.provider={build:()=>new U_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=wj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{le("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(le("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mv(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mK(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PP(e.remoteStore,i)),t._onlineComponents=e}async function mK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await Mv(t,new Fp)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Mv(t,new Fp);return t._offlineComponents}async function v2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await MP(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await MP(t,new U_))),t._onlineComponents}function gK(t){return v2(t).then(e=>e.syncEngine)}async function NP(t){const e=await v2(t),n=e.eventManager;return n.onListen=eK.bind(null,e.syncEngine),n.onUnlisten=rK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iK.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e,n){if(!n)throw new ue(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yK(t,e,n,r){if(e===!0&&r===!0)throw new ue(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jP(t){if(!fe.isDocumentKey(t))throw new ue(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $P(t){if(fe.isDocumentKey(t))throw new ue(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mg(t);throw new ue(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MW;switch(r.type){case"firstParty":return new $W(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DP.get(n);r&&(le("ComponentProvider","Removing Datastore"),DP.delete(n),r.terminate())}(this),Promise.resolve()}}function vK(t,e,n,r={}){var i;const o=(t=Gs(t,Ng))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=cn.MOCK_USER;else{s=u5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cn(u)}t._authCredentials=new NW(new _j(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iu(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Ao extends iu{constructor(e,n,r){super(e,n,iS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new fe(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function b2(t,e,...n){if(t=bt(t),w2("collection","path",e),t instanceof Ng){const r=Ze.fromString(e,...n);return $P(r),new Ao(t,null,r)}{if(!(t instanceof kn||t instanceof Ao))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return $P(r),new Ao(t.firestore,null,r)}}function Ac(t,e,...n){if(t=bt(t),arguments.length===1&&(e=wj.newId()),w2("doc","path",e),t instanceof Ng){const r=Ze.fromString(e,...n);return jP(r),new kn(t,null,new fe(r))}{if(!(t instanceof kn||t instanceof Ao))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return jP(r),new kn(t.firestore,t instanceof Ao?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n2(this,"async_queue_retry"),this.Vu=()=>{const r=Rv();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ch(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=gS.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function FP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Bp extends Ng{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VP(e),this._firestoreClient=void 0,await e}}}function _K(t,e){const n=typeof t=="object"?t:Bx(),r=typeof t=="string"?t:"(default)",i=vg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ED("firestore");o&&vK(i,...o)}return i}function x2(t){if(t._terminated)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wK(t),t._firestoreClient}function wK(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new YW(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pK(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(en.fromBase64String(e))}catch(n){throw new ue(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=/^__.*__$/;class S2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class SS{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new SS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Up(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(T2(this.Cu)&&bK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cg(e)}Qu(e,n,r,i=!1){return new SS({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E2(t){const e=t._freezeSettings(),n=Cg(t._databaseId);return new xK(t._databaseId,!!e.ignoreUndefinedProperties,n)}class jg extends wS{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jg}}function SK(t,e,n,r){const i=t.Qu(1,e,n);P2("Data must be an object, but it was:",i,r);const o=[],a=Bn.empty();Ga(r,(l,u)=>{const c=TS(e,l,n);u=bt(u);const f=i.Nu(c);if(u instanceof jg)o.push(c);else{const d=mh(u,f);d!=null&&(o.push(c),a.set(c,d))}});const s=new Pr(o);return new S2(a,s,i.fieldTransforms)}function TK(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[BP(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(BP(e,o[d])),l.push(o[d+1]);const u=[],c=Bn.empty();for(let d=s.length-1;d>=0;--d)if(!OK(u,s[d])){const p=s[d];let g=l[d];g=bt(g);const v=a.Nu(p);if(g instanceof jg)u.push(p);else{const m=mh(g,v);m!=null&&(u.push(p),c.set(p,m))}}const f=new Pr(u);return new S2(c,f,a.fieldTransforms)}function EK(t,e,n,r=!1){return mh(n,t.Qu(r?4:3,e))}function mh(t,e){if(A2(t=bt(t)))return P2("Unsupported field value:",e,t),AK(t,e);if(t instanceof wS)return function(r,i){if(!T2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=mh(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Nt.fromDate(r);return{timestampValue:Lp(i.serializer,o)}}if(r instanceof Nt){const o=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(i.serializer,o)}}if(r instanceof bS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gl)return{bytesValue:qj(i.serializer,r._byteString)};if(r instanceof kn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xS)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return oS(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Mg(r)}`)}(t,e)}function AK(t,e){const n={};return bj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,(r,i)=>{const o=mh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof bS||t instanceof gl||t instanceof kn||t instanceof wS||t instanceof xS)}function P2(t,e,n){if(!A2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Mg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function BP(t,e,n){if((e=bt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return TS(t,e);throw Up("Field path arguments must be of type string or ",t,!1,void 0,n)}const PK=new RegExp("[~\\*/\\[\\]]");function TS(t,e,n){if(e.search(PK)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Up(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ue(G.INVALID_ARGUMENT,s+t+l)}function OK(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ES("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IK extends O2{data(){return super.data()}}function ES(t,e){return typeof e=="string"?TS(t,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AS{}class kK extends AS{}function RK(t,e,...n){let r=[];e instanceof AS&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof PS).length,s=o.filter(l=>l instanceof $g).length;if(a>1||a>0&&s>0)throw new ue(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $g extends kK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=this._parse(e);return I2(e._query,n),new iu(e.firestore,e.converter,M_(e._query,n))}_parse(e){const n=E2(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ue(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zP(f,c);const p=[];for(const g of f)p.push(UP(l,o,g));d={arrayValue:{values:p}}}else d=UP(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zP(f,c),d=EK(s,a,f,c==="in"||c==="not-in");return Et.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MK(t,e,n){const r=e,i=ES("where",t);return $g._create(i,r,n)}class PS extends AS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)I2(a,l),a=M_(a,l)}(e._query,n),new iu(e.firestore,e.converter,M_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UP(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new ue(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cj(e)&&n.indexOf("/")!==-1)throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!fe.isDocumentKey(r))throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sP(t,new fe(r))}if(n instanceof kn)return sP(t,n._key);throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(n)}.`)}function zP(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I2(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NK{convertValue(e,n="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ga(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>yt(a.doubleValue));return new xS(o)}convertGeoPoint(e){return new bS(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const n=Mo(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Fe(Zj(r));const i=new lf(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C2 extends O2{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ES("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends C2{data(e={}){return super.data(e)}}class DK{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Yd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new sc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Yd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new sc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:jK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class k2 extends NK{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function $K(t,e,n,...r){t=Gs(t,kn);const i=Gs(t.firestore,Bp),o=E2(i);let a;return a=typeof(e=bt(e))=="string"||e instanceof Dg?TK(o,"updateDoc",t._key,e,n,r):SK(o,"updateDoc",t._key,e),LK(i,[a.toMutation(t._key,_i.exists(!0))])}function Xs(t,...e){var n,r,i;t=bt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||FP(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(FP(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof kn)u=Gs(t.firestore,Bp),c=iS(t._key.path),l={next:f=>{e[a]&&e[a](VK(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Gs(t,iu);u=Gs(f.firestore,Bp),c=f._query;const d=new k2(u);l={next:p=>{e[a]&&e[a](new DK(u,d,f,p))},error:e[a+1],complete:e[a+2]},CK(t._query)}return function(d,p,g,v){const m=new dK(v),y=new XH(p,m,g);return d.asyncQueue.enqueueAndForget(async()=>HH(await NP(d),y)),()=>{m.Za(),d.asyncQueue.enqueueAndForget(async()=>KH(await NP(d),y))}}(x2(u),c,s,l)}function LK(t,e){return function(r,i){const o=new Ta;return r.asyncQueue.enqueueAndForget(async()=>oK(await gK(r),i,o)),o.promise}(x2(t),e)}function VK(t,e,n){const r=n.docs.get(e._key),i=new k2(t);return new C2(t,i,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){tu=i})(Zl),Na(new Co("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Bp(new DW(r.getProvider("auth-internal")),new VW(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Ur(nP,"4.7.3",e),Ur(nP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="type.googleapis.com/google.protobuf.Int64Value",BK="type.googleapis.com/google.protobuf.UInt64Value";function R2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function z_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>z_(e));if(typeof t=="function"||typeof t=="object")return R2(t,e=>z_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function zp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case FK:case BK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>zp(e)):typeof t=="function"||typeof t=="object"?R2(t,e=>zp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ys extends ni{constructor(e,n,r){super(`${OS}/${e}`,n||""),this.details=r}}function UK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function zK(t,e){let n=UK(t),r=n,i;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!WP[a])return new Ys("internal","internal");n=WP[a],r=a}const s=o.message;typeof s=="string"&&(r=s),i=o.details,i!==void 0&&(i=zp(i))}}catch{}return n==="ok"?null:new Ys(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="us-central1";function HK(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ys("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class KK{constructor(e,n,r,i,o=W_,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new WK(n,r,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(o);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=W_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function qK(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function GK(t,e,n){return r=>YK(t,e,r,{})}async function XK(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}function YK(t,e,n,r){const i=t._url(e);return QK(t,i,n,r)}async function QK(t,e,n,r){n=z_(n);const i={data:n},o={},a=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(o.Authorization="Bearer "+a.authToken),a.messagingToken&&(o["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=a.appCheckToken);const s=r.timeout||7e4,l=HK(s),u=await Promise.race([XK(e,i,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Ys("cancelled","Firebase Functions instance was deleted.");const c=zK(u.status,u.json);if(c)throw c;if(!u.json)throw new Ys("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Ys("internal","Response is missing data field.");return{data:zp(f)}}const HP="@firebase/functions",KP="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK="auth-internal",ZK="app-check-internal",eq="messaging-internal";function tq(t,e){const n=(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),a=r.getProvider(JK),s=r.getProvider(eq),l=r.getProvider(ZK);return new KK(o,a,s,l,i,t)};Na(new Co(OS,n,"PUBLIC").setMultipleInstances(!0)),Ur(HP,KP,e),Ur(HP,KP,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t=Bx(),e=W_){const r=vg(bt(t),OS).getImmediate({identifier:e}),i=ED("functions");return i&&rq(r,...i),r}function rq(t,e,n){qK(bt(t),e,n)}function yr(t,e,n){return GK(bt(t),e)}tq(fetch.bind(self));const iq={apiKey:"AIzaSyAc39l6xYMg3K_fYksvKdEw-pZ0mTma7eg",authDomain:"the-beer-game-37777398-4d5fb.firebaseapp.com",projectId:"the-beer-game-37777398-4d5fb",storageBucket:"the-beer-game-37777398-4d5fb.firebasestorage.app",messagingSenderId:"719771955560",appId:"1:719771955560:web:171d7ce2015d05e9ca26dd",measurementId:"G-M0VP3BE637"},IS=CD(iq),Qs=kW(IS),pa=_K(IS),vr=nq(IS);function Lg(){const[t,e]=D.useState(Qs.currentUser),[n,r]=D.useState("player");return D.useEffect(()=>{const i=rj(Qs,async o=>{if(e(o),o){const s=(await BD(o,!0)).claims.role??"player";r(s)}else r("player")});return()=>i()},[]),{user:t,role:n}}function oq(){const{role:t}=Lg(),e=qa();return I.jsxs("div",{className:"header",children:[I.jsxs("div",{className:"brand",children:[I.jsx(e5,{}),I.jsxs("div",{children:[I.jsx("h1",{children:"Croissant Lab"}),I.jsx("div",{className:"small",children:"A bakery-themed newsvendor game "})]}),I.jsx("span",{className:"badge",children:t==="host"?"You are host":"Player mode"})]}),I.jsxs("div",{className:"row",children:[e.pathname!=="/"&&I.jsx(__,{className:"btn secondary",to:"/","aria-current":e.pathname=="/"?"page":void 0,children:"Home"}),t==="host"&&I.jsx(__,{className:"btn secondary",to:"/host","aria-current":e.pathname.startsWith("/host")?"page":void 0,children:"Host"})]})]})}const Fn={hostLogin:yr(vr,"hostLogin"),createSession:yr(vr,"createSession"),joinSession:yr(vr,"joinSession"),submitOrder:yr(vr,"submitOrder"),advanceReveal:yr(vr,"advanceReveal"),nudgePlayer:yr(vr,"nudgePlayer"),endSession:yr(vr,"endSession"),startSession:yr(vr,"startSession"),kickPlayer:yr(vr,"kickPlayer"),redrawSession:yr(vr,"redrawSession"),finishWeek:yr(vr,"finishWeek")},aq="/assets/dragons-2Yd3k7Wq.png";function sq(){const t=gg(),{role:e}=Lg(),[n,r]=D.useState(""),[i,o]=D.useState(""),[a,s]=D.useState(""),[l,u]=D.useState(!1),[c,f]=D.useState("");async function d(){f(""),u(!0);try{const g=await Fn.joinSession({code:n.trim().toUpperCase(),name:i.trim()});t(`/play/${g.data.sessionId}`)}catch(g){console.error(g),f((g==null?void 0:g.message)??"Join failed")}finally{u(!1)}}async function p(){var g;f(""),u(!0);try{await Fn.hostLogin({password:a}),await((g=Qs.currentUser)==null?void 0:g.getIdToken(!0)),t("/host")}catch(v){console.error(v),f((v==null?void 0:v.message)??"Host login failed")}finally{u(!1)}}return I.jsx("div",{style:{backgroundImage:`url(${aq})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"calc(100vh - 100px)",padding:20,borderRadius:20,display:"flex",alignItems:"center",justifyContent:"center"},children:I.jsxs("div",{className:"grid two",style:{maxWidth:900,width:"100%"},children:[I.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,0.92)",backdropFilter:"blur(10px)"},children:[I.jsxs("div",{className:"row",style:{marginBottom:8},children:[I.jsx("h2",{style:{margin:0},children:"Join a Session"}),I.jsx("span",{className:"badge",children:"Players"})]}),I.jsx("p",{children:"Enter the session code from your instructor and choose a baker name."}),I.jsx("label",{children:"Session code"}),I.jsx("input",{value:n,onChange:g=>r(g.target.value.toUpperCase()),placeholder:"e.g., ABCD12",style:{fontFamily:"var(--mono)",letterSpacing:"1px",fontSize:16}}),I.jsx("label",{children:"Your name"}),I.jsx("input",{value:i,onChange:g=>o(g.target.value),placeholder:"e.g., Alex"}),I.jsx("div",{className:"row",style:{marginTop:16},children:I.jsx("button",{className:`btn${l?" loading":""}`,disabled:l||!n.trim()||!i.trim(),onClick:d,children:"Join Bakery"})}),c&&I.jsx("div",{className:"hr"}),c&&I.jsx("p",{className:"text-danger",children:c})]}),I.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,0.88)",backdropFilter:"blur(10px)"},children:[I.jsxs("div",{className:"row",style:{marginBottom:8},children:[I.jsx("h2",{style:{margin:0},children:"Host Login"}),I.jsx("span",{className:"badge warning",children:"Instructors"})]}),I.jsx("p",{children:"Create sessions, configure parameters, and run the reveal theatre."}),I.jsx("label",{children:"Host password"}),I.jsx("input",{type:"password",value:a,onChange:g=>s(g.target.value),placeholder:"Enter password"}),I.jsx("div",{className:"row",style:{marginTop:16},children:I.jsx("button",{className:`btn secondary${l?" loading":""}`,disabled:l||!a.trim(),onClick:p,children:"Enter Kitchen"})}),e==="host"&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hr"}),I.jsx("p",{className:"text-success small",children:"You're already logged in as host."})]})]})]})})}function lq(){const{user:t,role:e}=Lg(),[n,r]=D.useState({demandMu:50,demandSigma:20,price:1,cost:.2,salvage:0,weeks:10}),[i,o]=D.useState(null),[a,s]=D.useState(!1),[l,u]=D.useState(""),[c,f]=D.useState(""),[d,p]=D.useState([]);D.useEffect(()=>{if(!t)return;const m=RK(b2(pa,"sessions"),MK("createdByUid","==",t.uid));return Xs(m,y=>{const _=y.docs.map(w=>({id:w.id,data:w.data()})).filter(w=>{var A;return((A=w.data)==null?void 0:A.status)!=="finished"}).sort((w,A)=>{var S,T,P,C;const x=((T=(S=w.data.createdAt)==null?void 0:S.toMillis)==null?void 0:T.call(S))??0;return(((C=(P=A.data.createdAt)==null?void 0:P.toMillis)==null?void 0:C.call(P))??0)-x});p(_),f("")},y=>{console.error(y),f((y==null?void 0:y.message)??"Failed to load sessions.")})},[t]);async function g(){if(u(""),e!=="host"){u("You are not recognized as host. Go to Home and log in with the host password.");return}s(!0);try{const m=Math.max(1,Math.min(52,Math.round(Number(n.weeks??10)))),y=await Fn.createSession({...n,weeks:m});o(y.data)}catch(m){console.error(m),u((m==null?void 0:m.message)??"Create session failed")}finally{s(!1)}}async function v(m){f(""),s(!0);try{await Fn.endSession({sessionId:m}),f("Session ended.")}catch(y){console.error(y),f((y==null?void 0:y.message)??"End session failed")}finally{s(!1)}}return I.jsxs("div",{className:"grid two",children:[I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{marginBottom:12},children:[I.jsx("h2",{style:{margin:0},children:"Create New Session"}),e==="host"&&I.jsx("span",{className:"badge success",children:"Host Mode"})]}),I.jsx("p",{className:"small",children:"Configure demand distribution and pricing parameters for the game."}),I.jsx("div",{className:"hr"}),I.jsx("h3",{children:"Demand Distribution"}),I.jsxs("div",{className:"grid two",children:[I.jsxs("div",{children:[I.jsx("label",{children:"Mean ()"}),I.jsx("input",{type:"number",value:n.demandMu,onChange:m=>r(y=>({...y,demandMu:Number(m.target.value)}))})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Std Deviation ()"}),I.jsx("input",{type:"number",value:n.demandSigma,onChange:m=>r(y=>({...y,demandSigma:Number(m.target.value)}))})]})]}),I.jsx("h3",{style:{marginTop:16},children:"Pricing"}),I.jsxs("div",{className:"grid three",children:[I.jsxs("div",{children:[I.jsx("label",{children:"Sales Price"}),I.jsx("input",{type:"number",step:"0.01",value:n.price,onChange:m=>r(y=>({...y,price:Number(m.target.value)}))})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Unit Cost"}),I.jsx("input",{type:"number",step:"0.01",value:n.cost,onChange:m=>r(y=>({...y,cost:Number(m.target.value)}))})]}),I.jsxs("div",{children:[I.jsx("label",{children:"Salvage Value"}),I.jsx("input",{type:"number",step:"0.01",value:n.salvage,onChange:m=>r(y=>({...y,salvage:Number(m.target.value)}))})]})]}),I.jsx("h3",{style:{marginTop:16},children:"Duration"}),I.jsxs("div",{className:"grid two",children:[I.jsxs("div",{children:[I.jsx("label",{children:"Weeks in Game"}),I.jsx("input",{type:"number",min:1,max:52,step:1,value:n.weeks,onChange:m=>r(y=>({...y,weeks:Math.max(1,Math.min(52,Math.round(Number(m.target.value))))}))})]}),I.jsxs("div",{children:[I.jsx("label",{children:""}),I.jsxs("div",{className:"small",style:{padding:"12px 0"},children:["= ",n.weeks*5," total days (",n.weeks," weeks  5 days)"]})]})]}),I.jsx("div",{className:"hr"}),I.jsxs("div",{className:"row",children:[I.jsx("button",{className:`btn${a?" loading":""}`,disabled:a||e!=="host",onClick:g,children:"Create Session"}),e!=="host"&&I.jsx("span",{className:"small text-danger",children:"Login as host first."})]}),i&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hr"}),I.jsxs("div",{className:"card success-highlight",style:{marginTop:8},children:[I.jsx("p",{style:{margin:0},children:"Session created! Share this code with players:"}),I.jsx("div",{className:"session-code",style:{marginTop:12},children:i.code})]})]}),l&&I.jsx("div",{className:"hr"}),l&&I.jsx("p",{className:"text-danger",children:l})]}),I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{marginBottom:8},children:[I.jsx("h2",{style:{margin:0},children:"Your Sessions"}),I.jsxs("span",{className:"badge",children:[d.length," active"]})]}),I.jsx("p",{className:"small",children:"Click to open the host control room."}),I.jsx("div",{className:"hr"}),c&&I.jsx("p",{className:"text-danger",children:c}),d.length===0?I.jsx("div",{style:{textAlign:"center",padding:"30px 0"},children:I.jsx("p",{className:"small",children:"No active sessions. Create one to get started."})}):I.jsx("div",{className:"grid",children:d.map(m=>{const y={lobby:{label:"Lobby",dotClass:"pending"},training:{label:"Training",dotClass:"pending"},ordering:{label:"Ordering",dotClass:"active"},revealing:{label:"Revealing",dotClass:"active"},finished:{label:"Finished",dotClass:"finished"}}[m.data.status]??{label:m.data.status,dotClass:"pending"};return I.jsx("div",{className:"player-card",children:I.jsxs("div",{className:"row",children:[I.jsxs("div",{style:{flex:1},children:[I.jsxs("div",{className:"row",style:{gap:8,marginBottom:4},children:[I.jsx("span",{className:"mono font-bold",style:{fontSize:16},children:m.data.code}),I.jsx("span",{className:`status-dot ${y.dotClass}`})]}),I.jsxs("div",{className:"small",children:["Week ",(m.data.weekIndex??0)+1," of ",m.data.weeks??10,"  ",m.data.playersCount??0," players"]})]}),I.jsxs("div",{className:"row",children:[I.jsx(__,{className:"btn secondary",to:`/host/session/${m.id}`,children:"Open"}),I.jsx("button",{className:"btn ghost",disabled:a||m.data.status==="finished",onClick:()=>{confirm("End this session for all players?")&&v(m.id)},children:"End"})]})]})},m.id)})}),I.jsx("div",{className:"hr"}),I.jsx("p",{className:"small",children:"Players join at the homepage using the session code."})]})]})}function yl(t){return t.reduce((e,n)=>e+n,0)/(t.length||1)}function Js(t){const e=yl(t),n=t.reduce((r,i)=>r+(i-e)**2,0)/Math.max(1,t.length-1);return Math.sqrt(n)}function uq(t){const e=yl(t),n=Js(t);if(n<=0)return 0;const r=t.length||1;return t.reduce((o,a)=>o+(a-e)**3,0)/r/Math.max(1e-9,n**3)}function cq(t){const e=yl(t),n=Js(t);if(n<=0)return 0;const r=t.length||1;return t.reduce((o,a)=>o+(a-e)**4,0)/r/Math.max(1e-9,n**4)-3}function M2(t,e){const n=Math.min(...t),r=Math.max(...t),i=Math.max(1,r-n),o=Math.max(1,Math.ceil(i/e)),a=[];for(let u=0;u<e;u++){const c=n+u*o,f=c+o;a.push({label:`${c}-${f-1}`,count:0})}for(const u of t){const c=Math.min(e-1,Math.floor((u-n)/o));a[c].count+=1}const l=Math.max(...a.map(u=>u.count),1);return{data:a,minX:n,maxX:r,scaleToHistogram:l}}function fq(t,e,n){const r=(t-e)/n;return 1/(n*Math.sqrt(2*Math.PI))*Math.exp(-.5*r*r)}function hq(t,e,n,r,i){const o=[],a=r-n;for(let l=0;l<i;l++){const u=n+a*l/(i-1);o.push({x:Math.round(u*10)/10,y:fq(u,t,e)})}const s=Math.max(...o.map(l=>l.y),1e-9);return o.map(l=>({x:l.x,y:l.y/s}))}const Nv=50,dq={1:"",2:"",3:""};function N2({players:t,rows:e}){const[n,r]=D.useState(!1),i=D.useMemo(()=>{if(e&&e.length)return[...e].sort((u,c)=>c.profit-u.profit);const l=(t??[]).map(u=>{const c=(u.ordersByWeek??[]).filter(d=>typeof d=="number"),f=c.length?c.reduce((d,p)=>d+p,0)/c.length:0;return{uid:u.uid,name:u.name??"Anonymous",profit:u.cumulativeProfit??0,avgOrder:f}});return l.sort((u,c)=>c.profit-u.profit),l},[t,e]),o=n?i:i.slice(0,Nv),a=i.length>Nv;return i.length===0?I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Leaderboard"}),I.jsx("p",{className:"small",children:"No players yet."})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{marginBottom:8},children:[I.jsx("h2",{style:{margin:0},children:"Leaderboard"}),I.jsxs("span",{className:"badge",children:[i.length," players"]})]}),I.jsxs("p",{className:"small",children:["Total profit and average order quantity.",a&&!n&&` Showing top ${Nv}.`]}),I.jsx("div",{className:"hr"}),I.jsx("div",{style:{overflowX:"auto",maxHeight:500,overflowY:"auto"},children:I.jsxs("table",{children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{style:{width:60},children:"Rank"}),I.jsx("th",{children:"Baker"}),I.jsx("th",{style:{textAlign:"right"},children:"Profit"}),I.jsx("th",{style:{textAlign:"right"},children:"Avg Order"})]})}),I.jsx("tbody",{children:o.map((s,l)=>{const u=l+1,c=u<=3,f=s.profit>=0?"var(--success)":"var(--danger)";return I.jsxs("tr",{className:c?"highlight":"",children:[I.jsx("td",{className:"mono",style:{fontWeight:c?700:400},children:dq[u]??u}),I.jsx("td",{style:{fontWeight:c?600:400},children:s.name}),I.jsxs("td",{className:"mono",style:{textAlign:"right",color:f,fontWeight:600},children:[s.profit>=0?"+":"",s.profit.toFixed(2)]}),I.jsx("td",{className:"mono",style:{textAlign:"right"},children:s.avgOrder.toFixed(1)})]},s.uid)})})]})}),a&&I.jsx("div",{style:{marginTop:16,textAlign:"center"},children:I.jsx("button",{className:"btn ghost",onClick:()=>r(s=>!s),children:n?"Show top 50 only":`Show all ${i.length} players`})})]})}function D2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=D2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=D2(t))&&(r&&(r+=" "),r+=e);return r}var pq=Array.isArray,Mn=pq,mq=typeof zh=="object"&&zh&&zh.Object===Object&&zh,j2=mq,gq=j2,yq=typeof self=="object"&&self&&self.Object===Object&&self,vq=gq||yq||Function("return this")(),ri=vq,_q=ri,wq=_q.Symbol,gh=wq,qP=gh,$2=Object.prototype,bq=$2.hasOwnProperty,xq=$2.toString,zu=qP?qP.toStringTag:void 0;function Sq(t){var e=bq.call(t,zu),n=t[zu];try{t[zu]=void 0;var r=!0}catch{}var i=xq.call(t);return r&&(e?t[zu]=n:delete t[zu]),i}var Tq=Sq,Eq=Object.prototype,Aq=Eq.toString;function Pq(t){return Aq.call(t)}var Oq=Pq,GP=gh,Iq=Tq,Cq=Oq,kq="[object Null]",Rq="[object Undefined]",XP=GP?GP.toStringTag:void 0;function Mq(t){return t==null?t===void 0?Rq:kq:XP&&XP in Object(t)?Iq(t):Cq(t)}var Fi=Mq;function Nq(t){return t!=null&&typeof t=="object"}var Bi=Nq,Dq=Fi,jq=Bi,$q="[object Symbol]";function Lq(t){return typeof t=="symbol"||jq(t)&&Dq(t)==$q}var ou=Lq,Vq=Mn,Fq=ou,Bq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uq=/^\w*$/;function zq(t,e){if(Vq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Fq(t)?!0:Uq.test(t)||!Bq.test(t)||e!=null&&t in Object(e)}var CS=zq;function Wq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=Wq;const au=Ke(Bo);var Hq=Fi,Kq=Bo,qq="[object AsyncFunction]",Gq="[object Function]",Xq="[object GeneratorFunction]",Yq="[object Proxy]";function Qq(t){if(!Kq(t))return!1;var e=Hq(t);return e==Gq||e==Xq||e==qq||e==Yq}var kS=Qq;const Se=Ke(kS);var Jq=ri,Zq=Jq["__core-js_shared__"],eG=Zq,Dv=eG,YP=function(){var t=/[^.]+$/.exec(Dv&&Dv.keys&&Dv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tG(t){return!!YP&&YP in t}var nG=tG,rG=Function.prototype,iG=rG.toString;function oG(t){if(t!=null){try{return iG.call(t)}catch{}try{return t+""}catch{}}return""}var L2=oG,aG=kS,sG=nG,lG=Bo,uG=L2,cG=/[\\^$.*+?()[\]{}|]/g,fG=/^\[object .+?Constructor\]$/,hG=Function.prototype,dG=Object.prototype,pG=hG.toString,mG=dG.hasOwnProperty,gG=RegExp("^"+pG.call(mG).replace(cG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yG(t){if(!lG(t)||sG(t))return!1;var e=aG(t)?gG:fG;return e.test(uG(t))}var vG=yG;function _G(t,e){return t==null?void 0:t[e]}var wG=_G,bG=vG,xG=wG;function SG(t,e){var n=xG(t,e);return bG(n)?n:void 0}var Qa=SG,TG=Qa,EG=TG(Object,"create"),Vg=EG,QP=Vg;function AG(){this.__data__=QP?QP(null):{},this.size=0}var PG=AG;function OG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var IG=OG,CG=Vg,kG="__lodash_hash_undefined__",RG=Object.prototype,MG=RG.hasOwnProperty;function NG(t){var e=this.__data__;if(CG){var n=e[t];return n===kG?void 0:n}return MG.call(e,t)?e[t]:void 0}var DG=NG,jG=Vg,$G=Object.prototype,LG=$G.hasOwnProperty;function VG(t){var e=this.__data__;return jG?e[t]!==void 0:LG.call(e,t)}var FG=VG,BG=Vg,UG="__lodash_hash_undefined__";function zG(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=BG&&e===void 0?UG:e,this}var WG=zG,HG=PG,KG=IG,qG=DG,GG=FG,XG=WG;function su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}su.prototype.clear=HG;su.prototype.delete=KG;su.prototype.get=qG;su.prototype.has=GG;su.prototype.set=XG;var YG=su;function QG(){this.__data__=[],this.size=0}var JG=QG;function ZG(t,e){return t===e||t!==t&&e!==e}var RS=ZG,e7=RS;function t7(t,e){for(var n=t.length;n--;)if(e7(t[n][0],e))return n;return-1}var Fg=t7,n7=Fg,r7=Array.prototype,i7=r7.splice;function o7(t){var e=this.__data__,n=n7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i7.call(e,n,1),--this.size,!0}var a7=o7,s7=Fg;function l7(t){var e=this.__data__,n=s7(e,t);return n<0?void 0:e[n][1]}var u7=l7,c7=Fg;function f7(t){return c7(this.__data__,t)>-1}var h7=f7,d7=Fg;function p7(t,e){var n=this.__data__,r=d7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var m7=p7,g7=JG,y7=a7,v7=u7,_7=h7,w7=m7;function lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lu.prototype.clear=g7;lu.prototype.delete=y7;lu.prototype.get=v7;lu.prototype.has=_7;lu.prototype.set=w7;var Bg=lu,b7=Qa,x7=ri,S7=b7(x7,"Map"),MS=S7,JP=YG,T7=Bg,E7=MS;function A7(){this.size=0,this.__data__={hash:new JP,map:new(E7||T7),string:new JP}}var P7=A7;function O7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I7=O7,C7=I7;function k7(t,e){var n=t.__data__;return C7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ug=k7,R7=Ug;function M7(t){var e=R7(this,t).delete(t);return this.size-=e?1:0,e}var N7=M7,D7=Ug;function j7(t){return D7(this,t).get(t)}var $7=j7,L7=Ug;function V7(t){return L7(this,t).has(t)}var F7=V7,B7=Ug;function U7(t,e){var n=B7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var z7=U7,W7=P7,H7=N7,K7=$7,q7=F7,G7=z7;function uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uu.prototype.clear=W7;uu.prototype.delete=H7;uu.prototype.get=K7;uu.prototype.has=q7;uu.prototype.set=G7;var NS=uu,V2=NS,X7="Expected a function";function DS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(X7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(DS.Cache||V2),n}DS.Cache=V2;var F2=DS;const Y7=Ke(F2);var Q7=F2,J7=500;function Z7(t){var e=Q7(t,function(r){return n.size===J7&&n.clear(),r}),n=e.cache;return e}var eX=Z7,tX=eX,nX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rX=/\\(\\)?/g,iX=tX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nX,function(n,r,i,o){e.push(i?o.replace(rX,"$1"):r||n)}),e}),oX=iX;function aX(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jS=aX,ZP=gh,sX=jS,lX=Mn,uX=ou,eO=ZP?ZP.prototype:void 0,tO=eO?eO.toString:void 0;function B2(t){if(typeof t=="string")return t;if(lX(t))return sX(t,B2)+"";if(uX(t))return tO?tO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cX=B2,fX=cX;function hX(t){return t==null?"":fX(t)}var U2=hX,dX=Mn,pX=CS,mX=oX,gX=U2;function yX(t,e){return dX(t)?t:pX(t,e)?[t]:mX(gX(t))}var z2=yX,vX=ou;function _X(t){if(typeof t=="string"||vX(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zg=_X,wX=z2,bX=zg;function xX(t,e){e=wX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bX(e[n++])];return n&&n==r?t:void 0}var $S=xX,SX=$S;function TX(t,e,n){var r=t==null?void 0:SX(t,e);return r===void 0?n:r}var W2=TX;const ur=Ke(W2);function EX(t){return t==null}var AX=EX;const ve=Ke(AX);var PX=Fi,OX=Mn,IX=Bi,CX="[object String]";function kX(t){return typeof t=="string"||!OX(t)&&IX(t)&&PX(t)==CX}var RX=kX;const Va=Ke(RX);var H2={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=Symbol.for("react.element"),VS=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),qg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),MX=Symbol.for("react.server_context"),Xg=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Qg=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),Zg=Symbol.for("react.lazy"),NX=Symbol.for("react.offscreen"),K2;K2=Symbol.for("react.module.reference");function dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LS:switch(t=t.type,t){case Wg:case Kg:case Hg:case Yg:case Qg:return t;default:switch(t=t&&t.$$typeof,t){case MX:case Gg:case Xg:case Zg:case Jg:case qg:return t;default:return e}}case VS:return e}}}Be.ContextConsumer=Gg;Be.ContextProvider=qg;Be.Element=LS;Be.ForwardRef=Xg;Be.Fragment=Wg;Be.Lazy=Zg;Be.Memo=Jg;Be.Portal=VS;Be.Profiler=Kg;Be.StrictMode=Hg;Be.Suspense=Yg;Be.SuspenseList=Qg;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return dr(t)===Gg};Be.isContextProvider=function(t){return dr(t)===qg};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LS};Be.isForwardRef=function(t){return dr(t)===Xg};Be.isFragment=function(t){return dr(t)===Wg};Be.isLazy=function(t){return dr(t)===Zg};Be.isMemo=function(t){return dr(t)===Jg};Be.isPortal=function(t){return dr(t)===VS};Be.isProfiler=function(t){return dr(t)===Kg};Be.isStrictMode=function(t){return dr(t)===Hg};Be.isSuspense=function(t){return dr(t)===Yg};Be.isSuspenseList=function(t){return dr(t)===Qg};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wg||t===Kg||t===Hg||t===Yg||t===Qg||t===NX||typeof t=="object"&&t!==null&&(t.$$typeof===Zg||t.$$typeof===Jg||t.$$typeof===qg||t.$$typeof===Gg||t.$$typeof===Xg||t.$$typeof===K2||t.getModuleId!==void 0)};Be.typeOf=dr;H2.exports=Be;var DX=H2.exports,jX=Fi,$X=Bi,LX="[object Number]";function VX(t){return typeof t=="number"||$X(t)&&jX(t)==LX}var q2=VX;const FX=Ke(q2);var BX=q2;function UX(t){return BX(t)&&t!=+t}var zX=UX;const cu=Ke(zX);var Or=function(e){return e===0?0:e>0?1:-1},ma=function(e){return Va(e)&&e.indexOf("%")===e.length-1},te=function(e){return FX(e)&&!cu(e)},WX=function(e){return ve(e)},Mt=function(e){return te(e)||Va(e)},HX=0,Ja=function(e){var n=++HX;return"".concat(e||"").concat(n)},Fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!Va(e))return r;var o;if(ma(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return cu(o)&&(o=r),i&&o>n&&(o=n),o},oo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},KX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_t=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var qX=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,f=0;f<n;f++)u=e[f].cx||0,c=e[f].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var d=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:d,b:(i-d*r)/n}},GX=function(e,n){return te(e)&&te(n)?e-n:Va(e)&&Va(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Zs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function H_(t){"@babel/helpers - typeof";return H_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(t)}var XX=["viewBox","children"],YX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nO=["points","pathLength"],jv={svg:XX,polygon:nO,polyline:nO},FS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!au(r))return null;var i={};return Object.keys(r).forEach(function(o){FS.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},QX=function(e,n,r){return function(i){return e(n,r,i),null}},hf=function(e,n,r){if(!au(e)||H_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];FS.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=QX(a,n,r))}),i},JX=["children"],ZX=["children"];function rO(t,e){if(t==null)return{};var n=eY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K_(t){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}var iO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oO=null,$v=null,BS=function t(e){if(e===oO&&Array.isArray($v))return $v;var n=[];return D.Children.forEach(e,function(r){ve(r)||(DX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$v=n,oO=e,n};function Rn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wi(i)}):r=[wi(e)],BS(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Vn(t,e){var n=Rn(t,e);return n&&n[0]}var aO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},tY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nY=function(e){return e&&e.type&&Va(e.type)&&tY.indexOf(e.type)>=0},G2=function(e){return e&&K_(e)==="object"&&"clipDot"in e},rY=function(e,n,r,i){var o,a=(o=jv==null?void 0:jv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&a.includes(n)||YX.includes(n))||r&&FS.includes(n)},we=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!au(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;rY((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},q_=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!sO(o,a))return!1}return!0},sO=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=rO(r,JX),a=n.props||{},s=a.children,l=rO(a,ZX);return i&&s?Zs(o,l)&&q_(i,s):!i&&!s?Zs(o,l):!1}return!1},lO=function(e,n){var r=[],i={};return BS(e).forEach(function(o,a){if(nY(o))r.push(o);else if(o){var s=wi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},iY=function(e){var n=e&&e.type;return n&&iO[n]?iO[n]:null},oY=function(e,n){return BS(n).indexOf(e)},aY=["children","width","height","viewBox","className","style","title","desc"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function sY(t,e){if(t==null)return{};var n=lY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=sY(t,aY),c=i||{width:n,height:r,x:0,y:0},f=Oe("recharts-surface",o);return j.createElement("svg",G_({},we(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var uY=["children","className"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function cY(t,e){if(t==null)return{};var n=fY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=cY(t,uY),o=Oe("recharts-layer",r);return j.createElement("g",Y_({className:o},we(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function hY(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var dY=hY,pY=dY;function mY(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:pY(t,e,n)}var gY=mY,yY="\\ud800-\\udfff",vY="\\u0300-\\u036f",_Y="\\ufe20-\\ufe2f",wY="\\u20d0-\\u20ff",bY=vY+_Y+wY,xY="\\ufe0e\\ufe0f",SY="\\u200d",TY=RegExp("["+SY+yY+bY+xY+"]");function EY(t){return TY.test(t)}var X2=EY;function AY(t){return t.split("")}var PY=AY,Y2="\\ud800-\\udfff",OY="\\u0300-\\u036f",IY="\\ufe20-\\ufe2f",CY="\\u20d0-\\u20ff",kY=OY+IY+CY,RY="\\ufe0e\\ufe0f",MY="["+Y2+"]",Q_="["+kY+"]",J_="\\ud83c[\\udffb-\\udfff]",NY="(?:"+Q_+"|"+J_+")",Q2="[^"+Y2+"]",J2="(?:\\ud83c[\\udde6-\\uddff]){2}",Z2="[\\ud800-\\udbff][\\udc00-\\udfff]",DY="\\u200d",e$=NY+"?",t$="["+RY+"]?",jY="(?:"+DY+"(?:"+[Q2,J2,Z2].join("|")+")"+t$+e$+")*",$Y=t$+e$+jY,LY="(?:"+[Q2+Q_+"?",Q_,J2,Z2,MY].join("|")+")",VY=RegExp(J_+"(?="+J_+")|"+LY+$Y,"g");function FY(t){return t.match(VY)||[]}var BY=FY,UY=PY,zY=X2,WY=BY;function HY(t){return zY(t)?WY(t):UY(t)}var KY=HY,qY=gY,GY=X2,XY=KY,YY=U2;function QY(t){return function(e){e=YY(e);var n=GY(e)?XY(e):void 0,r=n?n[0]:e.charAt(0),i=n?qY(n,1).join(""):e.slice(1);return r[t]()+i}}var JY=QY,ZY=JY,eQ=ZY("toUpperCase"),tQ=eQ;const ey=Ke(tQ);function qe(t){return function(){return t}}const n$=Math.cos,Kp=Math.sin,Nr=Math.sqrt,qp=Math.PI,ty=2*qp,Z_=Math.PI,ew=2*Z_,oa=1e-6,nQ=ew-oa;function r$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return r$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?r$:rQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>oa)if(!(Math.abs(f*l-u*c)>oa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,v=l*l+u*u,m=p*p+g*g,y=Math.sqrt(v),_=Math.sqrt(d),w=o*Math.tan((Z_-Math.acos((v+d-m)/(2*y*_)))/2),A=w/_,x=w/y;Math.abs(A-1)>oa&&this._append`L${e+A*c},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+x*l},${this._y1=n+x*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>oa||Math.abs(this._y1-c)>oa)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%ew+ew),d>nQ?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>oa&&this._append`A${r},${r},0,${+(d>=Z_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function US(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new iQ(e)}function zS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function i$(t){this._context=t}i$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ny(t){return new i$(t)}function o$(t){return t[0]}function a$(t){return t[1]}function s$(t,e){var n=qe(!0),r=null,i=ny,o=null,a=US(s);t=typeof t=="function"?t:t===void 0?o$:qe(t),e=typeof e=="function"?e:e===void 0?a$:qe(e);function s(l){var u,c=(l=zS(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function hd(t,e,n){var r=null,i=qe(!0),o=null,a=ny,s=null,l=US(u);t=typeof t=="function"?t:t===void 0?o$:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?a$:qe(+n);function u(f){var d,p,g,v=(f=zS(f)).length,m,y=!1,_,w=new Array(v),A=new Array(v);for(o==null&&(s=a(_=l())),d=0;d<=v;++d){if(!(d<v&&i(m=f[d],d,f))===y)if(y=!y)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=p;--g)s.point(w[g],A[g]);s.lineEnd(),s.areaEnd()}y&&(w[d]=+t(m,d,f),A[d]=+e(m,d,f),s.point(r?+r(m,d,f):w[d],n?+n(m,d,f):A[d]))}if(_)return s=null,_+""||null}function c(){return s$().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class l${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oQ(t){return new l$(t,!0)}function aQ(t){return new l$(t,!1)}const WS={draw(t,e){const n=Nr(e/qp);t.moveTo(n,0),t.arc(0,0,n,0,ty)}},sQ={draw(t,e){const n=Nr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},u$=Nr(1/3),lQ=u$*2,uQ={draw(t,e){const n=Nr(e/lQ),r=n*u$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},cQ={draw(t,e){const n=Nr(e),r=-n/2;t.rect(r,r,n,n)}},fQ=.8908130915292852,c$=Kp(qp/10)/Kp(7*qp/10),hQ=Kp(ty/10)*c$,dQ=-n$(ty/10)*c$,pQ={draw(t,e){const n=Nr(e*fQ),r=hQ*n,i=dQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ty*o/5,s=n$(a),l=Kp(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Lv=Nr(3),mQ={draw(t,e){const n=-Nr(e/(Lv*3));t.moveTo(0,n*2),t.lineTo(-Lv*n,-n),t.lineTo(Lv*n,-n),t.closePath()}},Qn=-.5,Jn=Nr(3)/2,tw=1/Nr(12),gQ=(tw/2+1)*3,yQ={draw(t,e){const n=Nr(e/gQ),r=n/2,i=n*tw,o=r,a=n*tw+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Qn*r-Jn*i,Jn*r+Qn*i),t.lineTo(Qn*o-Jn*a,Jn*o+Qn*a),t.lineTo(Qn*s-Jn*l,Jn*s+Qn*l),t.lineTo(Qn*r+Jn*i,Qn*i-Jn*r),t.lineTo(Qn*o+Jn*a,Qn*a-Jn*o),t.lineTo(Qn*s+Jn*l,Qn*l-Jn*s),t.closePath()}};function vQ(t,e){let n=null,r=US(i);t=typeof t=="function"?t:qe(t||WS),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Gp(){}function Xp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function f$(t){this._context=t}f$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Q(t){return new f$(t)}function h$(t){this._context=t}h$.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wQ(t){return new h$(t)}function d$(t){this._context=t}d$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bQ(t){return new d$(t)}function p$(t){this._context=t}p$.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xQ(t){return new p$(t)}function uO(t){return t<0?-1:1}function cO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(uO(o)+uO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function fO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Yp(t){this._context=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vv(this,this._t0,fO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vv(this,fO(this,n=cO(this,t,e)),n);break;default:Vv(this,this._t0,n=cO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function m$(t){this._context=new g$(t)}(m$.prototype=Object.create(Yp.prototype)).point=function(t,e){Yp.prototype.point.call(this,e,t)};function g$(t){this._context=t}g$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function SQ(t){return new Yp(t)}function TQ(t){return new m$(t)}function y$(t){this._context=t}y$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hO(t),i=hO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function EQ(t){return new y$(t)}function ry(t,e){this._context=t,this._t=e}ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function AQ(t){return new ry(t,.5)}function PQ(t){return new ry(t,0)}function OQ(t){return new ry(t,1)}function vl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function IQ(t,e){return t[e]}function CQ(t){const e=[];return e.key=t,e}function kQ(){var t=qe([]),e=nw,n=vl,r=IQ;function i(o){var a=Array.from(t.apply(this,arguments),CQ),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=zS(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?nw:typeof o=="function"?o:qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??vl,i):n},i}function RQ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}vl(t,e)}}function MQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}vl(t,e)}}function NQ(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,g=0;g<s;++g){var v=t[e[g]],m=v[r][1]||0,y=v[r-1][1]||0;p+=m-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,vl(t,e)}}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var DQ=["type","size","sizeType"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){jQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=LQ(t,"string");return df(e)=="symbol"?e:e+""}function LQ(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VQ(t,e){if(t==null)return{};var n=FQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var v$={symbolCircle:WS,symbolCross:sQ,symbolDiamond:uQ,symbolSquare:cQ,symbolStar:pQ,symbolTriangle:mQ,symbolWye:yQ},BQ=Math.PI/180,UQ=function(e){var n="symbol".concat(ey(e));return v$[n]||WS},zQ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BQ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WQ=function(e,n){v$["symbol".concat(ey(e))]=n},iy=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=VQ(e,DQ),u=pO(pO({},l),{},{type:r,size:o,sizeType:s}),c=function(){var m=UQ(r),y=vQ().type(m).size(zQ(o,s,r));return y()},f=u.className,d=u.cx,p=u.cy,g=we(u,!0);return d===+d&&p===+p&&o===+o?j.createElement("path",rw({},g,{className:Oe("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};iy.registerSymbol=WQ;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){pf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function GQ(t,e,n){return e&&qQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XQ(t,e,n){return e=Qp(e),YQ(t,_$()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function YQ(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QQ(t)}function QQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function JQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function pf(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=ZQ(t,"string");return _l(e)=="symbol"?e:e+""}function ZQ(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zn=32,HS=function(t){function e(){return KQ(this,e),XQ(this,e,arguments)}return JQ(e,t),GQ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zn/2,a=Zn/6,s=Zn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Zn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=HQ({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(iy,{fill:l,cx:o,cy:o,size:Zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Zn,height:Zn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var v=p.formatter||l,m=Oe(pf(pf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Se(p.value)?null:p.value;bi(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return j.createElement("li",iw({className:m,style:f,key:"legend-item-".concat(g)},hf(r.props,p,g)),j.createElement(X_,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);pf(HS,"displayName","Legend");pf(HS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eJ=Bg;function tJ(){this.__data__=new eJ,this.size=0}var nJ=tJ;function rJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var iJ=rJ;function oJ(t){return this.__data__.get(t)}var aJ=oJ;function sJ(t){return this.__data__.has(t)}var lJ=sJ,uJ=Bg,cJ=MS,fJ=NS,hJ=200;function dJ(t,e){var n=this.__data__;if(n instanceof uJ){var r=n.__data__;if(!cJ||r.length<hJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fJ(r)}return n.set(t,e),this.size=n.size,this}var pJ=dJ,mJ=Bg,gJ=nJ,yJ=iJ,vJ=aJ,_J=lJ,wJ=pJ;function fu(t){var e=this.__data__=new mJ(t);this.size=e.size}fu.prototype.clear=gJ;fu.prototype.delete=yJ;fu.prototype.get=vJ;fu.prototype.has=_J;fu.prototype.set=wJ;var b$=fu,bJ="__lodash_hash_undefined__";function xJ(t){return this.__data__.set(t,bJ),this}var SJ=xJ;function TJ(t){return this.__data__.has(t)}var EJ=TJ,AJ=NS,PJ=SJ,OJ=EJ;function Jp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new AJ;++e<n;)this.add(t[e])}Jp.prototype.add=Jp.prototype.push=PJ;Jp.prototype.has=OJ;var x$=Jp;function IJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var S$=IJ;function CJ(t,e){return t.has(e)}var T$=CJ,kJ=x$,RJ=S$,MJ=T$,NJ=1,DJ=2;function jJ(t,e,n,r,i,o){var a=n&NJ,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&DJ?new kJ:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],v=e[f];if(r)var m=a?r(v,g,f,e,t,o):r(g,v,f,t,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(p){if(!RJ(e,function(y,_){if(!MJ(p,_)&&(g===y||i(g,y,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(g===v||i(g,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var E$=jJ,$J=ri,LJ=$J.Uint8Array,VJ=LJ;function FJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var BJ=FJ;function UJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var KS=UJ,gO=gh,yO=VJ,zJ=RS,WJ=E$,HJ=BJ,KJ=KS,qJ=1,GJ=2,XJ="[object Boolean]",YJ="[object Date]",QJ="[object Error]",JJ="[object Map]",ZJ="[object Number]",eZ="[object RegExp]",tZ="[object Set]",nZ="[object String]",rZ="[object Symbol]",iZ="[object ArrayBuffer]",oZ="[object DataView]",vO=gO?gO.prototype:void 0,Fv=vO?vO.valueOf:void 0;function aZ(t,e,n,r,i,o,a){switch(n){case oZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iZ:return!(t.byteLength!=e.byteLength||!o(new yO(t),new yO(e)));case XJ:case YJ:case ZJ:return zJ(+t,+e);case QJ:return t.name==e.name&&t.message==e.message;case eZ:case nZ:return t==e+"";case JJ:var s=HJ;case tZ:var l=r&qJ;if(s||(s=KJ),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=GJ,a.set(t,e);var c=WJ(s(t),s(e),r,i,o,a);return a.delete(t),c;case rZ:if(Fv)return Fv.call(t)==Fv.call(e)}return!1}var sZ=aZ;function lZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var A$=lZ,uZ=A$,cZ=Mn;function fZ(t,e,n){var r=e(t);return cZ(t)?r:uZ(r,n(t))}var hZ=fZ;function dZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var pZ=dZ;function mZ(){return[]}var gZ=mZ,yZ=pZ,vZ=gZ,_Z=Object.prototype,wZ=_Z.propertyIsEnumerable,_O=Object.getOwnPropertySymbols,bZ=_O?function(t){return t==null?[]:(t=Object(t),yZ(_O(t),function(e){return wZ.call(t,e)}))}:vZ,xZ=bZ;function SZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var TZ=SZ,EZ=Fi,AZ=Bi,PZ="[object Arguments]";function OZ(t){return AZ(t)&&EZ(t)==PZ}var IZ=OZ,wO=IZ,CZ=Bi,P$=Object.prototype,kZ=P$.hasOwnProperty,RZ=P$.propertyIsEnumerable,MZ=wO(function(){return arguments}())?wO:function(t){return CZ(t)&&kZ.call(t,"callee")&&!RZ.call(t,"callee")},qS=MZ,Zp={exports:{}};function NZ(){return!1}var DZ=NZ;Zp.exports;(function(t,e){var n=ri,r=DZ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Zp,Zp.exports);var O$=Zp.exports,jZ=9007199254740991,$Z=/^(?:0|[1-9]\d*)$/;function LZ(t,e){var n=typeof t;return e=e??jZ,!!e&&(n=="number"||n!="symbol"&&$Z.test(t))&&t>-1&&t%1==0&&t<e}var GS=LZ,VZ=9007199254740991;function FZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=VZ}var XS=FZ,BZ=Fi,UZ=XS,zZ=Bi,WZ="[object Arguments]",HZ="[object Array]",KZ="[object Boolean]",qZ="[object Date]",GZ="[object Error]",XZ="[object Function]",YZ="[object Map]",QZ="[object Number]",JZ="[object Object]",ZZ="[object RegExp]",eee="[object Set]",tee="[object String]",nee="[object WeakMap]",ree="[object ArrayBuffer]",iee="[object DataView]",oee="[object Float32Array]",aee="[object Float64Array]",see="[object Int8Array]",lee="[object Int16Array]",uee="[object Int32Array]",cee="[object Uint8Array]",fee="[object Uint8ClampedArray]",hee="[object Uint16Array]",dee="[object Uint32Array]",Qe={};Qe[oee]=Qe[aee]=Qe[see]=Qe[lee]=Qe[uee]=Qe[cee]=Qe[fee]=Qe[hee]=Qe[dee]=!0;Qe[WZ]=Qe[HZ]=Qe[ree]=Qe[KZ]=Qe[iee]=Qe[qZ]=Qe[GZ]=Qe[XZ]=Qe[YZ]=Qe[QZ]=Qe[JZ]=Qe[ZZ]=Qe[eee]=Qe[tee]=Qe[nee]=!1;function pee(t){return zZ(t)&&UZ(t.length)&&!!Qe[BZ(t)]}var mee=pee;function gee(t){return function(e){return t(e)}}var I$=gee,em={exports:{}};em.exports;(function(t,e){var n=j2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(em,em.exports);var yee=em.exports,vee=mee,_ee=I$,bO=yee,xO=bO&&bO.isTypedArray,wee=xO?_ee(xO):vee,C$=wee,bee=TZ,xee=qS,See=Mn,Tee=O$,Eee=GS,Aee=C$,Pee=Object.prototype,Oee=Pee.hasOwnProperty;function Iee(t,e){var n=See(t),r=!n&&xee(t),i=!n&&!r&&Tee(t),o=!n&&!r&&!i&&Aee(t),a=n||r||i||o,s=a?bee(t.length,String):[],l=s.length;for(var u in t)(e||Oee.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Eee(u,l)))&&s.push(u);return s}var Cee=Iee,kee=Object.prototype;function Ree(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||kee;return t===n}var Mee=Ree;function Nee(t,e){return function(n){return t(e(n))}}var k$=Nee,Dee=k$,jee=Dee(Object.keys,Object),$ee=jee,Lee=Mee,Vee=$ee,Fee=Object.prototype,Bee=Fee.hasOwnProperty;function Uee(t){if(!Lee(t))return Vee(t);var e=[];for(var n in Object(t))Bee.call(t,n)&&n!="constructor"&&e.push(n);return e}var zee=Uee,Wee=kS,Hee=XS;function Kee(t){return t!=null&&Hee(t.length)&&!Wee(t)}var yh=Kee,qee=Cee,Gee=zee,Xee=yh;function Yee(t){return Xee(t)?qee(t):Gee(t)}var oy=Yee,Qee=hZ,Jee=xZ,Zee=oy;function ete(t){return Qee(t,Zee,Jee)}var tte=ete,SO=tte,nte=1,rte=Object.prototype,ite=rte.hasOwnProperty;function ote(t,e,n,r,i,o){var a=n&nte,s=SO(t),l=s.length,u=SO(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:ite.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<l;){d=s[f];var y=t[d],_=e[d];if(r)var w=a?r(_,y,d,e,t,o):r(y,_,d,t,e,o);if(!(w===void 0?y===_||i(y,_,n,r,o):w)){v=!1;break}m||(m=d=="constructor")}if(v&&!m){var A=t.constructor,x=e.constructor;A!=x&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof x=="function"&&x instanceof x)&&(v=!1)}return o.delete(t),o.delete(e),v}var ate=ote,ste=Qa,lte=ri,ute=ste(lte,"DataView"),cte=ute,fte=Qa,hte=ri,dte=fte(hte,"Promise"),pte=dte,mte=Qa,gte=ri,yte=mte(gte,"Set"),R$=yte,vte=Qa,_te=ri,wte=vte(_te,"WeakMap"),bte=wte,aw=cte,sw=MS,lw=pte,uw=R$,cw=bte,M$=Fi,hu=L2,TO="[object Map]",xte="[object Object]",EO="[object Promise]",AO="[object Set]",PO="[object WeakMap]",OO="[object DataView]",Ste=hu(aw),Tte=hu(sw),Ete=hu(lw),Ate=hu(uw),Pte=hu(cw),aa=M$;(aw&&aa(new aw(new ArrayBuffer(1)))!=OO||sw&&aa(new sw)!=TO||lw&&aa(lw.resolve())!=EO||uw&&aa(new uw)!=AO||cw&&aa(new cw)!=PO)&&(aa=function(t){var e=M$(t),n=e==xte?t.constructor:void 0,r=n?hu(n):"";if(r)switch(r){case Ste:return OO;case Tte:return TO;case Ete:return EO;case Ate:return AO;case Pte:return PO}return e});var Ote=aa,Bv=b$,Ite=E$,Cte=sZ,kte=ate,IO=Ote,CO=Mn,kO=O$,Rte=C$,Mte=1,RO="[object Arguments]",MO="[object Array]",dd="[object Object]",Nte=Object.prototype,NO=Nte.hasOwnProperty;function Dte(t,e,n,r,i,o){var a=CO(t),s=CO(e),l=a?MO:IO(t),u=s?MO:IO(e);l=l==RO?dd:l,u=u==RO?dd:u;var c=l==dd,f=u==dd,d=l==u;if(d&&kO(t)){if(!kO(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Bv),a||Rte(t)?Ite(t,e,n,r,i,o):Cte(t,e,l,n,r,i,o);if(!(n&Mte)){var p=c&&NO.call(t,"__wrapped__"),g=f&&NO.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,m=g?e.value():e;return o||(o=new Bv),i(v,m,n,r,o)}}return d?(o||(o=new Bv),kte(t,e,n,r,i,o)):!1}var jte=Dte,$te=jte,DO=Bi;function N$(t,e,n,r,i){return t===e?!0:t==null||e==null||!DO(t)&&!DO(e)?t!==t&&e!==e:$te(t,e,n,r,N$,i)}var YS=N$,Lte=b$,Vte=YS,Fte=1,Bte=2;function Ute(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Lte;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?Vte(c,u,Fte|Bte,r,f):d))return!1}}return!0}var zte=Ute,Wte=Bo;function Hte(t){return t===t&&!Wte(t)}var D$=Hte,Kte=D$,qte=oy;function Gte(t){for(var e=qte(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Kte(i)]}return e}var Xte=Gte;function Yte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var j$=Yte,Qte=zte,Jte=Xte,Zte=j$;function ene(t){var e=Jte(t);return e.length==1&&e[0][2]?Zte(e[0][0],e[0][1]):function(n){return n===t||Qte(n,t,e)}}var tne=ene;function nne(t,e){return t!=null&&e in Object(t)}var rne=nne,ine=z2,one=qS,ane=Mn,sne=GS,lne=XS,une=zg;function cne(t,e,n){e=ine(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=une(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lne(i)&&sne(a,i)&&(ane(t)||one(t)))}var fne=cne,hne=rne,dne=fne;function pne(t,e){return t!=null&&dne(t,e,hne)}var mne=pne,gne=YS,yne=W2,vne=mne,_ne=CS,wne=D$,bne=j$,xne=zg,Sne=1,Tne=2;function Ene(t,e){return _ne(t)&&wne(e)?bne(xne(t),e):function(n){var r=yne(n,t);return r===void 0&&r===e?vne(n,t):gne(e,r,Sne|Tne)}}var Ane=Ene;function Pne(t){return t}var du=Pne;function One(t){return function(e){return e==null?void 0:e[t]}}var Ine=One,Cne=$S;function kne(t){return function(e){return Cne(e,t)}}var Rne=kne,Mne=Ine,Nne=Rne,Dne=CS,jne=zg;function $ne(t){return Dne(t)?Mne(jne(t)):Nne(t)}var Lne=$ne,Vne=tne,Fne=Ane,Bne=du,Une=Mn,zne=Lne;function Wne(t){return typeof t=="function"?t:t==null?Bne:typeof t=="object"?Une(t)?Fne(t[0],t[1]):Vne(t):zne(t)}var Uo=Wne;function Hne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $$=Hne;function Kne(t){return t!==t}var qne=Kne;function Gne(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Xne=Gne,Yne=$$,Qne=qne,Jne=Xne;function Zne(t,e,n){return e===e?Jne(t,e,n):Yne(t,Qne,n)}var ere=Zne,tre=ere;function nre(t,e){var n=t==null?0:t.length;return!!n&&tre(t,e,0)>-1}var rre=nre;function ire(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ore=ire;function are(){}var sre=are,Uv=R$,lre=sre,ure=KS,cre=1/0,fre=Uv&&1/ure(new Uv([,-0]))[1]==cre?function(t){return new Uv(t)}:lre,hre=fre,dre=x$,pre=rre,mre=ore,gre=T$,yre=hre,vre=KS,_re=200;function wre(t,e,n){var r=-1,i=pre,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=mre;else if(o>=_re){var u=e?null:yre(t);if(u)return vre(u);a=!1,i=gre,l=new dre}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var bre=wre,xre=Uo,Sre=bre;function Tre(t,e){return t&&t.length?Sre(t,xre(e)):[]}var Ere=Tre;const jO=Ke(Ere);function L$(t,e,n){return e===!0?jO(t,n):Se(e)?jO(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Are=["ref"];function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F$(r.key),r)}}function Ore(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ire(t,e,n){return e=tm(e),Cre(t,V$()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function Cre(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(t)}function kre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function Rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function ay(t,e,n){return e=F$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=Mre(t,"string");return wl(e)=="symbol"?e:e+""}function Mre(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nre(t,e){if(t==null)return{};var n=Dre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jre(t){return t.value}function $re(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=Nre(e,Are);return j.createElement(HS,n)}var VO=1,el=function(t){function e(){var n;Pre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ire(this,e,[].concat(i)),ay(n,"lastBoundingBox",{width:-1,height:-1}),n}return Rre(e,t),Ore(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>VO||Math.abs(i.height-this.lastBoundingBox.height)>VO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ai(ai({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},$re(o,ai(ai({},this.props),{},{payload:L$(c,u,jre)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ai(ai({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&te(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);ay(el,"displayName","Legend");ay(el,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FO=gh,Lre=qS,Vre=Mn,BO=FO?FO.isConcatSpreadable:void 0;function Fre(t){return Vre(t)||Lre(t)||!!(BO&&t&&t[BO])}var Bre=Fre,Ure=A$,zre=Bre;function B$(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=zre),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?B$(s,e-1,n,r,i):Ure(i,s):r||(i[i.length]=s)}return i}var U$=B$;function Wre(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Hre=Wre,Kre=Hre,qre=Kre(),Gre=qre,Xre=Gre,Yre=oy;function Qre(t,e){return t&&Xre(t,e,Yre)}var z$=Qre,Jre=yh;function Zre(t,e){return function(n,r){if(n==null)return n;if(!Jre(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var eie=Zre,tie=z$,nie=eie,rie=nie(tie),QS=rie,iie=QS,oie=yh;function aie(t,e){var n=-1,r=oie(t)?Array(t.length):[];return iie(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var W$=aie;function sie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var lie=sie,UO=ou;function uie(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=UO(t),a=e!==void 0,s=e===null,l=e===e,u=UO(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var cie=uie,fie=cie;function hie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=fie(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var die=hie,zv=jS,pie=$S,mie=Uo,gie=W$,yie=lie,vie=I$,_ie=die,wie=du,bie=Mn;function xie(t,e,n){e.length?e=zv(e,function(o){return bie(o)?function(a){return pie(a,o.length===1?o[0]:o)}:o}):e=[wie];var r=-1;e=zv(e,vie(mie));var i=gie(t,function(o,a,s){var l=zv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return yie(i,function(o,a){return _ie(o,a,n)})}var Sie=xie;function Tie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Eie=Tie,Aie=Eie,zO=Math.max;function Pie(t,e,n){return e=zO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=zO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Aie(t,this,s)}}var Oie=Pie;function Iie(t){return function(){return t}}var Cie=Iie,kie=Qa,Rie=function(){try{var t=kie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),H$=Rie,Mie=Cie,WO=H$,Nie=du,Die=WO?function(t,e){return WO(t,"toString",{configurable:!0,enumerable:!1,value:Mie(e),writable:!0})}:Nie,jie=Die,$ie=800,Lie=16,Vie=Date.now;function Fie(t){var e=0,n=0;return function(){var r=Vie(),i=Lie-(r-n);if(n=r,i>0){if(++e>=$ie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Bie=Fie,Uie=jie,zie=Bie,Wie=zie(Uie),Hie=Wie,Kie=du,qie=Oie,Gie=Hie;function Xie(t,e){return Gie(qie(t,e,Kie),t+"")}var Yie=Xie,Qie=RS,Jie=yh,Zie=GS,eoe=Bo;function toe(t,e,n){if(!eoe(n))return!1;var r=typeof e;return(r=="number"?Jie(n)&&Zie(e,n.length):r=="string"&&e in n)?Qie(n[e],t):!1}var sy=toe,noe=U$,roe=Sie,ioe=Yie,HO=sy,ooe=ioe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&HO(t,e[0],e[1])?e=[]:n>2&&HO(e[0],e[1],e[2])&&(e=[e[0]]),roe(t,noe(e,1),[])}),aoe=ooe;const JS=Ke(aoe);function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function soe(t,e){return foe(t)||coe(t,e)||uoe(t,e)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return KO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function coe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function foe(t){if(Array.isArray(t))return t}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return e=doe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=poe(t,"string");return mf(e)=="symbol"?e:e+""}function poe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var K$=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,v=e.label,m=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,w=function(){if(c&&c.length){var M={padding:0,margin:0},R=(d?JS(c,d):c).map(function(V,F){if(V.type==="none")return null;var W=Wv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),U=V.formatter||f||moe,$=V.value,B=V.name,q=$,re=B;if(U&&q!=null&&re!=null){var Y=U($,B,V,F,c);if(Array.isArray(Y)){var ie=soe(Y,2);q=ie[0],re=ie[1]}else q=Y}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},Mt(re)?j.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Mt(re)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},q),j.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:M},R)}return null},A=Wv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=Wv({margin:0},u),E=!ve(v),S=E?v:"",T=Oe("recharts-default-tooltip",p),P=Oe("recharts-tooltip-label",g);E&&m&&c!==void 0&&c!==null&&(S=m(v,c));var C=_?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",hw({className:T,style:A},C),j.createElement("p",{className:P,style:x},j.isValidElement(S)?S:"".concat(S)),w())};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function pd(t,e,n){return e=goe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function goe(t){var e=yoe(t,"string");return gf(e)=="symbol"?e:e+""}function yoe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wu="recharts-tooltip-wrapper",voe={visibility:"hidden"};function _oe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Oe(Wu,pd(pd(pd(pd({},"".concat(Wu,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(Wu,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(Wu,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(Wu,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function GO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,v=l[r]+u;return g>v?Math.max(c,l[r]):Math.max(f,l[r])}function woe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function boe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=GO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=GO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=woe({translateX:c,translateY:f,useTranslate3d:s})):u=voe,{cssProperties:u,cssClasses:_oe({translateX:c,translateY:f,coordinate:n})}}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Soe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G$(r.key),r)}}function Toe(t,e,n){return e&&Soe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eoe(t,e,n){return e=nm(e),Aoe(t,q$()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Aoe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Poe(t)}function Poe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function pw(t,e,n){return e=G$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=Ioe(t,"string");return bl(e)=="symbol"?e:e+""}function Ioe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QO=1,Coe=function(t){function e(){var n;xoe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Eoe(this,e,[].concat(i)),pw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pw(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ooe(e,t),Toe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QO||Math.abs(r.height-this.state.lastBoundingBox.height)>QO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,g=i.position,v=i.reverseDirection,m=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,w=boe({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:y}),A=w.cssClasses,x=w.cssProperties,E=YO(YO({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return j.createElement("div",{tabIndex:-1,className:A,style:E,ref:function(T){r.wrapperNode=T}},u)}}])}(D.PureComponent),koe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zo={isSsr:koe()};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Moe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y$(r.key),r)}}function Noe(t,e,n){return e&&Moe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Doe(t,e,n){return e=rm(e),joe(t,X$()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function joe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $oe(t)}function $oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function ZS(t,e,n){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t){var e=Voe(t,"string");return xl(e)=="symbol"?e:e+""}function Voe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Foe(t){return t.dataKey}function Boe(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(K$,e)}var wn=function(t){function e(){return Roe(this,e),Doe(this,e,arguments)}return Loe(e,t),Noe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,g=i.payload,v=i.payloadUniqBy,m=i.position,y=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,x=g??[];f&&x.length&&(x=L$(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),v,Foe));var E=x.length>0;return j.createElement(Coe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:E,offset:p,position:m,reverseDirection:y,useTranslate3d:_,viewBox:w,wrapperStyle:A},Boe(u,ZO(ZO({},this.props),{},{payload:x})))}}])}(D.PureComponent);ZS(wn,"displayName","Tooltip");ZS(wn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Uoe=ri,zoe=function(){return Uoe.Date.now()},Woe=zoe,Hoe=/\s/;function Koe(t){for(var e=t.length;e--&&Hoe.test(t.charAt(e)););return e}var qoe=Koe,Goe=qoe,Xoe=/^\s+/;function Yoe(t){return t&&t.slice(0,Goe(t)+1).replace(Xoe,"")}var Qoe=Yoe,Joe=Qoe,eI=Bo,Zoe=ou,tI=NaN,eae=/^[-+]0x[0-9a-f]+$/i,tae=/^0b[01]+$/i,nae=/^0o[0-7]+$/i,rae=parseInt;function iae(t){if(typeof t=="number")return t;if(Zoe(t))return tI;if(eI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Joe(t);var n=tae.test(t);return n||nae.test(t)?rae(t.slice(2),n?2:8):eae.test(t)?tI:+t}var Q$=iae,oae=Bo,Hv=Woe,nI=Q$,aae="Expected a function",sae=Math.max,lae=Math.min;function uae(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(aae);e=nI(e)||0,oae(n)&&(c=!!n.leading,f="maxWait"in n,o=f?sae(nI(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(E){var S=r,T=i;return r=i=void 0,u=E,a=t.apply(T,S),a}function g(E){return u=E,s=setTimeout(y,e),c?p(E):a}function v(E){var S=E-l,T=E-u,P=e-S;return f?lae(P,o-T):P}function m(E){var S=E-l,T=E-u;return l===void 0||S>=e||S<0||f&&T>=o}function y(){var E=Hv();if(m(E))return _(E);s=setTimeout(y,v(E))}function _(E){return s=void 0,d&&r?p(E):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function A(){return s===void 0?a:_(Hv())}function x(){var E=Hv(),S=m(E);if(r=arguments,i=this,l=E,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),a}return x.cancel=w,x.flush=A,x}var cae=uae,fae=cae,hae=Bo,dae="Expected a function";function pae(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(dae);return hae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fae(t,e,{leading:r,maxWait:e,trailing:i})}var mae=pae;const J$=Ke(mae);function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return e=yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return yf(e)=="symbol"?e:e+""}function vae(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ae(t,e){return Sae(t)||xae(t,e)||bae(t,e)||wae()}function wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Sae(t){if(Array.isArray(t))return t}var Sl=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,g=t.debounce,v=g===void 0?0:g,m=t.id,y=t.className,_=t.onResize,w=t.style,A=w===void 0?{}:w,x=D.useRef(null),E=D.useRef();E.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),T=_ae(S,2),P=T[0],C=T[1],k=D.useCallback(function(R,V){C(function(F){var W=Math.round(R),U=Math.round(V);return F.containerWidth===W&&F.containerHeight===U?F:{containerWidth:W,containerHeight:U}})},[]);D.useEffect(function(){var R=function(B){var q,re=B[0].contentRect,Y=re.width,ie=re.height;k(Y,ie),(q=E.current)===null||q===void 0||q.call(E,Y,ie)};v>0&&(R=J$(R,v,{trailing:!0,leading:!1}));var V=new ResizeObserver(R),F=x.current.getBoundingClientRect(),W=F.width,U=F.height;return k(W,U),V.observe(x.current),function(){V.disconnect()}},[k,v]);var M=D.useMemo(function(){var R=P.containerWidth,V=P.containerHeight;if(R<0||V<0)return null;bi(ma(a)||ma(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=ma(a)?R:a,W=ma(l)?V:l;n&&n>0&&(F?W=F/n:W&&(F=W*n),d&&W>d&&(W=d)),bi(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,a,l,c,f,n);var U=!Array.isArray(p)&&wi(p.type).endsWith("Chart");return j.Children.map(p,function($){return j.isValidElement($)?D.cloneElement($,md({width:F,height:W},U?{style:md({height:"100%",width:"100%",maxHeight:W,maxWidth:F},$.props.style)}:{})):$})},[n,p,l,d,f,c,P,a]);return j.createElement("div",{id:m?"".concat(m):void 0,className:Oe("recharts-responsive-container",y),style:md(md({},A),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:x},M)}),eT=function(e){return null};eT.displayName="Cell";function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e,n){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Aae(t,"string");return vf(e)=="symbol"?e:e+""}function Aae(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var us={widthCache:{},cacheCount:0},Pae=2e3,Oae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aI="recharts_measurement_span";function Iae(t){var e=gw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Pc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zo.isSsr)return{width:0,height:0};var r=Iae(n),i=JSON.stringify({text:e,copyStyle:r});if(us.widthCache[i])return us.widthCache[i];try{var o=document.getElementById(aI);o||(o=document.createElement("span"),o.setAttribute("id",aI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=gw(gw({},Oae),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return us.widthCache[i]=l,++us.cacheCount>Pae&&(us.cacheCount=0,us.widthCache={}),l}catch{return{width:0,height:0}}},Cae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function im(t,e){return Nae(t)||Mae(t,e)||Rae(t,e)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nae(t){if(Array.isArray(t))return t}function Dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ae(r.key),r)}}function jae(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ae(t){var e=Lae(t,"string");return _f(e)=="symbol"?e:e+""}function Lae(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bae=Object.keys(Z$),Cs="NaN";function Uae(t,e){return t*Z$[e]}var gd=function(){function t(e,n){Dae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Vae.test(n)&&(this.num=NaN,this.unit=""),Bae.includes(n)&&(this.num=Uae(e,n),this.unit="px")}return jae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Fae.exec(n))!==null&&r!==void 0?r:[],o=im(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function eL(t){if(t.includes(Cs))return Cs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=uI.exec(e))!==null&&n!==void 0?n:[],i=im(r,4),o=i[1],a=i[2],s=i[3],l=gd.parse(o??""),u=gd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Cs;e=e.replace(uI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=cI.exec(e))!==null&&f!==void 0?f:[],p=im(d,4),g=p[1],v=p[2],m=p[3],y=gd.parse(g??""),_=gd.parse(m??""),w=v==="+"?y.add(_):y.subtract(_);if(w.isNaN())return Cs;e=e.replace(cI,w.toString())}return e}var fI=/\(([^()]*)\)/;function zae(t){for(var e=t;e.includes("(");){var n=fI.exec(e),r=im(n,2),i=r[1];e=e.replace(fI,eL(i))}return e}function Wae(t){var e=t.replace(/\s+/g,"");return e=zae(e),e=eL(e),e}function Hae(t){try{return Wae(t)}catch{return Cs}}function Kv(t){var e=Hae(t.slice(5,-1));return e===Cs?"":e}var Kae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qae=["dx","dy","angle","className","breakAll"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function hI(t,e){if(t==null)return{};var n=Gae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dI(t,e){return Jae(t)||Qae(t,e)||Yae(t,e)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Jae(t){if(Array.isArray(t))return t}var tL=/[ \f\n\r\t\v\u2028\u2029]+/,nL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(tL));var a=o.map(function(l){return{word:l,width:Pc(l,i).width}}),s=r?0:Pc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Zae=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=te(a),f=s,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,U){var $=U.word,B=U.width,q=W[W.length-1];if(q&&(i==null||o||q.width+B+r<Number(i)))q.words.push($),q.width+=B+r;else{var re={words:[$],width:B};W.push(re)}return W},[])},p=d(n),g=function(F){return F.reduce(function(W,U){return W.width>U.width?W:U})};if(!c)return p;for(var v="",m=function(F){var W=f.slice(0,F),U=nL({breakAll:u,style:l,children:W+v}).wordsWithComputedWidth,$=d(U),B=$.length>a||g($).width>Number(i);return[B,$]},y=0,_=f.length-1,w=0,A;y<=_&&w<=f.length-1;){var x=Math.floor((y+_)/2),E=x-1,S=m(E),T=dI(S,2),P=T[0],C=T[1],k=m(x),M=dI(k,1),R=M[0];if(!P&&!R&&(y=x+1),P&&R&&(_=x-1),!P&&R){A=C;break}w++}return A||p},mI=function(e){var n=ve(e)?[]:e.toString().split(tL);return[{words:n}]},ese=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!zo.isSsr){var l,u,c=nL({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return mI(i);return Zae({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return mI(i)},gI="#808080",om=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,g=e.verticalAnchor,v=g===void 0?"end":g,m=e.fill,y=m===void 0?gI:m,_=hI(e,Kae),w=D.useMemo(function(){return ese({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),A=_.dx,x=_.dy,E=_.angle,S=_.className,T=_.breakAll,P=hI(_,qae);if(!Mt(r)||!Mt(o))return null;var C=r+(te(A)?A:0),k=o+(te(x)?x:0),M;switch(v){case"start":M=Kv("calc(".concat(u,")"));break;case"middle":M=Kv("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=Kv("calc(".concat(w.length-1," * -").concat(s,")"));break}var R=[];if(f){var V=w[0].width,F=_.width;R.push("scale(".concat((te(F)?F/V:1)/V,")"))}return E&&R.push("rotate(".concat(E,", ").concat(C,", ").concat(k,")")),R.length&&(P.transform=R.join(" ")),j.createElement("text",yw({},we(P,!0),{x:C,y:k,className:Oe("recharts-text",S),textAnchor:p,fill:y.includes("url")?gI:y}),w.map(function(W,U){var $=W.words.join(T?"":" ");return j.createElement("tspan",{x:C,dy:U===0?M:s,key:"".concat($,"-").concat(U)},$)}))};function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tT(t){let e,n,r;t.length!==2?(e=Po,n=(s,l)=>Po(t(s),l),r=(s,l)=>t(s)-l):(e=t===Po||t===tse?t:nse,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function nse(){return 0}function rL(t){return t===null?NaN:+t}function*rse(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ise=tT(Po),vh=ise.right;tT(rL).center;class yI extends Map{constructor(e,n=sse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(vI(this,e))}has(e){return super.has(vI(this,e))}set(e,n){return super.set(ose(this,e),n)}delete(e){return super.delete(ase(this,e))}}function vI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ose({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ase({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lse(t=Po){if(t===Po)return iL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function iL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const use=Math.sqrt(50),cse=Math.sqrt(10),fse=Math.sqrt(2);function am(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=use?10:o>=cse?5:o>=fse?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?am(t,e,n*2):[s,l,u]}function vw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?am(e,t,n):am(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function _w(t,e,n){return e=+e,t=+t,n=+n,am(t,e,n)[2]}function ww(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_w(e,t,n):_w(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _I(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?iL:lse(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),g=Math.min(r,Math.floor(e+(l-u)*f/l+d));oL(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Hu(t,n,e),i(t[r],o)>0&&Hu(t,n,r);a<s;){for(Hu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Hu(t,n,s):(++s,Hu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Hu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hse(t,e,n){if(t=Float64Array.from(rse(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wI(t);if(e>=1)return _I(t);var r,i=(r-1)*e,o=Math.floor(i),a=_I(oL(t,o).subarray(0,o+1)),s=wI(t.subarray(o+1));return a+(s-a)*(i-o)}}function dse(t,e,n=rL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function pse(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ui(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bw=Symbol("implicit");function nT(){var t=new yI,e=[],n=[],r=bw;function i(o){let a=t.get(o);if(a===void 0){if(r!==bw)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new yI;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nT(e,n).unknown(r)},pr.apply(i,arguments),i}function wf(){var t=nT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,g=p?i:r,v=p?r:i;o=(v-g)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),g+=(v-g-o*(d-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var m=pse(d).map(function(y){return g+o*y});return n(p?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return wf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},pr.apply(f(),arguments)}function aL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aL(e())},t}function Oc(){return aL(wf.apply(null,arguments).paddingInner(1))}function rT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _h(){}var bf=.7,sm=1/bf,tl="\\s*([+-]?\\d+)\\s*",xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mse=/^#([0-9a-f]{3,8})$/,gse=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),yse=new RegExp(`^rgb\\(${qr},${qr},${qr}\\)$`),vse=new RegExp(`^rgba\\(${tl},${tl},${tl},${xf}\\)$`),_se=new RegExp(`^rgba\\(${qr},${qr},${qr},${xf}\\)$`),wse=new RegExp(`^hsl\\(${xf},${qr},${qr}\\)$`),bse=new RegExp(`^hsla\\(${xf},${qr},${qr},${xf}\\)$`),bI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rT(_h,Sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xI,formatHex:xI,formatHex8:xse,formatHsl:Sse,formatRgb:SI,toString:SI});function xI(){return this.rgb().formatHex()}function xse(){return this.rgb().formatHex8()}function Sse(){return lL(this).formatHsl()}function SI(){return this.rgb().formatRgb()}function Sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TI(e):n===3?new Pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gse.exec(t))?new Pn(e[1],e[2],e[3],1):(e=yse.exec(t))?new Pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vse.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=_se.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wse.exec(t))?PI(e[1],e[2]/100,e[3]/100,1):(e=bse.exec(t))?PI(e[1],e[2]/100,e[3]/100,e[4]):bI.hasOwnProperty(t)?TI(bI[t]):t==="transparent"?new Pn(NaN,NaN,NaN,0):null}function TI(t){return new Pn(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pn(t,e,n,r)}function Tse(t){return t instanceof _h||(t=Sf(t)),t?(t=t.rgb(),new Pn(t.r,t.g,t.b,t.opacity)):new Pn}function xw(t,e,n,r){return arguments.length===1?Tse(t):new Pn(t,e,n,r??1)}function Pn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rT(Pn,xw,sL(_h,{brighter(t){return t=t==null?sm:Math.pow(sm,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bf:Math.pow(bf,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pn(Ea(this.r),Ea(this.g),Ea(this.b),lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EI,formatHex:EI,formatHex8:Ese,formatRgb:AI,toString:AI}));function EI(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}`}function Ese(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}${ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function AI(){const t=lm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ea(this.r)}, ${Ea(this.g)}, ${Ea(this.b)}${t===1?")":`, ${t})`}`}function lm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ea(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ga(t){return t=Ea(t),(t<16?"0":"")+t.toString(16)}function PI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function lL(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof _h||(t=Sf(t)),!t)return new Ar;if(t instanceof Ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ar(a,s,l,t.opacity)}function Ase(t,e,n,r){return arguments.length===1?lL(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rT(Ar,Ase,sL(_h,{brighter(t){return t=t==null?sm:Math.pow(sm,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bf:Math.pow(bf,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pn(qv(t>=240?t-240:t+120,i,r),qv(t,i,r),qv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar(OI(this.h),vd(this.s),vd(this.l),lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lm(this.opacity);return`${t===1?"hsl(":"hsla("}${OI(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OI(t){return t=(t||0)%360,t<0?t+360:t}function vd(t){return Math.max(0,Math.min(1,t||0))}function qv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iT=t=>()=>t;function Pse(t,e){return function(n){return t+n*e}}function Ose(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ise(t){return(t=+t)==1?uL:function(e,n){return n-e?Ose(e,n,t):iT(isNaN(e)?n:e)}}function uL(t,e){var n=e-t;return n?Pse(t,n):iT(isNaN(t)?e:t)}const II=function t(e){var n=Ise(e);function r(i,o){var a=n((i=xw(i)).r,(o=xw(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=uL(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Cse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function kse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=pu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Mse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function um(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Sw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gv=new RegExp(Sw.source,"g");function Dse(t){return function(){return t}}function jse(t){return function(e){return t(e)+""}}function $se(t,e){var n=Sw.lastIndex=Gv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Sw.exec(t))&&(i=Gv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:um(r,i)})),n=Gv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?jse(l[0].x):Dse(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function pu(t,e){var n=typeof e,r;return e==null||n==="boolean"?iT(e):(n==="number"?um:n==="string"?(r=Sf(e))?(e=r,II):$se:e instanceof Sf?II:e instanceof Date?Mse:kse(e)?Cse:Array.isArray(e)?Rse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nse:um)(t,e)}function oT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lse(t,e){e===void 0&&(e=t,t=pu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Vse(t){return function(){return t}}function cm(t){return+t}var CI=[0,1];function bn(t){return t}function Tw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vse(isNaN(e)?NaN:.5)}function Fse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Bse(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Tw(i,r),o=n(a,o)):(r=Tw(r,i),o=n(o,a)),function(s){return o(r(s))}}function Use(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Tw(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=vh(t,s,1,r)-1;return o[l](i[l](s))}}function wh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ly(){var t=CI,e=CI,n=pu,r,i,o,a=bn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==bn&&(a=Fse(t[0],t[d-1])),s=d>2?Use:Bse,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),um)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,cm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=oT,c()},f.clamp=function(d){return arguments.length?(a=d?!0:bn,c()):a!==bn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function aT(){return ly()(bn,bn)}function zse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tl(t){return t=fm(Math.abs(t)),t?t[1]:NaN}function Wse(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Hse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tf(t){if(!(e=Kse.exec(t)))throw new Error("invalid format: "+t);var e;return new sT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tf.prototype=sT.prototype;function sT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cL;function Gse(t,e){var n=fm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(cL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fm(t,Math.max(0,e+o-1))[0]}function kI(t,e){var n=fm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kI(t*100,e),r:kI,s:Gse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function MI(t){return t}var NI=Array.prototype.map,DI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xse(t){var e=t.grouping===void 0||t.thousands===void 0?MI:Wse(NI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?MI:Hse(NI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Tf(f);var d=f.fill,p=f.align,g=f.sign,v=f.symbol,m=f.zero,y=f.width,_=f.comma,w=f.precision,A=f.trim,x=f.type;x==="n"?(_=!0,x="g"):RI[x]||(w===void 0&&(w=12),A=!0,x="g"),(m||d==="0"&&p==="=")&&(m=!0,d="0",p="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=v==="$"?r:/[%p]/.test(x)?a:"",T=RI[x],P=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(k){var M=E,R=S,V,F,W;if(x==="c")R=T(k)+R,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),w),A&&(k=qse(k)),U&&+k==0&&g!=="+"&&(U=!1),M=(U?g==="("?g:s:g==="-"||g==="("?"":g)+M,R=(x==="s"?DI[8+cL/3]:"")+R+(U&&g==="("?")":""),P){for(V=-1,F=k.length;++V<F;)if(W=k.charCodeAt(V),48>W||W>57){R=(W===46?i+k.slice(V+1):k.slice(V))+R,k=k.slice(0,V);break}}}_&&!m&&(k=e(k,1/0));var $=M.length+k.length+R.length,B=$<y?new Array(y-$+1).join(d):"";switch(_&&m&&(k=e(B+k,B.length?y-R.length:1/0),B=""),p){case"<":k=M+k+R+B;break;case"=":k=M+B+k+R;break;case"^":k=B.slice(0,$=B.length>>1)+M+k+R+B.slice($);break;default:k=B+M+k+R;break}return o(k)}return C.toString=function(){return f+""},C}function c(f,d){var p=u((f=Tf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Tl(d)/3)))*3,v=Math.pow(10,-g),m=DI[8+g/3];return function(y){return p(v*y)+m}}return{format:u,formatPrefix:c}}var _d,lT,fL;Yse({thousands:",",grouping:[3],currency:["$",""]});function Yse(t){return _d=Xse(t),lT=_d.format,fL=_d.formatPrefix,_d}function Qse(t){return Math.max(0,-Tl(Math.abs(t)))}function Jse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tl(e)/3)))*3-Tl(Math.abs(t)))}function Zse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tl(e)-Tl(t))+1}function hL(t,e,n,r){var i=ww(t,e,n),o;switch(r=Tf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Jse(i,a))&&(r.precision=o),fL(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Zse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qse(i))&&(r.precision=o-(r.type==="%")*2);break}}return lT(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return vw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=_w(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function hm(){var t=aT();return t.copy=function(){return wh(t,hm())},pr.apply(t,arguments),Wo(t)}function dL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,cm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return dL(t).unknown(e)},t=arguments.length?Array.from(t,cm):[0,1],Wo(n)}function pL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function jI(t){return Math.log(t)}function $I(t){return Math.exp(t)}function ele(t){return-Math.log(-t)}function tle(t){return-Math.exp(-t)}function nle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rle(t){return t===10?nle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ile(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LI(t){return(e,n)=>-t(-e,n)}function uT(t){const e=t(jI,$I),n=e.domain;let r=10,i,o;function a(){return i=ile(r),o=rle(r),n()[0]<0?(i=LI(i),o=LI(o),t(ele,tle)):t(jI,$I),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),g,v;const m=s==null?10:+s;let y=[];if(!(r%1)&&p-d<m){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(v=d<0?g/o(-d):g*o(d),!(v<u)){if(v>c)break;y.push(v)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(v=d>0?g/o(-d):g*o(d),!(v<u)){if(v>c)break;y.push(v)}y.length*2<m&&(y=vw(u,c,m))}else y=vw(d,p,Math.min(p-d,m)).map(o);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tf(l)).precision==null&&(l.trim=!0),l=lT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(pL(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function mL(){const t=uT(ly()).domain([1,10]);return t.copy=()=>wh(t,mL()).base(t.base()),pr.apply(t,arguments),t}function VI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cT(t){var e=1,n=t(VI(e),FI(e));return n.constant=function(r){return arguments.length?t(VI(e=+r),FI(e)):e},Wo(n)}function gL(){var t=cT(ly());return t.copy=function(){return wh(t,gL()).constant(t.constant())},pr.apply(t,arguments)}function BI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ole(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ale(t){return t<0?-t*t:t*t}function fT(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(ole,ale):t(BI(n),BI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function hT(){var t=fT(ly());return t.copy=function(){return wh(t,hT()).exponent(t.exponent())},pr.apply(t,arguments),t}function sle(){return hT.apply(null,arguments).exponent(.5)}function UI(t){return Math.sign(t)*t*t}function lle(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yL(){var t=aT(),e=[0,1],n=!1,r;function i(o){var a=lle(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(UI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,cm)).map(UI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Wo(i)}function vL(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=dse(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[vh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Po),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vL().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function _L(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[vh(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return _L().domain([t,e]).range(i).unknown(o)},pr.apply(Wo(a),arguments)}function wL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[vh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wL().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const Xv=new Date,Yv=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>jt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Xv.setTime(+o),Yv.setTime(+a),t(Xv),t(Yv),Math.floor(n(Xv,Yv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const dm=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dm);dm.range;const mi=1e3,ar=mi*60,gi=ar*60,Ni=gi*24,dT=Ni*7,zI=Ni*30,Qv=Ni*365,ya=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCSeconds());ya.range;const pT=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());pT.range;const mT=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());mT.range;const gT=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getHours());gT.range;const yT=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCHours());yT.range;const bh=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Ni,t=>t.getDate()-1);bh.range;const uy=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>t.getUTCDate()-1);uy.range;const bL=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>Math.floor(t/Ni));bL.range;function Za(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/dT)}const cy=Za(0),pm=Za(1),ule=Za(2),cle=Za(3),El=Za(4),fle=Za(5),hle=Za(6);cy.range;pm.range;ule.range;cle.range;El.range;fle.range;hle.range;function es(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dT)}const fy=es(0),mm=es(1),dle=es(2),ple=es(3),Al=es(4),mle=es(5),gle=es(6);fy.range;mm.range;dle.range;ple.range;Al.range;mle.range;gle.range;const vT=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vT.range;const _T=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_T.range;const Di=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Di.range;const ji=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ji.range;function xL(t,e,n,r,i,o){const a=[[ya,1,mi],[ya,5,5*mi],[ya,15,15*mi],[ya,30,30*mi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,gi],[i,3,3*gi],[i,6,6*gi],[i,12,12*gi],[r,1,Ni],[r,2,2*Ni],[n,1,dT],[e,1,zI],[e,3,3*zI],[t,1,Qv]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,f){const d=Math.abs(c-u)/f,p=tT(([,,m])=>m).right(a,d);if(p===a.length)return t.every(ww(u/Qv,c/Qv,f));if(p===0)return dm.every(Math.max(ww(u,c,f),1));const[g,v]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return g.every(v)}return[s,l]}const[yle,vle]=xL(ji,_T,fy,bL,yT,mT),[_le,wle]=xL(Di,vT,cy,bh,gT,pT);function Jv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ku(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ble(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=qu(i),c=Gu(i),f=qu(o),d=Gu(o),p=qu(a),g=Gu(a),v=qu(s),m=Gu(s),y=qu(l),_=Gu(l),w={a:U,A:$,b:B,B:q,c:null,d:XI,e:XI,f:Wle,g:eue,G:nue,H:Ble,I:Ule,j:zle,L:SL,m:Hle,M:Kle,p:re,q:Y,Q:JI,s:ZI,S:qle,u:Gle,U:Xle,V:Yle,w:Qle,W:Jle,x:null,X:null,y:Zle,Y:tue,Z:rue,"%":QI},A={a:ie,A:Te,b:Ie,B:Ue,c:null,d:YI,e:YI,f:sue,g:yue,G:_ue,H:iue,I:oue,j:aue,L:EL,m:lue,M:uue,p:xe,q:Ee,Q:JI,s:ZI,S:cue,u:fue,U:hue,V:due,w:pue,W:mue,x:null,X:null,y:gue,Y:vue,Z:wue,"%":QI},x={a:C,A:k,b:M,B:R,c:V,d:qI,e:qI,f:$le,g:KI,G:HI,H:GI,I:GI,j:Mle,L:jle,m:Rle,M:Nle,p:P,q:kle,Q:Vle,s:Fle,S:Dle,u:Ale,U:Ple,V:Ole,w:Ele,W:Ile,x:F,X:W,y:KI,Y:HI,Z:Cle,"%":Lle};w.x=E(n,w),w.X=E(r,w),w.c=E(e,w),A.x=E(n,A),A.X=E(r,A),A.c=E(e,A);function E(Z,ce){return function(me){var X=[],K=-1,ee=0,se=Z.length,he,Le,pt;for(me instanceof Date||(me=new Date(+me));++K<se;)Z.charCodeAt(K)===37&&(X.push(Z.slice(ee,K)),(Le=WI[he=Z.charAt(++K)])!=null?he=Z.charAt(++K):Le=he==="e"?" ":"0",(pt=ce[he])&&(he=pt(me,Le)),X.push(he),ee=K+1);return X.push(Z.slice(ee,K)),X.join("")}}function S(Z,ce){return function(me){var X=Ku(1900,void 0,1),K=T(X,Z,me+="",0),ee,se;if(K!=me.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ce&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ee=Zv(Ku(X.y,0,1)),se=ee.getUTCDay(),ee=se>4||se===0?mm.ceil(ee):mm(ee),ee=uy.offset(ee,(X.V-1)*7),X.y=ee.getUTCFullYear(),X.m=ee.getUTCMonth(),X.d=ee.getUTCDate()+(X.w+6)%7):(ee=Jv(Ku(X.y,0,1)),se=ee.getDay(),ee=se>4||se===0?pm.ceil(ee):pm(ee),ee=bh.offset(ee,(X.V-1)*7),X.y=ee.getFullYear(),X.m=ee.getMonth(),X.d=ee.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),se="Z"in X?Zv(Ku(X.y,0,1)).getUTCDay():Jv(Ku(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(se+5)%7:X.w+X.U*7-(se+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Zv(X)):Jv(X)}}function T(Z,ce,me,X){for(var K=0,ee=ce.length,se=me.length,he,Le;K<ee;){if(X>=se)return-1;if(he=ce.charCodeAt(K++),he===37){if(he=ce.charAt(K++),Le=x[he in WI?ce.charAt(K++):he],!Le||(X=Le(Z,me,X))<0)return-1}else if(he!=me.charCodeAt(X++))return-1}return X}function P(Z,ce,me){var X=u.exec(ce.slice(me));return X?(Z.p=c.get(X[0].toLowerCase()),me+X[0].length):-1}function C(Z,ce,me){var X=p.exec(ce.slice(me));return X?(Z.w=g.get(X[0].toLowerCase()),me+X[0].length):-1}function k(Z,ce,me){var X=f.exec(ce.slice(me));return X?(Z.w=d.get(X[0].toLowerCase()),me+X[0].length):-1}function M(Z,ce,me){var X=y.exec(ce.slice(me));return X?(Z.m=_.get(X[0].toLowerCase()),me+X[0].length):-1}function R(Z,ce,me){var X=v.exec(ce.slice(me));return X?(Z.m=m.get(X[0].toLowerCase()),me+X[0].length):-1}function V(Z,ce,me){return T(Z,e,ce,me)}function F(Z,ce,me){return T(Z,n,ce,me)}function W(Z,ce,me){return T(Z,r,ce,me)}function U(Z){return a[Z.getDay()]}function $(Z){return o[Z.getDay()]}function B(Z){return l[Z.getMonth()]}function q(Z){return s[Z.getMonth()]}function re(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function ie(Z){return a[Z.getUTCDay()]}function Te(Z){return o[Z.getUTCDay()]}function Ie(Z){return l[Z.getUTCMonth()]}function Ue(Z){return s[Z.getUTCMonth()]}function xe(Z){return i[+(Z.getUTCHours()>=12)]}function Ee(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ce=E(Z+="",w);return ce.toString=function(){return Z},ce},parse:function(Z){var ce=S(Z+="",!1);return ce.toString=function(){return Z},ce},utcFormat:function(Z){var ce=E(Z+="",A);return ce.toString=function(){return Z},ce},utcParse:function(Z){var ce=S(Z+="",!0);return ce.toString=function(){return Z},ce}}}var WI={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,xle=/^%/,Sle=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Tle(t){return t.replace(Sle,"\\$&")}function qu(t){return new RegExp("^(?:"+t.map(Tle).join("|")+")","i")}function Gu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ele(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ale(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ple(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ole(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ile(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HI(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function KI(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cle(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kle(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Rle(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qI(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mle(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GI(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nle(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dle(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jle(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $le(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lle(t,e,n){var r=xle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vle(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fle(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XI(t,e){return De(t.getDate(),e,2)}function Ble(t,e){return De(t.getHours(),e,2)}function Ule(t,e){return De(t.getHours()%12||12,e,2)}function zle(t,e){return De(1+bh.count(Di(t),t),e,3)}function SL(t,e){return De(t.getMilliseconds(),e,3)}function Wle(t,e){return SL(t,e)+"000"}function Hle(t,e){return De(t.getMonth()+1,e,2)}function Kle(t,e){return De(t.getMinutes(),e,2)}function qle(t,e){return De(t.getSeconds(),e,2)}function Gle(t){var e=t.getDay();return e===0?7:e}function Xle(t,e){return De(cy.count(Di(t)-1,t),e,2)}function TL(t){var e=t.getDay();return e>=4||e===0?El(t):El.ceil(t)}function Yle(t,e){return t=TL(t),De(El.count(Di(t),t)+(Di(t).getDay()===4),e,2)}function Qle(t){return t.getDay()}function Jle(t,e){return De(pm.count(Di(t)-1,t),e,2)}function Zle(t,e){return De(t.getFullYear()%100,e,2)}function eue(t,e){return t=TL(t),De(t.getFullYear()%100,e,2)}function tue(t,e){return De(t.getFullYear()%1e4,e,4)}function nue(t,e){var n=t.getDay();return t=n>=4||n===0?El(t):El.ceil(t),De(t.getFullYear()%1e4,e,4)}function rue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function YI(t,e){return De(t.getUTCDate(),e,2)}function iue(t,e){return De(t.getUTCHours(),e,2)}function oue(t,e){return De(t.getUTCHours()%12||12,e,2)}function aue(t,e){return De(1+uy.count(ji(t),t),e,3)}function EL(t,e){return De(t.getUTCMilliseconds(),e,3)}function sue(t,e){return EL(t,e)+"000"}function lue(t,e){return De(t.getUTCMonth()+1,e,2)}function uue(t,e){return De(t.getUTCMinutes(),e,2)}function cue(t,e){return De(t.getUTCSeconds(),e,2)}function fue(t){var e=t.getUTCDay();return e===0?7:e}function hue(t,e){return De(fy.count(ji(t)-1,t),e,2)}function AL(t){var e=t.getUTCDay();return e>=4||e===0?Al(t):Al.ceil(t)}function due(t,e){return t=AL(t),De(Al.count(ji(t),t)+(ji(t).getUTCDay()===4),e,2)}function pue(t){return t.getUTCDay()}function mue(t,e){return De(mm.count(ji(t)-1,t),e,2)}function gue(t,e){return De(t.getUTCFullYear()%100,e,2)}function yue(t,e){return t=AL(t),De(t.getUTCFullYear()%100,e,2)}function vue(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function _ue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Al(t):Al.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function wue(){return"+0000"}function QI(){return"%"}function JI(t){return+t}function ZI(t){return Math.floor(+t/1e3)}var cs,PL,OL;bue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bue(t){return cs=ble(t),PL=cs.format,cs.parse,OL=cs.utcFormat,cs.utcParse,cs}function xue(t){return new Date(t)}function Sue(t){return t instanceof Date?+t:+new Date(+t)}function wT(t,e,n,r,i,o,a,s,l,u){var c=aT(),f=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),_=u("%b %d"),w=u("%B"),A=u("%Y");function x(E){return(l(E)<E?p:s(E)<E?g:a(E)<E?v:o(E)<E?m:r(E)<E?i(E)<E?y:_:n(E)<E?w:A)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,Sue)):d().map(xue)},c.ticks=function(E){var S=d();return t(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?x:u(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=e(S[0],S[S.length-1],E??10)),E?d(pL(S,E)):c},c.copy=function(){return wh(c,wT(t,e,n,r,i,o,a,s,l,u))},c}function Tue(){return pr.apply(wT(_le,wle,Di,vT,cy,bh,gT,pT,ya,PL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eue(){return pr.apply(wT(yle,vle,ji,_T,fy,uy,yT,mT,ya,OL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var t=0,e=1,n,r,i,o,a=bn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,g;return arguments.length?([p,g]=d,a=f(p,g),u):[a(0),a(1)]}}return u.range=c(pu),u.rangeRound=c(oT),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IL(){var t=Wo(hy()(bn));return t.copy=function(){return Ho(t,IL())},Ui.apply(t,arguments)}function CL(){var t=uT(hy()).domain([1,10]);return t.copy=function(){return Ho(t,CL()).base(t.base())},Ui.apply(t,arguments)}function kL(){var t=cT(hy());return t.copy=function(){return Ho(t,kL()).constant(t.constant())},Ui.apply(t,arguments)}function bT(){var t=fT(hy());return t.copy=function(){return Ho(t,bT()).exponent(t.exponent())},Ui.apply(t,arguments)}function Aue(){return bT.apply(null,arguments).exponent(.5)}function RL(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((vh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hse(t,o/r))},n.copy=function(){return RL(e).domain(t)},Ui.apply(n,arguments)}function dy(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=bn,c,f=!1,d;function p(v){return isNaN(v=+v)?d:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(m){var y,_,w;return arguments.length?([y,_,w]=m,u=Lse(v,[y,_,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(pu),p.rangeRound=g(oT),p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return c=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function ML(){var t=Wo(dy()(bn));return t.copy=function(){return Ho(t,ML())},Ui.apply(t,arguments)}function NL(){var t=uT(dy()).domain([.1,1,10]);return t.copy=function(){return Ho(t,NL()).base(t.base())},Ui.apply(t,arguments)}function DL(){var t=cT(dy());return t.copy=function(){return Ho(t,DL()).constant(t.constant())},Ui.apply(t,arguments)}function xT(){var t=fT(dy());return t.copy=function(){return Ho(t,xT()).exponent(t.exponent())},Ui.apply(t,arguments)}function Pue(){return xT.apply(null,arguments).exponent(.5)}const eC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wf,scaleDiverging:ML,scaleDivergingLog:NL,scaleDivergingPow:xT,scaleDivergingSqrt:Pue,scaleDivergingSymlog:DL,scaleIdentity:dL,scaleImplicit:bw,scaleLinear:hm,scaleLog:mL,scaleOrdinal:nT,scalePoint:Oc,scalePow:hT,scaleQuantile:vL,scaleQuantize:_L,scaleRadial:yL,scaleSequential:IL,scaleSequentialLog:CL,scaleSequentialPow:bT,scaleSequentialQuantile:RL,scaleSequentialSqrt:Aue,scaleSequentialSymlog:kL,scaleSqrt:sle,scaleSymlog:gL,scaleThreshold:wL,scaleTime:Tue,scaleUtc:Eue,tickFormat:hL},Symbol.toStringTag,{value:"Module"}));var Oue=ou;function Iue(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Oue(a):n(a,s)))var s=a,l=o}return l}var jL=Iue;function Cue(t,e){return t>e}var kue=Cue,Rue=jL,Mue=kue,Nue=du;function Due(t){return t&&t.length?Rue(t,Nue,Mue):void 0}var jue=Due;const co=Ke(jue);function $ue(t,e){return t<e}var Lue=$ue,Vue=jL,Fue=Lue,Bue=du;function Uue(t){return t&&t.length?Vue(t,Bue,Fue):void 0}var zue=Uue;const py=Ke(zue);var Wue=jS,Hue=Uo,Kue=W$,que=Mn;function Gue(t,e){var n=que(t)?Wue:Kue;return n(t,Hue(e))}var Xue=Gue,Yue=U$,Que=Xue;function Jue(t,e){return Yue(Que(t,e),1)}var Zue=Jue;const ece=Ke(Zue);var tce=YS;function nce(t,e){return tce(t,e)}var rce=nce;const Ba=Ke(rce);var mu=1e9,ice={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TT,it=!0,hr="[DecimalError] ",Aa=hr+"Invalid argument: ",ST=hr+"Exponent out of range: ",gu=Math.floor,sa=Math.pow,oce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Un,Vt=1e7,Je=7,$L=9007199254740991,gm=gu($L/Je),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return xi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return He(xi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return At(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Un))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Un)?new r(0):(it=!1,e=xi(Ef(n,o),Ef(t,o),o),it=!0,He(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):LL(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(it=!1,e=xi(n,t,0,1).times(t),it=!0,n.minus(e)):He(new r(n),i)};ae.naturalExponential=ae.exp=function(){return VL(this)};ae.naturalLogarithm=ae.ln=function(){return Ef(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LL(e,t):FL(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Aa+t);if(e=At(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(hr+"NaN")}for(t=At(s),it=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Lr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(xi(s,o,a+2)).times(.5),Lr(o.d).slice(0,a)===(e=Lr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(He(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return it=!0,He(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Vt|0,e=s/Vt|0;o[i]=(o[i]+e)%Vt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,it?He(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Zr(t,0,mu),e===void 0?e=r.rounding:Zr(e,0,8),He(n,t+At(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ua(r,!0):(Zr(t,0,mu),e===void 0?e=i.rounding:Zr(e,0,8),r=He(new i(r),t+1,e),n=Ua(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ua(i):(Zr(t,0,mu),e===void 0?e=o.rounding:Zr(e,0,8),r=He(new o(i),t+At(i)+1,e),n=Ua(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return He(new e(t),At(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Un);if(s=new l(s),!s.s){if(t.s<1)throw Error(hr+"Infinity");return s}if(s.eq(Un))return s;if(r=l.precision,t.eq(Un))return He(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=$L){for(i=new l(Un),e=Math.ceil(r/Je+4),it=!1;n%2&&(i=i.times(s),nC(i.d,e)),n=gu(n/2),n!==0;)s=s.times(s),nC(s.d,e);return it=!0,t.s<0?new l(Un).div(i):He(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,it=!1,i=t.times(Ef(s,r+u)),it=!0,i=VL(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=Ua(i,n<=o.toExpNeg||n>=o.toExpPos)):(Zr(t,1,mu),e===void 0?e=o.rounding:Zr(e,0,8),i=He(new o(i),t,e),n=At(i),r=Ua(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Zr(t,1,mu),e===void 0?e=r.rounding:Zr(e,0,8)),He(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return Ua(t,e<=n.toExpNeg||e>=n.toExpPos)};function LL(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),it?He(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Je),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Vt|0,l[o]%=Vt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,it?He(e,f):e}function Zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Aa+t)}function Lr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(o+=Ji(n)),o+=r;a=t[e],r=a+"",n=Je-r.length,n&&(o+=Ji(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var xi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Vt|0,a=o/Vt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Vt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,g,v,m,y,_,w,A,x,E,S,T,P=r.constructor,C=r.s==i.s?1:-1,k=r.d,M=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,S=M.length,x=k.length,p=new P(C),g=p.d=[],u=0;M[u]==(k[u]||0);)++u;if(M[u]>(k[u]||0)&&--l,o==null?_=o=P.precision:a?_=o+(At(r)-At(i))+1:_=o,_<0)return new P(0);if(_=_/Je+2|0,u=0,S==1)for(c=0,M=M[0],_++;(u<x||c)&&_--;u++)w=c*Vt+(k[u]||0),g[u]=w/M|0,c=w%M|0;else{for(c=Vt/(M[0]+1)|0,c>1&&(M=t(M,c),k=t(k,c),S=M.length,x=k.length),A=S,v=k.slice(0,S),m=v.length;m<S;)v[m++]=0;T=M.slice(),T.unshift(0),E=M[0],M[1]>=Vt/2&&++E;do c=0,s=e(M,v,S,m),s<0?(y=v[0],S!=m&&(y=y*Vt+(v[1]||0)),c=y/E|0,c>1?(c>=Vt&&(c=Vt-1),f=t(M,c),d=f.length,m=v.length,s=e(f,v,d,m),s==1&&(c--,n(f,S<d?T:M,d))):(c==0&&(s=c=1),f=M.slice()),d=f.length,d<m&&f.unshift(0),n(v,f,m),s==-1&&(m=v.length,s=e(M,v,S,m),s<1&&(c++,n(v,S<m?T:M,m))),m=v.length):s===0&&(c++,v=[0]),g[u++]=c,s&&v[0]?v[m++]=k[A]||0:(v=[k[A]],m=1);while((A++<x||v[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,He(p,a?o+At(p)+1:o)}}();function VL(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(ST+At(t));if(!t.s)return new c(Un);for(it=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(sa(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Un),c.precision=s;;){if(i=He(i.times(t),s),n=n.times(++l),a=o.plus(xi(i,n,s)),Lr(a.d).slice(0,s)===Lr(o.d).slice(0,s)){for(;u--;)o=He(o.times(o),s);return c.precision=f,e==null?(it=!0,He(o,f)):o}o=a}}function At(t){for(var e=t.e*Je,n=t.d[0];n>=10;n/=10)e++;return e}function e0(t,e,n){if(e>t.LN10.sd())throw it=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function Ji(t){for(var e="";t--;)e+="0";return e}function Ef(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,g=p.d,v=p.constructor,m=v.precision;if(p.s<1)throw Error(hr+(p.s?"NaN":"-Infinity"));if(p.eq(Un))return new v(0);if(e==null?(it=!1,u=m):u=e,p.eq(10))return e==null&&(it=!0),e0(v,u);if(u+=d,v.precision=u,n=Lr(g),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Lr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=e0(v,u+2,m).times(o+""),p=Ef(new v(r+"."+n.slice(1)),u-d).plus(l),v.precision=m,e==null?(it=!0,He(p,m)):p;for(s=a=p=xi(p.minus(Un),p.plus(Un),u),c=He(p.times(p),u),i=3;;){if(a=He(a.times(c),u),l=s.plus(xi(a,new v(i),u)),Lr(l.d).slice(0,u)===Lr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(e0(v,u+2,m).times(o+""))),s=xi(s,new v(f),u),v.precision=m,e==null?(it=!0,He(s,m)):s;s=l,i+=2}}function tC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gu(n/Je),t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),it&&(t.e>gm||t.e<-gm))throw Error(ST+n)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Je,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Je),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Je,i=r-Je+a}if(n!==void 0&&(o=sa(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/sa(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=At(t),f.length=1,e=e-o-1,f[0]=sa(10,(Je-e%Je)%Je),t.e=gu(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=sa(10,Je-r),f[c]=i>0?(u/sa(10,a-i)%sa(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Vt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Vt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(it&&(t.e>gm||t.e<-gm))throw Error(ST+At(t));return t}function FL(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),it?He(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Je),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Vt-1;--l[o],l[i]+=Vt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,it?He(e,p):e):new d(0)}function Ua(t,e,n){var r,i=At(t),o=Lr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ji(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ji(-i-1)+o,n&&(r=n-a)>0&&(o+=Ji(r))):i>=a?(o+=Ji(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ji(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ji(r))),t.s<0?"-"+o:o}function nC(t,e){if(t.length>e)return t.length=e,!0}function BL(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Aa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return tC(a,o.toString())}else if(typeof o!="string")throw Error(Aa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,oce.test(o))tC(a,o);else throw Error(Aa+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BL,i.config=i.set=ace,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ace(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Aa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Aa+n+": "+r);return this}var TT=BL(ice);Un=new TT(1);const ze=TT;function sce(t){return fce(t)||cce(t)||uce(t)||lce()}function lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uce(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function cce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fce(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hce=function(e){return e},UL={},zL=function(e){return e===UL},rC=function(e){return function n(){return arguments.length===0||arguments.length===1&&zL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dce=function t(e,n){return e===1?n:rC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==UL}).length;return a>=e?n.apply(void 0,i):t(e-a,rC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return zL(f)?l.shift():f});return n.apply(void 0,sce(c).concat(l))}))})},my=function(e){return dce(e.length,e)},Aw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},pce=my(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),mce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hce;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Pw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},WL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function gce(t){var e;return t===0?e=1:e=Math.floor(new ze(t).abs().log(10).toNumber())+1,e}function yce(t,e,n){for(var r=new ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var vce=my(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_ce=my(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),wce=my(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const gy={rangeStep:yce,getDigitCount:gce,interpolateNumber:vce,uninterpolateNumber:_ce,uninterpolateTruncation:wce};function Ow(t){return Sce(t)||xce(t)||HL(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sce(t){if(Array.isArray(t))return Iw(t)}function Af(t,e){return Ace(t)||Ece(t,e)||HL(t,e)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HL(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ece(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Ace(t){if(Array.isArray(t))return t}function KL(t){var e=Af(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function qL(t,e,n){if(t.lte(0))return new ze(0);var r=gy.getDigitCount(t.toNumber()),i=new ze(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new ze(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new ze(Math.ceil(l))}function Pce(t,e,n){var r=1,i=new ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ze(10).pow(gy.getDigitCount(t)-1),i=new ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ze(Math.floor(t)))}else t===0?i=new ze(Math.floor((e-1)/2)):n||(i=new ze(Math.floor(t)));var a=Math.floor((e-1)/2),s=mce(pce(function(l){return i.add(new ze(l-a).mul(r)).toNumber()}),Aw);return s(0,e)}function GL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=qL(new ze(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ze(0):(a=new ze(t).add(e).div(2),a=a.sub(new ze(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new ze(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?GL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new ze(s).mul(o)),tickMax:a.add(new ze(l).mul(o))})}function Oce(t){var e=Af(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=KL([n,r]),l=Af(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Ow(Aw(0,i-1).map(function(){return 1/0}))):[].concat(Ow(Aw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Pw(f):f}if(u===c)return Pce(u,i,o);var d=GL(u,c,a,o),p=d.step,g=d.tickMin,v=d.tickMax,m=gy.rangeStep(g,v.add(new ze(.1).mul(p)),p);return n>r?Pw(m):m}function Ice(t,e){var n=Af(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=KL([r,i]),s=Af(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=qL(new ze(u).sub(l).div(c-1),o,0),d=[].concat(Ow(gy.rangeStep(new ze(l),new ze(u).sub(new ze(.99).mul(f)),f)),[u]);return r>i?Pw(d):d}var Cce=WL(Oce),kce=WL(Ice),Rce="Invariant failed";function za(t,e){throw new Error(Rce)}var Mce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function Nce(t,e){return Lce(t)||$ce(t,e)||jce(t,e)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jce(t,e){if(t){if(typeof t=="string")return iC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iC(t,e)}}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lce(t){if(Array.isArray(t))return t}function Vce(t,e){if(t==null)return{};var n=Fce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function zce(t,e,n){return e&&Uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wce(t,e,n){return e=vm(e),Hce(t,XL()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Hce(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kce(t)}function Kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function YL(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=Gce(t,"string");return Pl(e)=="symbol"?e:e+""}function Gce(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yu=function(t){function e(){return Bce(this,e),Wce(this,e,arguments)}return qce(e,t),zce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Vce(r,Mce),p=we(d,!1);this.props.direction==="x"&&c.type!=="number"&&za();var g=l.map(function(v){var m=u(v,s),y=m.x,_=m.y,w=m.value,A=m.errorVal;if(!A)return null;var x=[],E,S;if(Array.isArray(A)){var T=Nce(A,2);E=T[0],S=T[1]}else E=S=A;if(o==="vertical"){var P=c.scale,C=_+i,k=C+a,M=C-a,R=P(w-E),V=P(w+S);x.push({x1:V,y1:k,x2:V,y2:M}),x.push({x1:R,y1:C,x2:V,y2:C}),x.push({x1:R,y1:k,x2:R,y2:M})}else if(o==="horizontal"){var F=f.scale,W=y+i,U=W-a,$=W+a,B=F(w-E),q=F(w+S);x.push({x1:U,y1:q,x2:$,y2:q}),x.push({x1:W,y1:B,x2:W,y2:q}),x.push({x1:U,y1:B,x2:$,y2:B})}return j.createElement(je,ym({className:"recharts-errorBar",key:"bar-".concat(x.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),x.map(function(re){return j.createElement("line",ym({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return j.createElement(je,{className:"recharts-errorBars"},g)}}])}(j.Component);YL(yu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YL(yu,"displayName","ErrorBar");function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=Qce(t,"string");return Pf(e)=="symbol"?e:e+""}function Qce(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Vn(n,el);if(!a)return null;var s=el.defaultProps,l=s!==void 0?Zo(Zo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(v){return{type:a.props.iconType||d.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Zo(Zo({},d),f.props):{},g=p.dataKey,v=p.name,m=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||m||"square",color:ET(f),value:v||g,payload:p}}),Zo(Zo(Zo({},l),el.getWithHeight(a,i)),{},{payload:u,item:a})};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function aC(t){return tfe(t)||efe(t)||Zce(t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function efe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tfe(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nl(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return Of(e)=="symbol"?e:e+""}function rfe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,n){return ve(t)||ve(e)?n:Mt(e)?ur(t,e,n):Se(e)?e(t):n}function Ic(t,e,n,r){var i=ece(t,function(s){return Dt(s,e)});if(n==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[py(o),co(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return Mt(s)||s instanceof Date?s:""})}var ife=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Or(f-c)!==Or(d-f)){var g=[];if(Or(d-f)===Or(l[1]-l[0])){p=d;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+c)/2),g[1]=Math.max(v,(v+c)/2)}else{p=c;var m=d+l[1]-l[0];g[0]=Math.min(f,(m+f)/2),g[1]=Math.max(f,(m+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var _=Math.min(c,d),w=Math.max(c,d);if(e>(_+f)/2&&e<=(w+f)/2){a=i[u].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},ET=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},ofe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var g=c[f[d]],v=g.items,m=g.cateAxisId,y=v.filter(function(S){return wi(S.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,w=_!==void 0?dt(dt({},_),y[0].props):y[0].props,A=w.barSize,x=w[m];a[x]||(a[x]=[]);var E=ve(A)?n:A;a[x].push({item:y[0],stackList:y.slice(1),barSize:ve(E)?void 0:Fa(E,r,0)})}}return a},afe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Fa(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,g=a.reduce(function(A,x){return A+x.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(d=!0,p*=.9,g=l*p);var v=(i-g)/2>>0,m={offset:v-u,size:0};c=a.reduce(function(A,x){var E={item:x.item,position:{offset:m.offset+m.size+u,size:d?p:x.barSize}},S=[].concat(aC(A),[E]);return m=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){S.push({item:T,position:m})}),S},f)}else{var y=Fa(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;c=a.reduce(function(A,x,E){var S=[].concat(aC(A),[{item:x.item,position:{offset:y+(_+u)*E+(_-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return c},sfe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=JL({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&te(e[p]))return dt(dt({},e),{},nl({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&te(e[g]))return dt(dt({},e),{},nl({},g,e[g]+(d||0)))}return e},lfe=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ZL=function(e,n,r,i,o){var a=n.props.children,s=Rn(a,yu).filter(function(u){return lfe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Dt(c,r);if(ve(f))return u;var d=Array.isArray(f)?[py(f),co(f)]:[f,f],p=l.reduce(function(g,v){var m=Dt(c,v,0),y=d[0]-Math.abs(Array.isArray(m)?m[0]:m),_=d[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(y,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ufe=function(e,n,r,i,o){var a=n.map(function(s){return ZL(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},eV=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&ZL(e,l,u,i)||Ic(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},tV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},nV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},yi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Or(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!cu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},t0=new WeakMap,wd=function(e,n){if(typeof n!="function")return e;t0.has(e)||t0.set(e,new WeakMap);var r=t0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},cfe=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:wf(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:hm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Oc(),realScaleType:"point"}:o==="category"?{scale:wf(),realScaleType:"band"}:{scale:hm(),realScaleType:"linear"};if(Va(i)){var l="scale".concat(ey(i));return{scale:(eC[l]||Oc)(),realScaleType:eC[l]?l:"point"}}return Se(i)?{scale:i}:{scale:Oc(),realScaleType:"point"}},lC=1e-4,ffe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-lC,a=Math.max(i[0],i[1])+lC,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},hfe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dfe=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},pfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=cu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},mfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=cu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},gfe={sign:pfe,expand:RQ,none:vl,silhouette:MQ,wiggle:NQ,positive:mfe},yfe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=gfe[r],a=kQ().keys(i).value(function(s,l){return+Dt(s,l,0)}).order(nw).offset(o);return a(e)},vfe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,g=(p=d.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},d.type.defaultProps),d.props):d.props,v=g.stackId,m=g.hide;if(m)return f;var y=g[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Mt(v)){var w=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(d),_.hasStack=!0,_.stackGroups[v]=w}else _.stackGroups[Ja("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return dt(dt({},f),{},nl({},y,_))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,m){var y=p.stackGroups[m];return dt(dt({},v),{},nl({},m,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:yfe(e,y.items,o)}))},g)}return dt(dt({},f),{},nl({},d,p))},c)},_fe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Cce(u,o,s);return e.domain([py(c),co(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=kce(f,o,s);return{niceTicks:d}}return null};function Ol(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Wp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Dt(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var uC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Dt(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},wfe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},bfe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Mt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},xfe=function(e){return e.reduce(function(n,r){return[py(r.concat([n[0]]).filter(te)),co(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},rV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=xfe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rw=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cC.test(e[0])){var o=+cC.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(fC.test(e[1])){var a=+fC.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_m=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=JS(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},hC=function(e,n,r){return!e||!e.length||Ba(e,ur(r,"type.defaultProps.domain"))?n:e},iV=function(e,n){var r=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return dt(dt({},we(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:ET(e),value:Dt(n,i),type:l,payload:n,chartType:u,hide:c})};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return e=Tfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Efe(t,"string");return If(e)=="symbol"?e:e+""}function Efe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wm=Math.PI/180,Afe=function(e){return e*180/Math.PI},Yt=function(e,n,r,i){return{x:e+Math.cos(-wm*i)*r,y:n+Math.sin(-wm*i)*r}},Pfe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Ofe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Pfe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Afe(u),angleInRadian:u}},Ife=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Cfe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},mC=function(e,n){var r=e.x,i=e.y,o=Ofe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Ife(n),f=c.startAngle,d=c.endAngle,p=s,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?pC(pC({},n),{},{radius:a,angle:Cfe(p,n)}):null};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var kfe=["offset"];function Rfe(t){return jfe(t)||Dfe(t)||Nfe(t)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Dfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jfe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $fe(t,e){if(t==null)return{};var n=Lfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return e=Ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=Bfe(t,"string");return Cf(e)=="symbol"?e:e+""}function Bfe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}var Ufe=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return Se(r)?r(i):i},zfe=function(e,n){var r=Or(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wfe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,g=l.endAngle,v=l.clockWise,m=(f+d)/2,y=zfe(p,g),_=y>=0?1:-1,w,A;i==="insideStart"?(w=p+_*a,A=v):i==="insideEnd"?(w=g-_*a,A=!v):i==="end"&&(w=g+_*a,A=v),A=y<=0?A:!A;var x=Yt(u,c,m,w),E=Yt(u,c,m,w+(A?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(A?0:1,`,
    `).concat(E.x,",").concat(E.y),T=ve(e.id)?Ja("recharts-radial-line-"):e.id;return j.createElement("text",kf({},r,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:T,d:S})),j.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Hfe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Yt(a,s,u+r,d),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(l+u)/2,y=Yt(a,s,m,d),_=y.x,w=y.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Kfe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,m=v*i,y=v>0?"end":"start",_=v>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ct(Ct({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return Ct(Ct({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var x={x:s-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Ct(Ct({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+m,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Ct(Ct({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Ct({x:s+m,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideRight"?Ct({x:s+u-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideTop"?Ct({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?Ct({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?Ct({x:s+m,y:l+d,textAnchor:_,verticalAnchor:g},S):o==="insideTopRight"?Ct({x:s+u-m,y:l+d,textAnchor:y,verticalAnchor:g},S):o==="insideBottomLeft"?Ct({x:s+m,y:l+c-d,textAnchor:_,verticalAnchor:p},S):o==="insideBottomRight"?Ct({x:s+u-m,y:l+c-d,textAnchor:y,verticalAnchor:p},S):au(o)&&(te(o.x)||ma(o.x))&&(te(o.y)||ma(o.y))?Ct({x:s+Fa(o.x,u),y:l+Fa(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Ct({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},qfe=function(e){return"cx"in e&&te(e.cx)};function dn(t){var e=t.offset,n=e===void 0?5:e,r=$fe(t,kfe),i=Ct({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!D.isValidElement(u)&&!Se(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Se(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=Ufe(i);var g=qfe(o),v=we(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Wfe(i,p,v);var m=g?Hfe(i):Kfe(i);return j.createElement(om,kf({className:Oe("recharts-label",f)},v,m,{breakAll:d}),p)}dn.displayName="Label";var oV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,g=e.left,v=e.width,m=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(te(v)&&te(m)){if(te(f)&&te(d))return{x:f,y:d,width:v,height:m};if(te(p)&&te(g))return{x:p,y:g,width:v,height:m}}return te(f)&&te(d)?{x:f,y:d,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},Gfe=function(e,n){return e?e===!0?j.createElement(dn,{key:"label-implicit",viewBox:n}):Mt(e)?j.createElement(dn,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===dn?D.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Se(e)?j.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):au(e)?j.createElement(dn,kf({viewBox:n},e,{key:"label-implicit"})):null:null},Xfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=oV(e),a=Rn(i,dn).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Gfe(e.label,n||o);return[s].concat(Rfe(a))};dn.parseViewBox=oV;dn.renderCallByParent=Xfe;function Yfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Qfe=Yfe;const Jfe=Ke(Qfe);function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var Zfe=["valueAccessor"],ehe=["data","dataKey","clockWise","id","textBreakAll"];function the(t){return ohe(t)||ihe(t)||rhe(t)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function ihe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ohe(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ahe(t,e,n){return e=she(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=lhe(t,"string");return Rf(e)=="symbol"?e:e+""}function lhe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _C(t,e){if(t==null)return{};var n=uhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var che=function(e){return Array.isArray(e.value)?Jfe(e.value):e.value};function Gr(t){var e=t.valueAccessor,n=e===void 0?che:e,r=_C(t,Zfe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=_C(r,ehe);return!i||!i.length?null:j.createElement(je,{className:"recharts-label-list"},i.map(function(c,f){var d=ve(o)?n(c,f):Dt(c&&c.payload,o),p=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return j.createElement(dn,bm({},we(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:dn.parseViewBox(ve(a)?c:vC(vC({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Gr.displayName="LabelList";function fhe(t,e){return t?t===!0?j.createElement(Gr,{key:"labelList-implicit",data:e}):j.isValidElement(t)||Se(t)?j.createElement(Gr,{key:"labelList-implicit",data:e,content:t}):au(t)?j.createElement(Gr,bm({data:e},t,{key:"labelList-implicit"})):null:null}function hhe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Rn(r,Gr).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=fhe(t.label,e);return[o].concat(the(i))}Gr.renderCallByParent=hhe;function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function wC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return e=phe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=mhe(t,"string");return Mf(e)=="symbol"?e:e+""}function mhe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ghe=function(e,n){var r=Or(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},bd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/wm,d=u?o:o+a*f,p=Yt(n,r,c,d),g=Yt(n,r,i,d),v=u?o-a*f:o,m=Yt(n,r,c*Math.cos(f*wm),v);return{center:p,circleTangency:g,lineTangency:m,theta:f}},aV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=ghe(a,s),u=a+l,c=Yt(n,r,o,a),f=Yt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Yt(n,r,i,a),g=Yt(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},yhe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Or(c-u),d=bd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,g=d.lineTangency,v=d.theta,m=bd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=m.circleTangency,_=m.lineTangency,w=m.theta,A=l?Math.abs(u-c):Math.abs(u-c)-v-w;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):aV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=bd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=E.circleTangency,T=E.lineTangency,P=E.theta,C=bd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=C.circleTangency,M=C.lineTangency,R=C.theta,V=l?Math.abs(u-c):Math.abs(u-c)-P-R;if(V<0&&a===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},vhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sV=function(e){var n=bC(bC({},vhe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=Oe("recharts-sector",d),g=a-o,v=Fa(s,g,0,!0),m;return v>0&&Math.abs(c-f)<360?m=yhe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):m=aV({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),j.createElement("path",Dw({},we(n,!0),{className:p,d:m,role:"img"}))};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=bhe(t,"string");return Nf(e)=="symbol"?e:e+""}function bhe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC={curveBasisClosed:wQ,curveBasisOpen:bQ,curveBasis:_Q,curveBumpX:oQ,curveBumpY:aQ,curveLinearClosed:xQ,curveLinear:ny,curveMonotoneX:SQ,curveMonotoneY:TQ,curveNatural:EQ,curveStep:AQ,curveStepAfter:OQ,curveStepBefore:PQ},xd=function(e){return e.x===+e.x&&e.y===+e.y},Xu=function(e){return e.x},Yu=function(e){return e.y},xhe=function(e,n){if(Se(e))return e;var r="curve".concat(ey(e));return(r==="curveMonotone"||r==="curveBump")&&n?TC["".concat(r).concat(n==="vertical"?"Y":"X")]:TC[r]||ny},She=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=xhe(r,s),f=u?o.filter(function(v){return xd(v)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(v){return xd(v)}):a,g=f.map(function(v,m){return SC(SC({},v),{},{base:p[m]})});return s==="vertical"?d=hd().y(Yu).x1(Xu).x0(function(v){return v.base.x}):d=hd().x(Xu).y1(Yu).y0(function(v){return v.base.y}),d.defined(xd).curve(c),d(g)}return s==="vertical"&&te(a)?d=hd().y(Yu).x1(Xu).x0(a):te(a)?d=hd().x(Xu).y1(Yu).y0(a):d=s$().x(Xu).y(Yu),d.defined(xd).curve(c),d(f)},Pa=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?She(e):i;return D.createElement("path",jw({},we(e,!1),Hp(e),{className:Oe("recharts-curve",n),d:a,ref:o}))},lV={exports:{}},The="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ehe=The,Ahe=Ehe;function uV(){}function cV(){}cV.resetWarningCache=uV;var Phe=function(){function t(r,i,o,a,s,l){if(l!==Ahe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cV,resetWarningCache:uV};return n.PropTypes=n,n};lV.exports=Phe();var Ohe=lV.exports;const $e=Ke(Ohe),{getOwnPropertyNames:Ihe,getOwnPropertySymbols:Che}=Object,{hasOwnProperty:khe}=Object.prototype;function n0(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Sd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Rhe(t){return t!=null?t[Symbol.toStringTag]:void 0}function EC(t){return Ihe(t).concat(Che(t))}const Mhe=Object.hasOwn||((t,e)=>khe.call(t,e));function ts(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Nhe="__v",Dhe="__o",jhe="_owner",{getOwnPropertyDescriptor:AC,keys:PC}=Object;function $he(t,e){return t.byteLength===e.byteLength&&xm(new Uint8Array(t),new Uint8Array(e))}function Lhe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Vhe(t,e){return t.byteLength===e.byteLength&&xm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Fhe(t,e){return ts(t.getTime(),e.getTime())}function Bhe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Uhe(t,e){return t===e}function OC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const zhe=ts;function Whe(t,e,n){const r=PC(t);let i=r.length;if(PC(e).length!==i)return!1;for(;i-- >0;)if(!fV(t,e,n,r[i]))return!1;return!0}function Qu(t,e,n){const r=EC(t);let i=r.length;if(EC(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!fV(t,e,n,o)||(a=AC(t,o),s=AC(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Hhe(t,e){return ts(t.valueOf(),e.valueOf())}function Khe(t,e){return t.source===e.source&&t.flags===e.flags}function IC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function xm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qhe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fV(t,e,n,r){return(r===jhe||r===Dhe||r===Nhe)&&(t.$$typeof||e.$$typeof)?!0:Mhe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Ghe="[object ArrayBuffer]",Xhe="[object Arguments]",Yhe="[object Boolean]",Qhe="[object DataView]",Jhe="[object Date]",Zhe="[object Error]",ede="[object Map]",tde="[object Number]",nde="[object Object]",rde="[object RegExp]",ide="[object Set]",ode="[object String]",ade={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sde="[object URL]",lde=Object.prototype.toString;function ude({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:g}){return function(m,y,_){if(m===y)return!0;if(m==null||y==null)return!1;const w=typeof m;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?s(m,y,_):w==="function"?o(m,y,_):!1;const A=m.constructor;if(A!==y.constructor)return!1;if(A===Object)return l(m,y,_);if(Array.isArray(m))return e(m,y,_);if(A===Date)return r(m,y,_);if(A===RegExp)return c(m,y,_);if(A===Map)return a(m,y,_);if(A===Set)return f(m,y,_);const x=lde.call(m);if(x===Jhe)return r(m,y,_);if(x===rde)return c(m,y,_);if(x===ede)return a(m,y,_);if(x===ide)return f(m,y,_);if(x===nde)return typeof m.then!="function"&&typeof y.then!="function"&&l(m,y,_);if(x===sde)return p(m,y,_);if(x===Zhe)return i(m,y,_);if(x===Xhe)return l(m,y,_);if(ade[x])return d(m,y,_);if(x===Ghe)return t(m,y,_);if(x===Qhe)return n(m,y,_);if(x===Yhe||x===tde||x===ode)return u(m,y,_);if(g){let E=g[x];if(!E){const S=Rhe(m);S&&(E=g[S])}if(E)return E(m,y,_)}return!1}}function cde({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:$he,areArraysEqual:n?Qu:Lhe,areDataViewsEqual:Vhe,areDatesEqual:Fhe,areErrorsEqual:Bhe,areFunctionsEqual:Uhe,areMapsEqual:n?n0(OC,Qu):OC,areNumbersEqual:zhe,areObjectsEqual:n?Qu:Whe,arePrimitiveWrappersEqual:Hhe,areRegExpsEqual:Khe,areSetsEqual:n?n0(IC,Qu):IC,areTypedArraysEqual:n?n0(xm,Qu):xm,areUrlsEqual:qhe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sd(r.areArraysEqual),o=Sd(r.areMapsEqual),a=Sd(r.areObjectsEqual),s=Sd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function fde(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function hde({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const dde=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:()=>ts});Ko({strict:!0,createInternalComparator:()=>ts});Ko({circular:!0,createInternalComparator:()=>ts});Ko({circular:!0,createInternalComparator:()=>ts,strict:!0});function Ko(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=cde(t),a=ude(o),s=n?n(a):fde(a);return hde({circular:e,comparator:a,createState:r,equals:s,strict:i})}function pde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function CC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):pde(i)};requestAnimationFrame(r)}function $w(t){"@babel/helpers - typeof";return $w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(t)}function mde(t){return _de(t)||vde(t)||yde(t)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yde(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _de(t){if(Array.isArray(t))return t}function wde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=mde(a),l=s[0],u=s.slice(1);if(typeof l=="number"){CC(i.bind(null,u),l);return}i(l),CC(i.bind(null,u));return}$w(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){hV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hV(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=xde(t,"string");return Df(e)==="symbol"?e:String(e)}function xde(t,e){if(Df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Tde=function(e){return e},Ede=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Cc=function(e,n){return Object.keys(n).reduce(function(r,i){return MC(MC({},r),{},hV({},i,e(i,n[i])))},{})},NC=function(e,n,r){return e.map(function(i){return"".concat(Ede(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Ade(t,e){return Ide(t)||Ode(t,e)||dV(t,e)||Pde()}function Pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ide(t){if(Array.isArray(t))return t}function Cde(t){return Mde(t)||Rde(t)||dV(t)||kde()}function kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dV(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function Rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mde(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sm=1e-4,pV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},mV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},DC=function(e,n){return function(r){var i=pV(e,n);return mV(i,r)}},Nde=function(e,n){return function(r){var i=pV(e,n),o=[].concat(Cde(i.map(function(a,s){return a*s}).slice(1)),[0]);return mV(o,r)}},jC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),c=Ade(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=DC(i,a),d=DC(o,s),p=Nde(i,a),g=function(y){return y>1?1:y<0?0:y},v=function(y){for(var _=y>1?1:y,w=_,A=0;A<8;++A){var x=f(w)-_,E=p(w);if(Math.abs(x-_)<Sm||E<Sm)return d(w);w=g(w-x/E)}return d(w)};return v.isStepper=!1,v},Dde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,g=d*o,v=d+(p-g)*s/1e3,m=d*s/1e3+c;return Math.abs(m-f)<Sm&&Math.abs(v)<Sm?[f,0]:[m,v]};return l.isStepper=!0,l.dt=s,l},jde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jC(i);case"spring":return Dde();default:if(i.split("(")[0]==="cubic-bezier")return jC(i)}return typeof i=="function"?i:null};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function $C(t){return Vde(t)||Lde(t)||gV(t)||$de()}function $de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return Fw(t)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){Vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vw(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Bde(t,"string");return jf(e)==="symbol"?e:String(e)}function Bde(t,e){if(jf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ude(t,e){return Hde(t)||Wde(t,e)||gV(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gV(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hde(t){if(Array.isArray(t))return t}var Tm=function(e,n,r){return e+(n-e)*r},Bw=function(e){var n=e.from,r=e.to;return n!==r},Kde=function t(e,n,r){var i=Cc(function(o,a){if(Bw(a)){var s=e(a.from,a.to,a.velocity),l=Ude(s,2),u=l[0],c=l[1];return Ht(Ht({},a),{},{from:u,velocity:c})}return a},n);return r<1?Cc(function(o,a){return Bw(a)?Ht(Ht({},a),{},{velocity:Tm(a.velocity,i[o].velocity,r),from:Tm(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const qde=function(t,e,n,r,i){var o=Sde(t,e),a=o.reduce(function(m,y){return Ht(Ht({},m),{},Vw({},y,[t[y],e[y]]))},{}),s=o.reduce(function(m,y){return Ht(Ht({},m),{},Vw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Cc(function(y,_){return _.from},s)},p=function(){return!Object.values(s).filter(Bw).length},g=function(y){u||(u=y);var _=y-u,w=_/n.dt;s=Kde(n,s,w),i(Ht(Ht(Ht({},t),e),d())),u=y,p()||(l=requestAnimationFrame(f))},v=function(y){c||(c=y);var _=(y-c)/r,w=Cc(function(x,E){return Tm.apply(void 0,$C(E).concat([n(_)]))},a);if(i(Ht(Ht(Ht({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var A=Cc(function(x,E){return Tm.apply(void 0,$C(E).concat([n(1)]))},a);i(Ht(Ht(Ht({},t),e),A))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var Gde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xde(t,e){if(t==null)return{};var n=Yde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function r0(t){return epe(t)||Zde(t)||Jde(t)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(t,e){if(t){if(typeof t=="string")return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(t,e)}}function Zde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function epe(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lc(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function rpe(t,e,n){return e&&npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yV(t){var e=ipe(t,"string");return Il(e)==="symbol"?e:String(e)}function ipe(t,e){if(Il(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function ape(t){var e=spe();return function(){var r=Em(t),i;if(e){var o=Em(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ww(this,i)}}function Ww(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hw(t)}function Hw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function spe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}var Mr=function(t){ope(n,t);var e=ape(n);function n(r,i){var o;tpe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Hw(o)),o.changeStyle=o.changeStyle.bind(Hw(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),Ww(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},Ww(o);o.state={style:l?lc({},l,u):u}}else o.state={style:{}};return o}return rpe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?lc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(dde(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&d){var m={style:l?lc({},l,v):v};(l&&d[l]!==v||!l&&d!==v)&&this.setState(m)}this.runAnimation(_r(_r({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=qde(a,s,jde(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([d,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(v,m,y){if(y===0)return v;var _=m.duration,w=m.easing,A=w===void 0?"ease":w,x=m.style,E=m.properties,S=m.onAnimationEnd,T=y>0?a[y-1]:m,P=E||Object.keys(x);if(typeof A=="function"||A==="spring")return[].concat(r0(v),[o.runJSAnimation.bind(o,{from:T.style,to:x,duration:_,easing:A}),_]);var C=NC(P,_,A),k=_r(_r(_r({},T.style),x),{},{transition:C});return[].concat(r0(v),[k,_,S]).filter(Tde)};return this.manager.start([l].concat(r0(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wde());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var v=s?lc({},s,l):l,m=NC(Object.keys(v),a,u);g.start([c,o,_r(_r({},v),{},{transition:m}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Xde(i,Gde),u=D.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var g=p.props,v=g.style,m=v===void 0?{}:v,y=g.className,_=D.cloneElement(p,_r(_r({},l),{},{style:_r(_r({},m),c),className:y}));return _};return u===1?f(D.Children.only(o)):j.createElement("div",null,D.Children.map(o,function(d){return f(d)}))}}]),n}(D.PureComponent);Mr.displayName="Animate";Mr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mr.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function lpe(t,e){return hpe(t)||fpe(t,e)||cpe(t,e)||upe()}function upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(t,e){if(t){if(typeof t=="string")return FC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hpe(t){if(Array.isArray(t))return t}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return e=ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ppe(t){var e=mpe(t,"string");return $f(e)=="symbol"?e:e+""}function mpe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zC=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},gpe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},ype={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AT=function(e){var n=UC(UC({},ype),e),r=D.useRef(),i=D.useState(-1),o=lpe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,g=n.animationEasing,v=n.animationDuration,m=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=Oe("recharts-rectangle",p);return _?j.createElement(Mr,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:_},function(A){var x=A.width,E=A.height,S=A.x,T=A.y;return j.createElement(Mr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:v,isActive:y,easing:g},j.createElement("path",Am({},we(n,!0),{className:w,d:zC(S,T,x,E,d),ref:r})))}):j.createElement("path",Am({},we(n,!0),{className:w,d:zC(l,u,c,f,d)}))};function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var yy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Oe("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",Kw({},we(e,!1),Hp(e),{className:a,cx:n,cy:r,r:i})):null};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var vpe=["x","y","top","left","width","height","className"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wpe(t,e,n){return e=bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bpe(t){var e=xpe(t,"string");return Lf(e)=="symbol"?e:e+""}function xpe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Spe(t,e){if(t==null)return{};var n=Tpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Epe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Ape=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,g=e.className,v=Spe(e,vpe),m=_pe({x:r,y:o,top:s,left:u,width:f,height:p},v);return!te(r)||!te(o)||!te(f)||!te(p)||!te(s)||!te(u)?null:j.createElement("path",qw({},we(m,!0),{className:Oe("recharts-cross",g),d:Epe(r,o,f,p,s,u)}))},Ppe=k$,Ope=Ppe(Object.getPrototypeOf,Object),Ipe=Ope,Cpe=Fi,kpe=Ipe,Rpe=Bi,Mpe="[object Object]",Npe=Function.prototype,Dpe=Object.prototype,vV=Npe.toString,jpe=Dpe.hasOwnProperty,$pe=vV.call(Object);function Lpe(t){if(!Rpe(t)||Cpe(t)!=Mpe)return!1;var e=kpe(t);if(e===null)return!0;var n=jpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vV.call(n)==$pe}var Vpe=Lpe;const Fpe=Ke(Vpe);var Bpe=Fi,Upe=Bi,zpe="[object Boolean]";function Wpe(t){return t===!0||t===!1||Upe(t)&&Bpe(t)==zpe}var Hpe=Wpe;const Kpe=Ke(Hpe);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function qpe(t,e){return Qpe(t)||Ype(t,e)||Xpe(t,e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(t,e){if(t){if(typeof t=="string")return HC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ype(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qpe(t){if(Array.isArray(t))return t}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eme(t,"string");return Vf(e)=="symbol"?e:e+""}function eme(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GC=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},tme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nme=function(e){var n=qC(qC({},tme),e),r=D.useRef(),i=D.useState(-1),o=qpe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,g=n.animationEasing,v=n.animationDuration,m=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=Oe("recharts-trapezoid",p);return y?j.createElement(Mr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:v,animationEasing:g,isActive:y},function(w){var A=w.upperWidth,x=w.lowerWidth,E=w.height,S=w.x,T=w.y;return j.createElement(Mr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:v,easing:g},j.createElement("path",Pm({},we(n,!0),{className:_,d:GC(S,T,A,x,E),ref:r})))}):j.createElement("g",null,j.createElement("path",Pm({},we(n,!0),{className:_,d:GC(l,u,c,f,d)})))},rme=["option","shapeType","propTransformer","activeClassName","isActive"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function ime(t,e){if(t==null)return{};var n=ome(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ome(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e,n){return e=sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=lme(t,"string");return Ff(e)=="symbol"?e:e+""}function lme(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ume(t,e){return Om(Om({},e),t)}function cme(t,e){return t==="symbols"}function YC(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(AT,n);case"trapezoid":return j.createElement(nme,n);case"sector":return j.createElement(sV,n);case"symbols":if(cme(e))return j.createElement(iy,n);break;default:return null}}function fme(t){return D.isValidElement(t)?t.props:t}function Gw(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ume:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=ime(t,rme),u;if(D.isValidElement(e))u=D.cloneElement(e,Om(Om({},l),fme(e)));else if(Se(e))u=e(l);else if(Fpe(e)&&!Kpe(e)){var c=i(e,l);u=j.createElement(YC,{shapeType:n,elementProps:c})}else{var f=l;u=j.createElement(YC,{shapeType:n,elementProps:f})}return s?j.createElement(je,{className:a},u):u}function vy(t,e){return e!=null&&"trapezoids"in t.props}function _y(t,e){return e!=null&&"sectors"in t.props}function Bf(t,e){return e!=null&&"points"in t.props}function hme(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function dme(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function pme(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function mme(t,e){var n;return vy(t,e)?n=hme:_y(t,e)?n=dme:Bf(t,e)&&(n=pme),n}function gme(t,e){var n;return vy(t,e)?n="trapezoids":_y(t,e)?n="sectors":Bf(t,e)&&(n="points"),n}function yme(t,e){if(vy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_y(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bf(t,e)?e.payload:{}}function vme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=gme(n,e),o=yme(n,e),a=r.filter(function(l,u){var c=Ba(o,l),f=n.props[i].filter(function(g){var v=mme(n,e);return v(g,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var _me=Math.ceil,wme=Math.max;function bme(t,e,n,r){for(var i=-1,o=wme(_me((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var xme=bme,Sme=Q$,QC=1/0,Tme=17976931348623157e292;function Eme(t){if(!t)return t===0?t:0;if(t=Sme(t),t===QC||t===-QC){var e=t<0?-1:1;return e*Tme}return t===t?t:0}var _V=Eme,Ame=xme,Pme=sy,i0=_V;function Ome(t){return function(e,n,r){return r&&typeof r!="number"&&Pme(e,n,r)&&(n=r=void 0),e=i0(e),n===void 0?(n=e,e=0):n=i0(n),r=r===void 0?e<n?1:-1:i0(r),Ame(e,n,r,t)}}var Ime=Ome,Cme=Ime,kme=Cme(),Rme=kme;const Im=Ke(Rme);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){wV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wV(t,e,n){return e=Mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mme(t){var e=Nme(t,"string");return Uf(e)=="symbol"?e:e+""}function Nme(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dme=["Webkit","Moz","O","ms"],jme=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Dme.reduce(function(o,a){return ZC(ZC({},o),{},wV({},a+r,n))},{});return i[e]=n,i};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){$n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function Lme(t,e,n){return e&&tk(t.prototype,e),n&&tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vme(t,e,n){return e=km(e),Fme(t,bV()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function Fme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bme(t)}function Bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bV=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function $n(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=zme(t,"string");return Cl(e)=="symbol"?e:e+""}function zme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wme=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Oc().domain(Im(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},nk=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){function e(n){var r;return $me(this,e),r=Vme(this,e,[n]),$n(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$n(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$n(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),$n(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$n(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$n(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$n(r,"handleSlideDragStart",function(i){var o=nk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ume(e,t),Lme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Dt(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,g=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-f-s,u+c-f-a):v<0&&(v=Math.max(v,u-a,u-s));var m=this.getIndex({startX:a+v,endX:s+v});(m.startIndex!==d||m.endIndex!==p)&&g&&g(m),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=nk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,g=c.onChange,v=c.gap,m=c.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-p-u):_<0&&(_=Math.max(_,f-u)),y[a]=u+_;var w=this.getIndex(y),A=w.startIndex,x=w.endIndex,E=function(){var T=m.length-1;return a==="startX"&&(s>l?A%v===0:x%v===0)||s<l&&x===T||a==="endX"&&(s>l?x%v===0:A%v===0)||s>l&&x===T};this.setState($n($n({},a,u+_),"brushMoveStartX",r.pageX),function(){g&&E()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState($n({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=D.Children.only(u);return f?j.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,g=l.data,v=l.startIndex,m=l.endIndex,y=Math.max(r,this.props.x),_=o0(o0({},we(this.props,!1)),{},{x:y,y:u,width:c,height:f}),w=p||"Min value: ".concat((o=g[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[m])===null||a===void 0?void 0:a.name);return j.createElement(je,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,g={pointerEvents:"none",fill:u};return j.createElement(je,{className:"recharts-brush-texts"},j.createElement(om,Cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},g),this.getTextOfTick(i)),j.createElement(om,Cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,g=d.endX,v=d.isTextActive,m=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var w=Oe("recharts-brush",o),A=j.Children.count(a)===1,x=jme("userSelect","none");return j.createElement(je,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||m||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return o0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Wme({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);$n(kl,"displayName","Brush");$n(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hme=QS;function Kme(t,e){var n;return Hme(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var qme=Kme,Gme=S$,Xme=Uo,Yme=qme,Qme=Mn,Jme=sy;function Zme(t,e,n){var r=Qme(t)?Gme:Yme;return n&&Jme(t,e,n)&&(e=void 0),r(t,Xme(e))}var ege=Zme;const tge=Ke(ege);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},rk=H$;function nge(t,e,n){e=="__proto__"&&rk?rk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var rge=nge,ige=rge,oge=z$,age=Uo;function sge(t,e){var n={};return e=age(e),oge(t,function(r,i,o){ige(n,i,e(r,i,o))}),n}var lge=sge;const uge=Ke(lge);function cge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var fge=cge,hge=QS;function dge(t,e){var n=!0;return hge(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var pge=dge,mge=fge,gge=pge,yge=Uo,vge=Mn,_ge=sy;function wge(t,e,n){var r=vge(t)?mge:gge;return n&&_ge(t,e,n)&&(e=void 0),r(t,yge(e))}var bge=wge;const SV=Ke(bge);var xge=["x","y"];function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e,n){return e=Tge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Ege(t,"string");return zf(e)=="symbol"?e:e+""}function Ege(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Age(t,e){if(t==null)return{};var n=Pge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oge(t,e){var n=t.x,r=t.y,i=Age(t,xge),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Ju(Ju(Ju(Ju(Ju({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function ok(t){return j.createElement(Gw,Yw({shapeType:"rectangle",propTransformer:Oge,activeClassName:"recharts-active-bar"},t))}var Ige=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=te(r)||WX(r);return o?e(r,i):(o||za(),n)}},Cge=["value","background"],TV;function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function kge(t,e){if(t==null)return{};var n=Rge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){fo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function Nge(t,e,n){return e&&sk(t.prototype,e),n&&sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dge(t,e,n){return e=Mm(e),jge(t,EV()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function jge(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function Lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function fo(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Vge(t,"string");return Rl(e)=="symbol"?e:e+""}function Vge(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qo=function(t){function e(){var n;Mge(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Dge(this,e,[].concat(i)),fo(n,"state",{isAnimationFinished:!1}),fo(n,"id",Ja("recharts-bar-")),fo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),fo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Lge(e,t),Nge(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=we(this.props,!1);return r&&r.map(function(f,d){var p=d===l,g=p?u:a,v=St(St(St({},c),f),{},{isActive:p,option:g,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(je,Rm({className:"recharts-bar-rectangle"},hf(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),j.createElement(ok,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return j.createElement(Mr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=o.map(function(m,y){var _=d&&d[y];if(_){var w=_t(_.x,m.x),A=_t(_.y,m.y),x=_t(_.width,m.width),E=_t(_.height,m.height);return St(St({},m),{},{x:w(g),y:A(g),width:x(g),height:E(g)})}if(a==="horizontal"){var S=_t(0,m.height),T=S(g);return St(St({},m),{},{y:m.y+m.height-T,height:T})}var P=_t(0,m.width),C=P(g);return St(St({},m),{},{width:C})});return j.createElement(je,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ba(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=we(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=kge(u,Cge);if(!f)return null;var p=St(St(St(St(St({},d),{},{fill:"#eee"},f),l),hf(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return j.createElement(ok,Rm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Rn(c,yu);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(m,y){var _=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:_,errorVal:Dt(m,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(je,g,f.map(function(v){return j.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,g=r.background,v=r.id;if(i||!o||!o.length)return null;var m=this.state.isAnimationFinished,y=Oe("recharts-bar",a),_=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,A=_||w,x=ve(v)?this.id:v;return j.createElement(je,{className:y},_||w?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(x)},j.createElement("rect",{x:_?u:u-f/2,y:w?c:c-d/2,width:_?f:f*2,height:w?d:d*2}))):null,j.createElement(je,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,x),(!p||m)&&Gr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);TV=qo;fo(qo,"displayName","Bar");fo(qo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(qo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=hfe(r,n);if(!p)return null;var g=e.layout,v=n.type.defaultProps,m=v!==void 0?St(St({},v),n.props):n.props,y=m.dataKey,_=m.children,w=m.minPointSize,A=g==="horizontal"?a:o,x=u?A.scale.domain():null,E=wfe({numericAxis:A}),S=Rn(_,eT),T=f.map(function(P,C){var k,M,R,V,F,W;u?k=dfe(u[c+C],x):(k=Dt(P,y),Array.isArray(k)||(k=[E,k]));var U=Ige(w,TV.defaultProps.minPointSize)(k[1],C);if(g==="horizontal"){var $,B=[a.scale(k[0]),a.scale(k[1])],q=B[0],re=B[1];M=uC({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:C}),R=($=re??q)!==null&&$!==void 0?$:void 0,V=p.size;var Y=q-re;if(F=Number.isNaN(Y)?0:Y,W={x:M,y:a.y,width:V,height:a.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var ie=Or(F||U)*(Math.abs(U)-Math.abs(F));R-=ie,F+=ie}}else{var Te=[o.scale(k[0]),o.scale(k[1])],Ie=Te[0],Ue=Te[1];if(M=Ie,R=uC({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:C}),V=Ue-Ie,F=p.size,W={x:o.x,y:R,width:o.width,height:F},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var xe=Or(V||U)*(Math.abs(U)-Math.abs(V));V+=xe}}return St(St(St({},P),{},{x:M,y:R,width:V,height:F,value:u?k:k[1],payload:P,background:W},S&&S[C]&&S[C].props),{},{tooltipPayload:[iV(n,P)],tooltipPosition:{x:M+V/2,y:R+F/2}})});return St({data:T,layout:g},d)});function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function Bge(t,e,n){return e&&lk(t.prototype,e),n&&lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wy(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=Uge(t,"string");return Wf(e)=="symbol"?e:e+""}function Uge(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OV=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Vn(u,qo);return c.reduce(function(p,g){var v=n[g],m=v.orientation,y=v.domain,_=v.padding,w=_===void 0?{}:_,A=v.mirror,x=v.reversed,E="".concat(m).concat(A?"Mirror":""),S,T,P,C,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var M=y[1]-y[0],R=1/0,V=v.categoricalDomain.sort(GX);if(V.forEach(function(Te,Ie){Ie>0&&(R=Math.min((Te||0)-(V[Ie-1]||0),R))}),Number.isFinite(R)){var F=R/M,W=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(S=F*W/2),v.padding==="no-gap"){var U=Fa(e.barCategoryGap,F*W),$=F*W/2;S=$-U-($-U)/W*U}}}i==="xAxis"?T=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:T=v.range,x&&(T=[T[1],T[0]]);var B=cfe(v,o,d),q=B.scale,re=B.realScaleType;q.domain(y).range(T),ffe(q);var Y=_fe(q,Sr(Sr({},v),{},{realScaleType:re}));i==="xAxis"?(k=m==="top"&&!A||m==="bottom"&&A,P=r.left,C=f[E]-k*v.height):i==="yAxis"&&(k=m==="left"&&!A||m==="right"&&A,P=f[E]-k*v.width,C=r.top);var ie=Sr(Sr(Sr({},v),Y),{},{realScaleType:re,x:P,y:C,scale:q,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return ie.bandSize=_m(ie,Y),!v.hide&&i==="xAxis"?f[E]+=(k?-1:1)*ie.height:v.hide||(f[E]+=(k?-1:1)*ie.width),Sr(Sr({},p),{},wy({},g,ie))},{})},IV=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},zge=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return IV({x:n,y:r},{x:i,y:o})},CV=function(){function t(e){Fge(this,t),this.scale=e}return Bge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wy(CV,"EPS",1e-4);var PT=function(e){var n=Object.keys(e).reduce(function(r,i){return Sr(Sr({},r),{},wy({},i,CV.create(e[i])))},{});return Sr(Sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return uge(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return SV(i,function(o,a){return n[a].isInRange(o)})}})};function Wge(t){return(t%180+180)%180}var Hge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Wge(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Kge=Uo,qge=yh,Gge=oy;function Xge(t){return function(e,n,r){var i=Object(e);if(!qge(e)){var o=Kge(n);e=Gge(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Yge=Xge,Qge=_V;function Jge(t){var e=Qge(t),n=e%1;return e===e?n?e-n:e:0}var Zge=Jge,eye=$$,tye=Uo,nye=Zge,rye=Math.max;function iye(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:nye(n);return i<0&&(i=rye(r+i,0)),eye(t,tye(e),i)}var oye=iye,aye=Yge,sye=oye,lye=aye(sye),uye=lye;const cye=Ke(uye);var fye=Y7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OT=D.createContext(void 0),IT=D.createContext(void 0),kV=D.createContext(void 0),RV=D.createContext({}),MV=D.createContext(void 0),NV=D.createContext(0),DV=D.createContext(0),ck=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=fye(o);return j.createElement(OT.Provider,{value:r},j.createElement(IT.Provider,{value:i},j.createElement(RV.Provider,{value:o},j.createElement(kV.Provider,{value:c},j.createElement(MV.Provider,{value:a},j.createElement(NV.Provider,{value:u},j.createElement(DV.Provider,{value:l},s)))))))},hye=function(){return D.useContext(MV)},jV=function(e){var n=D.useContext(OT);n==null&&za();var r=n[e];return r==null&&za(),r},dye=function(){var e=D.useContext(OT);return oo(e)},pye=function(){var e=D.useContext(IT),n=cye(e,function(r){return SV(r.domain,Number.isFinite)});return n||oo(e)},$V=function(e){var n=D.useContext(IT);n==null&&za();var r=n[e];return r==null&&za(),r},mye=function(){var e=D.useContext(kV);return e},gye=function(){return D.useContext(RV)},CT=function(){return D.useContext(DV)},kT=function(){return D.useContext(NV)};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VV(r.key),r)}}function _ye(t,e,n){return e&&vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wye(t,e,n){return e=Nm(e),bye(t,LV()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(t)}function xye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function Sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){RT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RT(t,e,n){return e=VV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VV(t){var e=Tye(t,"string");return Ml(e)=="symbol"?e:e+""}function Tye(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eye(t,e){return Iye(t)||Oye(t,e)||Pye(t,e)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(t,e){if(t){if(typeof t=="string")return dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Iye(t){if(Array.isArray(t))return t}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}var Cye=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):Se(e)?r=e(n):r=j.createElement("line",Zw({},n,{className:"recharts-reference-line-line"})),r},kye=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Xr(u,"discard")&&!e.y.isInRange(v))return null;var m=[{x:c+d,y:v},{x:c,y:v}];return l==="left"?m.reverse():m}if(n){var y=u.x,_=e.x.apply(y,{position:a});if(Xr(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+p},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var A=u.segment,x=A.map(function(E){return e.apply(E,{position:a})});return Xr(u,"discard")&&tge(x,function(E){return!e.isInRange(E)})?null:x}return null};function Rye(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=hye(),c=jV(i),f=$V(o),d=mye();if(!u||!d)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=PT({x:c.scale,y:f.scale}),g=Mt(e),v=Mt(n),m=r&&r.length===2,y=kye(p,g,v,m,d,t.position,c.orientation,f.orientation,t);if(!y)return null;var _=Eye(y,2),w=_[0],A=w.x,x=w.y,E=_[1],S=E.x,T=E.y,P=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,C=hk(hk({clipPath:P},we(t,!0)),{},{x1:A,y1:x,x2:S,y2:T});return j.createElement(je,{className:Oe("recharts-reference-line",s)},Cye(a,C),dn.renderCallByParent(t,zge({x1:A,y1:x,x2:S,y2:T})))}var by=function(t){function e(){return yye(this,e),wye(this,e,arguments)}return Sye(e,t),_ye(e,[{key:"render",value:function(){return j.createElement(Rye,this.props)}}])}(j.Component);RT(by,"displayName","ReferenceLine");RT(by,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function Dye(t,e,n){return e&&Nye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jye(t,e,n){return e=Dm(e),$ye(t,FV()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function $ye(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lye(t)}function Lye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function Vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function xy(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=Fye(t,"string");return Nl(e)=="symbol"?e:e+""}function Fye(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bye=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=PT({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!a.isInRange(s)?null:s},xh=function(t){function e(){return Mye(this,e),jye(this,e,arguments)}return Vye(e,t),Dye(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Mt(i),c=Mt(o);if(bi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Bye(this.props);if(!f)return null;var d=f.x,p=f.y,g=this.props,v=g.shape,m=g.className,y=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=mk(mk({clipPath:y},we(this.props,!0)),{},{cx:d,cy:p});return j.createElement(je,{className:Oe("recharts-reference-dot",m)},e.renderDot(v,_),dn.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(j.Component);xy(xh,"displayName","ReferenceDot");xy(xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xy(xh,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Se(t)?n=t(e):n=j.createElement(yy,eb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function Wye(t,e,n){return e&&zye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hye(t,e,n){return e=jm(e),Kye(t,UV()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function Kye(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qye(t)}function qye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function Sy(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=Xye(t,"string");return Dl(e)=="symbol"?e:e+""}function Xye(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yye=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=PT({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Xr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(g))?null:IV(p,g)},Ty=function(t){function e(){return Uye(this,e),Hye(this,e,arguments)}return Gye(e,t),Wye(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(i),d=Mt(o),p=Mt(a),g=Mt(s),v=this.props.shape;if(!f&&!d&&!p&&!g&&!v)return null;var m=Yye(f,d,p,g,this.props);if(!m&&!v)return null;var y=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return j.createElement(je,{className:Oe("recharts-reference-area",l)},e.renderRect(v,yk(yk({clipPath:y},we(this.props,!0)),m)),dn.renderCallByParent(this.props,m))}}])}(j.Component);Sy(Ty,"displayName","ReferenceArea");Sy(Ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sy(Ty,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Se(t)?n=t(e):n=j.createElement(AT,nb({},e,{className:"recharts-reference-area-rect"})),n});function WV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Qye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hge(r,n)}function Jye(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function $m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Zye(t,e){return WV(t,e+1)}function eve(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:WV(r,u)};var v=l,m,y=function(){return m===void 0&&(m=n(g,v)),m},_=g.coordinate,w=l===0||$m(t,_,y,c,s);w||(l=0,c=a,u+=1),w&&(c=_+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return e=nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return Hf(e)=="symbol"?e:e+""}function rve(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ive(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],g,v=function(){return g===void 0&&(g=n(p,d)),g};if(d===a-1){var m=t*(p.coordinate+t*v()/2-l);o[d]=p=ln(ln({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate})}else o[d]=p=ln(ln({},p),{},{tickCoord:p.coordinate});var y=$m(t,p.tickCoord,v,s,l);y&&(l=p.tickCoord-t*(v()/2+i),o[d]=ln(ln({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function ove(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=ln(ln({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=$m(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=ln(ln({},c),{},{isShow:!0}))}for(var g=o?s-1:s,v=function(_){var w=a[_],A,x=function(){return A===void 0&&(A=n(w,_)),A};if(_===0){var E=t*(w.coordinate-t*x()/2-l);a[_]=w=ln(ln({},w),{},{tickCoord:E<0?w.coordinate-E*t:w.coordinate})}else a[_]=w=ln(ln({},w),{},{tickCoord:w.coordinate});var S=$m(t,w.tickCoord,x,l,u);S&&(l=w.tickCoord+t*(x()/2+i),a[_]=ln(ln({},w),{},{isShow:!0}))},m=0;m<g;m++)v(m);return a}function MT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||zo.isSsr)return Zye(i,typeof l=="number"&&te(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Pc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(w,A){var x=Se(u)?u(w.value,A):w.value;return p==="width"?Qye(Pc(x,{fontSize:e,letterSpacing:n}),g,f):Pc(x,{fontSize:e,letterSpacing:n})[p]},m=i.length>=2?Or(i[1].coordinate-i[0].coordinate):1,y=Jye(o,m,p);return l==="equidistantPreserveStart"?eve(m,y,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=ove(m,y,v,i,a,l==="preserveStartEnd"):d=ive(m,y,v,i,a),d.filter(function(_){return _.isShow}))}var ave=["viewBox"],sve=["viewBox"],lve=["ticks"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function ks(){return ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0(t,e){if(t==null)return{};var n=uve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function fve(t,e,n){return e&&wk(t.prototype,e),n&&wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hve(t,e,n){return e=Lm(e),dve(t,HV()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function dve(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pve(t)}function pve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function NT(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=gve(t,"string");return jl(e)=="symbol"?e:e+""}function gve(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vu=function(t){function e(n){var r;return cve(this,e),r=hve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return mve(e,t),fve(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=a0(r,ave),s=this.props,l=s.viewBox,u=a0(s,sve);return!Zs(o,l)||!Zs(a,u)||!Zs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,g,v,m,y,_,w=f?-1:1,A=r.tickSize||c,x=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,m=a+ +!f*l,v=m-w*A,_=v-w*d,y=x;break;case"left":v=m=r.coordinate,g=o+ +!f*s,p=g-w*A,y=p-w*d,_=x;break;case"right":v=m=r.coordinate,g=o+ +f*s,p=g+w*A,y=p+w*d,_=x;break;default:p=g=r.coordinate,m=a+ +f*l,v=m+w*A,_=v+w*d,y=x;break}return{line:{x1:p,y1:v,x2:g,y2:m},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=It(It(It({},we(this.props,!1)),we(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=It(It({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=It(It({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return j.createElement("line",ks({},f,{className:Oe("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=MT(It(It({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),m=we(this.props,!1),y=we(c,!1),_=It(It({},m),{},{fill:"none"},we(l,!1)),w=p.map(function(A,x){var E=a.getTickLineCoord(A),S=E.line,T=E.tick,P=It(It(It(It({textAnchor:g,verticalAnchor:v},m),{},{stroke:"none",fill:u},y),T),{},{index:x,payload:A,visibleTicksCount:p.length,tickFormatter:f});return j.createElement(je,ks({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},hf(a.props,A,x)),l&&j.createElement("line",ks({},_,S,{className:Oe("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(Se(f)?f(A.value,x):A.value).concat(d||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=a0(f,lve),g=d;return Se(l)&&(g=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:j.createElement(je,{className:Oe("recharts-cartesian-axis",u),ref:function(m){r.layerReference=m}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Oe(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?a=j.cloneElement(r,It(It({},i),{},{className:s})):Se(r)?a=r(It(It({},i),{},{className:s})):a=j.createElement(om,ks({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);NT(vu,"displayName","CartesianAxis");NT(vu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yve=["x1","y1","x2","y2","key"],vve=["offset"];function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){_ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ve(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=bve(t,"string");return Wa(e)=="symbol"?e:e+""}function bve(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(this,arguments)}function xk(t,e){if(t==null)return{};var n=xve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sve=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qV(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=xk(e,yve),u=we(l,!1);u.offset;var c=xk(u,vve);n=j.createElement("line",va({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Tve(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=pn(pn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return qV(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Eve(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=pn(pn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return qV(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ave(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],v=g?i+a-d:c[p+1]-d;if(v<=0)return null;var m=p%e.length;return j.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:v,width:o,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Pve(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],v=g?o+s-d:c[p+1]-d;if(v<=0)return null;var m=p%r.length;return j.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:v,height:l,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ove=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return nV(MT(pn(pn(pn({},vu.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Ive=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return nV(MT(pn(pn(pn({},vu.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},fs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ob(t){var e,n,r,i,o,a,s=CT(),l=kT(),u=gye(),c=pn(pn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:fs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:fs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:fs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:fs.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:fs.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:fs.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,g=c.height,v=c.syncWithTicks,m=c.horizontalValues,y=c.verticalValues,_=dye(),w=pye();if(!te(p)||p<=0||!te(g)||g<=0||!te(f)||f!==+f||!te(d)||d!==+d)return null;var A=c.verticalCoordinatesGenerator||Ove,x=c.horizontalCoordinatesGenerator||Ive,E=c.horizontalPoints,S=c.verticalPoints;if((!E||!E.length)&&Se(x)){var T=m&&m.length,P=x({yAxis:w?pn(pn({},w),{},{ticks:T?m:w.ticks}):void 0,width:s,height:l,offset:u},T?!0:v);bi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wa(P),"]")),Array.isArray(P)&&(E=P)}if((!S||!S.length)&&Se(A)){var C=y&&y.length,k=A({xAxis:_?pn(pn({},_),{},{ticks:C?y:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);bi(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wa(k),"]")),Array.isArray(k)&&(S=k)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Sve,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),j.createElement(Tve,va({},c,{offset:u,horizontalPoints:E,xAxis:_,yAxis:w})),j.createElement(Eve,va({},c,{offset:u,verticalPoints:S,xAxis:_,yAxis:w})),j.createElement(Ave,va({},c,{horizontalPoints:E})),j.createElement(Pve,va({},c,{verticalPoints:S})))}ob.displayName="CartesianGrid";var Cve=["type","layout","connectNulls","ref"],kve=["key"];function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Sk(t,e){if(t==null)return{};var n=Rve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Tr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hs(t){return jve(t)||Dve(t)||Nve(t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){if(t){if(typeof t=="string")return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function Dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jve(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XV(r.key),r)}}function Lve(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vve(t,e,n){return e=Vm(e),Fve(t,GV()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function Fve(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bve(t)}function Bve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function Uve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sb(t,e)}function Tr(t,e,n){return e=XV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XV(t){var e=zve(t,"string");return $l(e)=="symbol"?e:e+""}function zve(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sr=function(t){function e(){var n;$ve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Vve(this,e,[].concat(i)),Tr(n,"state",{isAnimationFinished:!0,totalLength:0}),Tr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Tr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(y,_){return y+_});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,d=s-a,p=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){p=[].concat(hs(l.slice(0,g)),[f-v]);break}var m=p.length%2===0?[0,d]:[d];return[].concat(hs(e.repeat(l,c)),hs(p),m).map(function(y){return"".concat(y,"px")}).join(", ")}),Tr(n,"id",Ja("recharts-line-")),Tr(n,"pathRef",function(a){n.mainCurve=a}),Tr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Tr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Uve(e,t),Lve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Rn(c,yu);if(!f)return null;var d=function(v,m){return{x:v.x,y:v.y,value:v.value,errorVal:Dt(v.payload,m)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(je,p,f.map(function(g){return j.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=we(this.props,!1),d=we(l,!0),p=u.map(function(v,m){var y=jn(jn(jn({key:"dot-".concat(m),r:3},f),d),{},{index:m,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,y)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(je,kc({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=Sk(s,Cve),d=jn(jn(jn({},we(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return j.createElement(Pa,kc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,g=a.animateNewValues,v=a.width,m=a.height,y=this.state,_=y.prevPoints,w=y.totalLength;return j.createElement(Mr,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var x=A.t;if(_){var E=_.length/s.length,S=s.map(function(M,R){var V=Math.floor(R*E);if(_[V]){var F=_[V],W=_t(F.x,M.x),U=_t(F.y,M.y);return jn(jn({},M),{},{x:W(x),y:U(x)})}if(g){var $=_t(v*2,M.x),B=_t(m/2,M.y);return jn(jn({},M),{},{x:$(x),y:B(x)})}return jn(jn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(S,r,i)}var T=_t(0,w),P=T(x),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});C=o.getStrokeDasharray(P,w,k)}else C=o.generateSimpleStrokeDasharray(w,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Ba(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,g=i.height,v=i.isAnimationActive,m=i.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,_=s.length===1,w=Oe("recharts-line",l),A=u&&u.allowDataOverflow,x=c&&c.allowDataOverflow,E=A||x,S=ve(m)?this.id:m,T=(r=we(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,C=P===void 0?3:P,k=T.strokeWidth,M=k===void 0?2:k,R=G2(a)?a:{},V=R.clipDot,F=V===void 0?!0:V,W=C*2+M;return j.createElement(je,{className:w},A||x?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:A?d:d-p/2,y:x?f:f-g/2,width:A?p:p*2,height:x?g:g*2})),!F&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:d-W/2,y:f-W/2,width:p+W,height:g+W}))):null,!_&&this.renderCurve(E,S),this.renderErrorBar(E,S),(_||a)&&this.renderDots(E,F,S),(!v||y)&&Gr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(hs(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(hs(a),hs(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(j.isValidElement(r))o=j.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=Sk(i,kve),l=Oe("recharts-line-dot",typeof r!="boolean"?r.className:"");o=j.createElement(yy,kc({key:a},s,{className:l}))}return o}}])}(D.PureComponent);Tr(sr,"displayName","Line");Tr(sr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Tr(sr,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var g=Dt(d,a);return c==="horizontal"?{x:Ol({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:ve(g)?null:r.scale(g),value:g,payload:d}:{x:ve(g)?null:n.scale(g),y:Ol({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:g,payload:d}});return jn({points:f,layout:c},u)});var Wve=["layout","type","stroke","connectNulls","isRange","ref"],Hve=["key"],YV;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function QV(t,e){if(t==null)return{};var n=Kve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZV(r.key),r)}}function Gve(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xve(t,e,n){return e=Fm(e),Yve(t,JV()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Yve(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qve(t)}function Qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function Jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function Vr(t,e,n){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=Zve(t,"string");return Ll(e)=="symbol"?e:e+""}function Zve(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ns=function(t){function e(){var n;qve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xve(this,e,[].concat(i)),Vr(n,"state",{isAnimationFinished:!0}),Vr(n,"id",Ja("recharts-area-")),Vr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(a)&&a()}),Vr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(a)&&a()}),n}return Jve(e,t),Gve(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=we(this.props,!1),p=we(u,!0),g=c.map(function(m,y){var _=Gi(Gi(Gi({key:"dot-".concat(y),r:3},d),p),{},{index:y,cx:m.x,cy:m.y,dataKey:f,value:m.value,payload:m.payload,points:c});return e.renderDotItem(u,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(je,_a({className:"recharts-area-dots"},v),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),f=co(a.map(function(d){return d.y||0}));return te(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(co(o.map(function(d){return d.y||0})),f)),te(f)?j.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),f=co(a.map(function(d){return d.x||0}));return te(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(co(o.map(function(d){return d.x||0})),f)),te(f)?j.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var p=QV(s,Wve);return j.createElement(je,{clipPath:o?"url(#clipPath-".concat(a,")"):null},j.createElement(Pa,_a({},we(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&j.createElement(Pa,_a({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&j.createElement(Pa,_a({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,g=this.state,v=g.prevPoints,m=g.prevBaseLine;return j.createElement(Mr,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t;if(v){var w=v.length/s.length,A=s.map(function(T,P){var C=Math.floor(P*w);if(v[C]){var k=v[C],M=_t(k.x,T.x),R=_t(k.y,T.y);return Gi(Gi({},T),{},{x:M(_),y:R(_)})}return T}),x;if(te(l)&&typeof l=="number"){var E=_t(m,l);x=E(_)}else if(ve(l)||cu(l)){var S=_t(m,0);x=S(_)}else x=l.map(function(T,P){var C=Math.floor(P*w);if(m[C]){var k=m[C],M=_t(k.x,T.x),R=_t(k.y,T.y);return Gi(Gi({},T),{},{x:M(_),y:R(_)})}return T});return o.renderAreaStatically(A,x,r,i)}return j.createElement(je,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),j.createElement(je,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&a&&a.length&&(!c&&d>0||!Ba(c,a)||!Ba(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,p=i.width,g=i.height,v=i.isAnimationActive,m=i.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,_=s.length===1,w=Oe("recharts-area",l),A=f&&f.allowDataOverflow,x=d&&d.allowDataOverflow,E=A||x,S=ve(m)?this.id:m,T=(r=we(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,C=P===void 0?3:P,k=T.strokeWidth,M=k===void 0?2:k,R=G2(a)?a:{},V=R.clipDot,F=V===void 0?!0:V,W=C*2+M;return j.createElement(je,{className:w},A||x?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:A?c:c-p/2,y:x?u:u-g/2,width:A?p:p*2,height:x?g:g*2})),!F&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:c-W/2,y:u-W/2,width:p+W,height:g+W}))):null,_?null:this.renderArea(E,S),(a||_)&&this.renderDots(E,F,S),(!v||y)&&Gr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);YV=ns;Vr(ns,"displayName","Area");Vr(ns,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Vr(ns,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(te(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Vr(ns,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=e.layout,g=u&&u.length,v=YV.getBaseValue(e,n,r,i),m=p==="horizontal",y=!1,_=f.map(function(A,x){var E;g?E=u[c+x]:(E=Dt(A,l),Array.isArray(E)?y=!0:E=[v,E]);var S=E[1]==null||g&&Dt(A,l)==null;return m?{x:Ol({axis:r,ticks:o,bandSize:s,entry:A,index:x}),y:S?null:i.scale(E[1]),value:E,payload:A}:{x:S?null:r.scale(E[1]),y:Ol({axis:i,ticks:a,bandSize:s,entry:A,index:x}),value:E,payload:A}}),w;return g||y?w=_.map(function(A){var x=Array.isArray(A.value)?A.value[0]:null;return m?{x:A.x,y:x!=null&&A.y!=null?i.scale(x):null}:{x:x!=null?r.scale(x):null,y:A.y}}):w=m?i.scale(v):r.scale(v),Gi({points:_,baseLine:w,layout:p,isRange:y},d)});Vr(ns,"renderDotItem",function(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=Oe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=QV(e,Hve);n=j.createElement(yy,_a({},o,{key:i,className:r}))}return n});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function e0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function n0e(t,e,n){return e&&t0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r0e(t,e,n){return e=Bm(e),i0e(t,eF()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function i0e(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(t)}function o0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function a0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function tF(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=s0e(t,"string");return Vl(e)=="symbol"?e:e+""}function s0e(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ey=function(t){function e(){return e0e(this,e),r0e(this,e,arguments)}return a0e(e,t),n0e(e,[{key:"render",value:function(){return null}}])}(D.Component);tF(Ey,"displayName","ZAxis");tF(Ey,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var l0e=["option","isActive"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(this,arguments)}function u0e(t,e){if(t==null)return{};var n=c0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f0e(t){var e=t.option,n=t.isActive,r=u0e(t,l0e);return typeof e=="string"?D.createElement(Gw,Rc({option:D.createElement(iy,Rc({type:e},r)),isActive:n,shapeType:"symbols"},r)):D.createElement(Gw,Rc({option:e,isActive:n,shapeType:"symbols"},r))}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iF(r.key),r)}}function d0e(t,e,n){return e&&Ik(t.prototype,e),n&&Ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0e(t,e,n){return e=Um(e),m0e(t,rF()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function m0e(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(t)}function g0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function y0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function ho(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=v0e(t,"string");return Fl(e)=="symbol"?e:e+""}function v0e(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=function(t){function e(){var n;h0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p0e(this,e,[].concat(i)),ho(n,"state",{isAnimationFinished:!1}),ho(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),ho(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),ho(n,"id",Ja("recharts-scatter-")),n}return y0e(e,t),d0e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=we(this.props,!1);return r.map(function(c,f){var d=l===f,p=d?s:a,g=nr(nr({},u),c);return j.createElement(je,Mc({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(f)},hf(i.props,c,f),{role:"img"}),j.createElement(f0e,Mc({option:p,isActive:d,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return j.createElement(Mr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t,g=o.map(function(v,m){var y=f&&f[m];if(y){var _=_t(y.cx,v.cx),w=_t(y.cy,v.cy),A=_t(y.size,v.size);return nr(nr({},v),{},{cx:_(p),cy:w(p),size:A(p)})}var x=_t(0,v.size);return nr(nr({},v),{},{size:x(p)})});return j.createElement(je,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Ba(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Rn(l,yu);return u?u.map(function(c,f){var d=c.props,p=d.direction,g=d.dataKey;return j.cloneElement(c,{key:"".concat(p,"-").concat(g,"-").concat(o[f]),data:o,xAxis:a,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(m,y){return{x:m.cx,y:m.cy,value:p==="x"?+m.node.x:+m.node.y,errorVal:Dt(m,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=we(this.props,!1),u=we(o,!1),c,f;if(a==="joint")c=i.map(function(w){return{x:w.cx,y:w.cy}});else if(a==="fitting"){var d=qX(i),p=d.xmin,g=d.xmax,v=d.a,m=d.b,y=function(A){return v*A+m};c=[{x:p,y:y(p)},{x:g,y:y(g)}]}var _=nr(nr(nr({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return j.isValidElement(o)?f=j.cloneElement(o,_):Se(o)?f=o(_):f=j.createElement(Pa,Mc({},_,{type:s})),j.createElement(je,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,f=r.top,d=r.width,p=r.height,g=r.id,v=r.isAnimationActive;if(i||!o||!o.length)return null;var m=this.state.isAnimationFinished,y=Oe("recharts-scatter",s),_=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,A=_||w,x=ve(g)?this.id:g;return j.createElement(je,{className:y,clipPath:A?"url(#clipPath-".concat(x,")"):null},_||w?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(x)},j.createElement("rect",{x:_?c:c-d/2,y:w?f:f-p/2,width:_?d:d*2,height:w?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),j.createElement(je,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||m)&&Gr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(D.PureComponent);ho(Ay,"displayName","Scatter");ho(Ay,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ho(Ay,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Rn(i.props.children,eT),f=ve(e.dataKey)?i.props.dataKey:e.dataKey,d=ve(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,g=r?r.range:Ey.defaultProps.range,v=g&&g[0],m=e.scale.bandwidth?e.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,_=o.map(function(w,A){var x=Dt(w,f),E=Dt(w,d),S=!ve(p)&&Dt(w,p)||"-",T=[{name:ve(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:x,payload:w,dataKey:f,type:u},{name:ve(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:w,dataKey:d,type:u}];S!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:w,dataKey:p,type:u});var P=Ol({axis:e,ticks:a,bandSize:m,entry:w,index:A,dataKey:f}),C=Ol({axis:n,ticks:s,bandSize:y,entry:w,index:A,dataKey:d}),k=S!=="-"?r.scale(S):v,M=Math.sqrt(Math.max(k,0)/Math.PI);return nr(nr({},w),{},{cx:P,cy:C,x:P-M,y:C-M,xAxis:e,yAxis:n,zAxis:r,width:2*M,height:2*M,size:k,node:{x,y:E,z:S},tooltipPayload:T,tooltipPosition:{x:P,y:C},payload:w},c&&c[A]&&c[A].props)});return nr({points:_},l)});function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function _0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sF(r.key),r)}}function b0e(t,e,n){return e&&w0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x0e(t,e,n){return e=zm(e),S0e(t,oF()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function S0e(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function E0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function aF(t,e,n){return e=sF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sF(t){var e=A0e(t,"string");return Bl(e)=="symbol"?e:e+""}function A0e(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function P0e(t){var e=t.xAxisId,n=CT(),r=kT(),i=jV(e);return i==null?null:D.createElement(vu,hb({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return yi(a,!0)}}))}var ei=function(t){function e(){return _0e(this,e),x0e(this,e,arguments)}return E0e(e,t),b0e(e,[{key:"render",value:function(){return D.createElement(P0e,this.props)}}])}(D.Component);aF(ei,"displayName","XAxis");aF(ei,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function O0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cF(r.key),r)}}function C0e(t,e,n){return e&&I0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k0e(t,e,n){return e=Wm(e),R0e(t,lF()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function R0e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0e(t)}function M0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function N0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function uF(t,e,n){return e=cF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cF(t){var e=D0e(t,"string");return Ul(e)=="symbol"?e:e+""}function D0e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}var j0e=function(e){var n=e.yAxisId,r=CT(),i=kT(),o=$V(n);return o==null?null:D.createElement(vu,pb({},o,{className:Oe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return yi(s,!0)}}))},ti=function(t){function e(){return O0e(this,e),k0e(this,e,arguments)}return N0e(e,t),C0e(e,[{key:"render",value:function(){return D.createElement(j0e,this.props)}}])}(D.Component);uF(ti,"displayName","YAxis");uF(ti,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ck(t){return F0e(t)||V0e(t)||L0e(t)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L0e(t,e){if(t){if(typeof t=="string")return mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(t,e)}}function V0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F0e(t){if(Array.isArray(t))return mb(t)}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gb=function(e,n,r,i,o){var a=Rn(e,by),s=Rn(e,xh),l=[].concat(Ck(a),Ck(s)),u=Rn(e,Ty),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(v,m){if(m.props[c]===r&&Xr(m.props,"extendDomain")&&te(m.props[f])){var y=m.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},d)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");d=u.reduce(function(v,m){if(m.props[c]===r&&Xr(m.props,"extendDomain")&&te(m.props[p])&&te(m.props[g])){var y=m.props[p],_=m.props[g];return[Math.min(v[0],y,_),Math.max(v[1],y,_)]}return v},d)}return o&&o.length&&(d=o.reduce(function(v,m){return te(m)?[Math.min(v[0],m),Math.max(v[1],m)]:v},d)),d},fF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var m=this._events[v],y=arguments.length,_,w;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,d),!0;case 5:return m.fn.call(m.context,c,f,d,p),!0;case 6:return m.fn.call(m.context,c,f,d,p,g),!0}for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];m.fn.apply(m.context,_)}else{var A=m.length,x;for(w=0;w<A;w++)switch(m[w].once&&this.removeListener(u,m[w].fn,void 0,!0),y){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,c);break;case 3:m[w].fn.call(m[w].context,c,f);break;case 4:m[w].fn.call(m[w].context,c,f,d);break;default:if(!_)for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];m[w].fn.apply(m[w].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var v=0,m=[],y=g.length;v<y;v++)(g[v].fn!==c||d&&!g[v].once||f&&g[v].context!==f)&&m.push(g[v]);m.length?this._events[p]=m.length===1?m[0]:m:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(fF);var B0e=fF.exports;const U0e=Ke(B0e);var s0=new U0e,l0="recharts.syncMouseEvents";function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function z0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hF(r.key),r)}}function H0e(t,e,n){return e&&W0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u0(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=K0e(t,"string");return Kf(e)=="symbol"?e:e+""}function K0e(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q0e=function(){function t(){z0e(this,t),u0(this,"activeIndex",0),u0(this,"coordinateList",[]),u0(this,"layout","horizontal")}return H0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function G0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function X0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Yt(e,n,r,i),s=Yt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Y0e(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Yt(s,l,u,f),p=Yt(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return dF(e);return[{x:r,y:i},{x:o,y:a}]}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0e(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=Z0e(t,"string");return qf(e)=="symbol"?e:e+""}function Z0e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e_e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var g,v=Pa;if(d==="ScatterChart")g=a,v=Ape;else if(d==="BarChart")g=X0e(f,a,l,c),v=AT;else if(f==="radial"){var m=dF(a),y=m.cx,_=m.cy,w=m.radius,A=m.startAngle,x=m.endAngle;g={cx:y,cy:_,startAngle:A,endAngle:x,innerRadius:w,outerRadius:w},v=sV}else g={points:Y0e(f,a,l)},v=Pa;var E=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},l),g),we(p,!1)),{},{payload:s,payloadIndex:u,className:Oe("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,E):D.createElement(v,E)}var t_e=["item"],n_e=["children","className","width","height","style","compact","title","desc"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}function Rk(t,e){return o_e(t)||i_e(t,e)||mF(t,e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function o_e(t){if(Array.isArray(t))return t}function Mk(t,e){if(t==null)return{};var n=a_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function u_e(t,e,n){return e&&l_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_e(t,e,n){return e=Hm(e),f_e(t,pF()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function f_e(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function d_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function Wl(t){return g_e(t)||m_e(t)||mF(t)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mF(t,e){if(t){if(typeof t=="string")return vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(t,e)}}function m_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g_e(t){if(Array.isArray(t))return vb(t)}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function de(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=y_e(t,"string");return zl(e)=="symbol"?e:e+""}function y_e(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v_e={xAxis:["bottom","top"],yAxis:["left","right"]},__e={width:"100%",height:"100%"},yF={x:0,y:0};function Ed(t){return t}var w_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},b_e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),Yt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Yt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return yF},Py=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Wl(s),Wl(u)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function vF(t){return t==="number"?[0,"auto"]:void 0}var _b=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Py(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=Wp(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Wl(l),[iV(u,d)]):l},[])},Dk=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=w_e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ife(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=_b(e,n,c,f),p=b_e(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},x_e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=tV(c,o);return r.reduce(function(g,v){var m,y=v.type.defaultProps!==void 0?H(H({},v.type.defaultProps),v.props):v.props,_=y.type,w=y.dataKey,A=y.allowDataOverflow,x=y.allowDuplicatedCategory,E=y.scale,S=y.ticks,T=y.includeHidden,P=y[a];if(g[P])return g;var C=Py(e.data,{graphicalItems:i.filter(function(Y){var ie,Te=a in Y.props?Y.props[a]:(ie=Y.type.defaultProps)===null||ie===void 0?void 0:ie[a];return Te===P}),dataStartIndex:l,dataEndIndex:u}),k=C.length,M,R,V;G0e(y.domain,A,_)&&(M=Rw(y.domain,null,A),p&&(_==="number"||E!=="auto")&&(V=Ic(C,w,"category")));var F=vF(_);if(!M||M.length===0){var W,U=(W=y.domain)!==null&&W!==void 0?W:F;if(w){if(M=Ic(C,w,_),_==="category"&&p){var $=KX(M);x&&$?(R=M,M=Im(0,k)):x||(M=hC(U,M,v).reduce(function(Y,ie){return Y.indexOf(ie)>=0?Y:[].concat(Wl(Y),[ie])},[]))}else if(_==="category")x?M=M.filter(function(Y){return Y!==""&&!ve(Y)}):M=hC(U,M,v).reduce(function(Y,ie){return Y.indexOf(ie)>=0||ie===""||ve(ie)?Y:[].concat(Wl(Y),[ie])},[]);else if(_==="number"){var B=ufe(C,i.filter(function(Y){var ie,Te,Ie=a in Y.props?Y.props[a]:(ie=Y.type.defaultProps)===null||ie===void 0?void 0:ie[a],Ue="hide"in Y.props?Y.props.hide:(Te=Y.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return Ie===P&&(T||!Ue)}),w,o,c);B&&(M=B)}p&&(_==="number"||E!=="auto")&&(V=Ic(C,w,"category"))}else p?M=Im(0,k):s&&s[P]&&s[P].hasStack&&_==="number"?M=d==="expand"?[0,1]:rV(s[P].stackGroups,l,u):M=eV(C,i.filter(function(Y){var ie=a in Y.props?Y.props[a]:Y.type.defaultProps[a],Te="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ie===P&&(T||!Te)}),_,c,!0);if(_==="number")M=gb(f,M,P,o,S),U&&(M=Rw(U,M,A));else if(_==="category"&&U){var q=U,re=M.every(function(Y){return q.indexOf(Y)>=0});re&&(M=q)}}return H(H({},g),{},de({},P,H(H({},y),{},{axisType:o,domain:M,categoricalDomain:V,duplicateDomain:R,originalDomain:(m=y.domain)!==null&&m!==void 0?m:F,isCategorical:p,layout:c})))},{})},S_e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Py(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,g=tV(c,o),v=-1;return r.reduce(function(m,y){var _=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,w=_[a],A=vF("number");if(!m[w]){v++;var x;return g?x=Im(0,p):s&&s[w]&&s[w].hasStack?(x=rV(s[w].stackGroups,l,u),x=gb(f,x,w,o)):(x=Rw(A,eV(d,r.filter(function(E){var S,T,P=a in E.props?E.props[a]:(S=E.type.defaultProps)===null||S===void 0?void 0:S[a],C="hide"in E.props?E.props.hide:(T=E.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===w&&!C}),"number",c),i.defaultProps.allowDataOverflow),x=gb(f,x,w,o)),H(H({},m),{},de({},w,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(v_e,"".concat(o,".").concat(v%2),null),domain:x,originalDomain:A,isCategorical:g,layout:c})))}return m},{})},T_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=Rn(c,o),p={};return d&&d.length?p=x_e(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=S_e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},E_e=function(e){var n=oo(e),r=yi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:JS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_m(n,r)}},jk=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vn(n,kl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},A_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=wi(n&&n.type);return r&&r.indexOf("Bar")>=0})},$k=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P_e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Vn(f,kl),g=Vn(f,el),v=Object.keys(l).reduce(function(x,E){var S=l[E],T=S.orientation;return!S.mirror&&!S.hide?H(H({},x),{},de({},T,x[T]+S.width)):x},{left:d.left||0,right:d.right||0}),m=Object.keys(a).reduce(function(x,E){var S=a[E],T=S.orientation;return!S.mirror&&!S.hide?H(H({},x),{},de({},T,ur(x,"".concat(T))+S.height)):x},{top:d.top||0,bottom:d.bottom||0}),y=H(H({},m),v),_=y.bottom;p&&(y.bottom+=p.props.height||kl.defaultProps.height),g&&n&&(y=sfe(y,i,r,n));var w=u-y.left-y.right,A=c-y.top-y.bottom;return H(H({brushBottom:_},y),{},{width:Math.max(w,0),height:Math.max(A,0)})},O_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_F=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(y,_){var w=_.graphicalItems,A=_.stackGroups,x=_.offset,E=_.updateId,S=_.dataStartIndex,T=_.dataEndIndex,P=y.barSize,C=y.layout,k=y.barGap,M=y.barCategoryGap,R=y.maxBarSize,V=$k(C),F=V.numericAxisName,W=V.cateAxisName,U=A_e(w),$=[];return w.forEach(function(B,q){var re=Py(y.data,{graphicalItems:[B],dataStartIndex:S,dataEndIndex:T}),Y=B.type.defaultProps!==void 0?H(H({},B.type.defaultProps),B.props):B.props,ie=Y.dataKey,Te=Y.maxBarSize,Ie=Y["".concat(F,"Id")],Ue=Y["".concat(W,"Id")],xe={},Ee=l.reduce(function(Pt,nt){var tn=_["".concat(nt.axisType,"Map")],Yn=Y["".concat(nt.axisType,"Id")];tn&&tn[Yn]||nt.axisType==="zAxis"||za();var Nn=tn[Yn];return H(H({},Pt),{},de(de({},nt.axisType,Nn),"".concat(nt.axisType,"Ticks"),yi(Nn)))},xe),Z=Ee[W],ce=Ee["".concat(W,"Ticks")],me=A&&A[Ie]&&A[Ie].hasStack&&bfe(B,A[Ie].stackGroups),X=wi(B.type).indexOf("Bar")>=0,K=_m(Z,ce),ee=[],se=U&&ofe({barSize:P,stackGroups:A,totalSize:O_e(Ee,W)});if(X){var he,Le,pt=ve(Te)?R:Te,$t=(he=(Le=_m(Z,ce,!0))!==null&&Le!==void 0?Le:pt)!==null&&he!==void 0?he:0;ee=afe({barGap:k,barCategoryGap:M,bandSize:$t!==K?$t:K,sizeList:se[Ue],maxBarSize:pt}),$t!==K&&(ee=ee.map(function(Pt){return H(H({},Pt),{},{position:H(H({},Pt.position),{},{offset:Pt.position.offset-$t/2})})}))}var mt=B&&B.type&&B.type.getComposedData;mt&&$.push({props:H(H({},mt(H(H({},Ee),{},{displayedData:re,props:y,dataKey:ie,item:B,bandSize:K,barPosition:ee,offset:x,stackedData:me,layout:C,dataStartIndex:S,dataEndIndex:T}))),{},de(de(de({key:B.key||"item-".concat(q)},F,Ee[F]),W,Ee[W]),"animationId",E)),childIndex:oY(B,y.children),item:B})}),$},p=function(y,_){var w=y.props,A=y.dataStartIndex,x=y.dataEndIndex,E=y.updateId;if(!aO({props:w}))return null;var S=w.children,T=w.layout,P=w.stackOffset,C=w.data,k=w.reverseStackOrder,M=$k(T),R=M.numericAxisName,V=M.cateAxisName,F=Rn(S,r),W=vfe(C,F,"".concat(R,"Id"),"".concat(V,"Id"),P,k),U=l.reduce(function(Y,ie){var Te="".concat(ie.axisType,"Map");return H(H({},Y),{},de({},Te,T_e(w,H(H({},ie),{},{graphicalItems:F,stackGroups:ie.axisType===R&&W,dataStartIndex:A,dataEndIndex:x}))))},{}),$=P_e(H(H({},U),{},{props:w,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(U).forEach(function(Y){U[Y]=c(w,U[Y],$,Y.replace("Map",""),n)});var B=U["".concat(V,"Map")],q=E_e(B),re=d(w,H(H({},U),{},{dataStartIndex:A,dataEndIndex:x,updateId:E,graphicalItems:F,stackGroups:W,offset:$}));return H(H({formattedGraphicalItems:re,graphicalItems:F,offset:$,stackGroups:W},q),U)},g=function(m){function y(_){var w,A,x;return s_e(this,y),x=c_e(this,y,[_]),de(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(x,"accessibilityManager",new q0e),de(x,"handleLegendBBoxUpdate",function(E){if(E){var S=x.state,T=S.dataStartIndex,P=S.dataEndIndex,C=S.updateId;x.setState(H({legendBBox:E},p({props:x.props,dataStartIndex:T,dataEndIndex:P,updateId:C},H(H({},x.state),{},{legendBBox:E}))))}}),de(x,"handleReceiveSyncEvent",function(E,S,T){if(x.props.syncId===E){if(T===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),de(x,"handleBrushChange",function(E){var S=E.startIndex,T=E.endIndex;if(S!==x.state.dataStartIndex||T!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return H({dataStartIndex:S,dataEndIndex:T},p({props:x.props,dataStartIndex:S,dataEndIndex:T,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),de(x,"handleMouseEnter",function(E){var S=x.getMouseInfo(E);if(S){var T=H(H({},S),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseEnter;Se(P)&&P(T,E)}}),de(x,"triggeredAfterMouseMove",function(E){var S=x.getMouseInfo(E),T=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseMove;Se(P)&&P(T,E)}),de(x,"handleItemMouseEnter",function(E){x.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),de(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),de(x,"handleMouseMove",function(E){E.persist(),x.throttleTriggeredAfterMouseMove(E)}),de(x,"handleMouseLeave",function(E){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var T=x.props.onMouseLeave;Se(T)&&T(S,E)}),de(x,"handleOuterEvent",function(E){var S=iY(E),T=ur(x.props,"".concat(S));if(S&&Se(T)){var P,C;/.*touch.*/i.test(S)?C=x.getMouseInfo(E.changedTouches[0]):C=x.getMouseInfo(E),T((P=C)!==null&&P!==void 0?P:{},E)}}),de(x,"handleClick",function(E){var S=x.getMouseInfo(E);if(S){var T=H(H({},S),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onClick;Se(P)&&P(T,E)}}),de(x,"handleMouseDown",function(E){var S=x.props.onMouseDown;if(Se(S)){var T=x.getMouseInfo(E);S(T,E)}}),de(x,"handleMouseUp",function(E){var S=x.props.onMouseUp;if(Se(S)){var T=x.getMouseInfo(E);S(T,E)}}),de(x,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),de(x,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseDown(E.changedTouches[0])}),de(x,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseUp(E.changedTouches[0])}),de(x,"handleDoubleClick",function(E){var S=x.props.onDoubleClick;if(Se(S)){var T=x.getMouseInfo(E);S(T,E)}}),de(x,"handleContextMenu",function(E){var S=x.props.onContextMenu;if(Se(S)){var T=x.getMouseInfo(E);S(T,E)}}),de(x,"triggerSyncEvent",function(E){x.props.syncId!==void 0&&s0.emit(l0,x.props.syncId,E,x.eventEmitterSymbol)}),de(x,"applySyncEvent",function(E){var S=x.props,T=S.layout,P=S.syncMethod,C=x.state.updateId,k=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)x.setState(H({dataStartIndex:k,dataEndIndex:M},p({props:x.props,dataStartIndex:k,dataEndIndex:M,updateId:C},x.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,V=E.chartY,F=E.activeTooltipIndex,W=x.state,U=W.offset,$=W.tooltipTicks;if(!U)return;if(typeof P=="function")F=P($,E);else if(P==="value"){F=-1;for(var B=0;B<$.length;B++)if($[B].value===E.activeLabel){F=B;break}}var q=H(H({},U),{},{x:U.left,y:U.top}),re=Math.min(R,q.x+q.width),Y=Math.min(V,q.y+q.height),ie=$[F]&&$[F].value,Te=_b(x.state,x.props.data,F),Ie=$[F]?{x:T==="horizontal"?$[F].coordinate:re,y:T==="horizontal"?Y:$[F].coordinate}:yF;x.setState(H(H({},E),{},{activeLabel:ie,activeCoordinate:Ie,activePayload:Te,activeTooltipIndex:F}))}else x.setState(E)}),de(x,"renderCursor",function(E){var S,T=x.state,P=T.isTooltipActive,C=T.activeCoordinate,k=T.activePayload,M=T.offset,R=T.activeTooltipIndex,V=T.tooltipAxisBandSize,F=x.getTooltipEventType(),W=(S=E.props.active)!==null&&S!==void 0?S:P,U=x.props.layout,$=E.key||"_recharts-cursor";return j.createElement(e_e,{key:$,activeCoordinate:C,activePayload:k,activeTooltipIndex:R,chartName:n,element:E,isActive:W,layout:U,offset:M,tooltipAxisBandSize:V,tooltipEventType:F})}),de(x,"renderPolarAxis",function(E,S,T){var P=ur(E,"type.axisType"),C=ur(x.state,"".concat(P,"Map")),k=E.type.defaultProps,M=k!==void 0?H(H({},k),E.props):E.props,R=C&&C[M["".concat(P,"Id")]];return D.cloneElement(E,H(H({},R),{},{className:Oe(P,R.className),key:E.key||"".concat(S,"-").concat(T),ticks:yi(R,!0)}))}),de(x,"renderPolarGrid",function(E){var S=E.props,T=S.radialLines,P=S.polarAngles,C=S.polarRadius,k=x.state,M=k.radiusAxisMap,R=k.angleAxisMap,V=oo(M),F=oo(R),W=F.cx,U=F.cy,$=F.innerRadius,B=F.outerRadius;return D.cloneElement(E,{polarAngles:Array.isArray(P)?P:yi(F,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(C)?C:yi(V,!0).map(function(q){return q.coordinate}),cx:W,cy:U,innerRadius:$,outerRadius:B,key:E.key||"polar-grid",radialLines:T})}),de(x,"renderLegend",function(){var E=x.state.formattedGraphicalItems,S=x.props,T=S.children,P=S.width,C=S.height,k=x.props.margin||{},M=P-(k.left||0)-(k.right||0),R=JL({children:T,formattedGraphicalItems:E,legendWidth:M,legendContent:u});if(!R)return null;var V=R.item,F=Mk(R,t_e);return D.cloneElement(V,H(H({},F),{},{chartWidth:P,chartHeight:C,margin:k,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),de(x,"renderTooltip",function(){var E,S=x.props,T=S.children,P=S.accessibilityLayer,C=Vn(T,wn);if(!C)return null;var k=x.state,M=k.isTooltipActive,R=k.activeCoordinate,V=k.activePayload,F=k.activeLabel,W=k.offset,U=(E=C.props.active)!==null&&E!==void 0?E:M;return D.cloneElement(C,{viewBox:H(H({},W),{},{x:W.left,y:W.top}),active:U,label:F,payload:U?V:[],coordinate:R,accessibilityLayer:P})}),de(x,"renderBrush",function(E){var S=x.props,T=S.margin,P=S.data,C=x.state,k=C.offset,M=C.dataStartIndex,R=C.dataEndIndex,V=C.updateId;return D.cloneElement(E,{key:E.key||"_recharts-brush",onChange:wd(x.handleBrushChange,E.props.onChange),data:P,x:te(E.props.x)?E.props.x:k.left,y:te(E.props.y)?E.props.y:k.top+k.height+k.brushBottom-(T.bottom||0),width:te(E.props.width)?E.props.width:k.width,startIndex:M,endIndex:R,updateId:"brush-".concat(V)})}),de(x,"renderReferenceElement",function(E,S,T){if(!E)return null;var P=x,C=P.clipPathId,k=x.state,M=k.xAxisMap,R=k.yAxisMap,V=k.offset,F=E.type.defaultProps||{},W=E.props,U=W.xAxisId,$=U===void 0?F.xAxisId:U,B=W.yAxisId,q=B===void 0?F.yAxisId:B;return D.cloneElement(E,{key:E.key||"".concat(S,"-").concat(T),xAxis:M[$],yAxis:R[q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:C})}),de(x,"renderActivePoints",function(E){var S=E.item,T=E.activePoint,P=E.basePoint,C=E.childIndex,k=E.isRange,M=[],R=S.props.key,V=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,F=V.activeDot,W=V.dataKey,U=H(H({index:C,dataKey:W,cx:T.x,cy:T.y,r:4,fill:ET(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},we(F,!1)),Hp(F));return M.push(y.renderActiveDot(F,U,"".concat(R,"-activePoint-").concat(C))),P?M.push(y.renderActiveDot(F,H(H({},U),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(C))):k&&M.push(null),M}),de(x,"renderGraphicChild",function(E,S,T){var P=x.filterFormatItem(E,S,T);if(!P)return null;var C=x.getTooltipEventType(),k=x.state,M=k.isTooltipActive,R=k.tooltipAxis,V=k.activeTooltipIndex,F=k.activeLabel,W=x.props.children,U=Vn(W,wn),$=P.props,B=$.points,q=$.isRange,re=$.baseLine,Y=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,ie=Y.activeDot,Te=Y.hide,Ie=Y.activeBar,Ue=Y.activeShape,xe=!!(!Te&&M&&U&&(ie||Ie||Ue)),Ee={};C!=="axis"&&U&&U.props.trigger==="click"?Ee={onClick:wd(x.handleItemMouseEnter,E.props.onClick)}:C!=="axis"&&(Ee={onMouseLeave:wd(x.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:wd(x.handleItemMouseEnter,E.props.onMouseEnter)});var Z=D.cloneElement(E,H(H({},P.props),Ee));function ce(nt){return typeof R.dataKey=="function"?R.dataKey(nt.payload):null}if(xe)if(V>=0){var me,X;if(R.dataKey&&!R.allowDuplicatedCategory){var K=typeof R.dataKey=="function"?ce:"payload.".concat(R.dataKey.toString());me=Wp(B,K,F),X=q&&re&&Wp(re,K,F)}else me=B==null?void 0:B[V],X=q&&re&&re[V];if(Ue||Ie){var ee=E.props.activeIndex!==void 0?E.props.activeIndex:V;return[D.cloneElement(E,H(H(H({},P.props),Ee),{},{activeIndex:ee})),null,null]}if(!ve(me))return[Z].concat(Wl(x.renderActivePoints({item:P,activePoint:me,basePoint:X,childIndex:V,isRange:q})))}else{var se,he=(se=x.getItemByXY(x.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:Z},Le=he.graphicalItem,pt=Le.item,$t=pt===void 0?E:pt,mt=Le.childIndex,Pt=H(H(H({},P.props),Ee),{},{activeIndex:mt});return[D.cloneElement($t,Pt),null,null]}return q?[Z,null,null]:[Z,null]}),de(x,"renderCustomized",function(E,S,T){return D.cloneElement(E,H(H({key:"recharts-customized-".concat(T)},x.props),x.state))}),de(x,"renderMap",{CartesianGrid:{handler:Ed,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Ed},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Ed},YAxis:{handler:Ed},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Ja("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=J$(x.triggeredAfterMouseMove,(A=_.throttleDelay)!==null&&A!==void 0?A:1e3/60),x.state={},x}return d_e(y,m),u_e(y,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,x=w.data,E=w.height,S=w.layout,T=Vn(A,wn);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=_b(this.state,x,P,C),M=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+E)/2,V=S==="horizontal",F=V?{x:M,y:R}:{y:M,x:R},W=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});W&&(F=H(H({},F),W.props.points[P].tooltipPosition),k=W.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:F};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var x,E;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(w){q_([Vn(w.children,wn)],[Vn(this.props.children,wn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Vn(this.props.children,wn);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return s.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,x=A.getBoundingClientRect(),E=Cae(x),S={chartX:Math.round(w.pageX-E.left),chartY:Math.round(w.pageY-E.top)},T=x.width/A.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,T);if(!P)return null;var C=this.state,k=C.xAxisMap,M=C.yAxisMap,R=this.getTooltipEventType(),V=Dk(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&k&&M){var F=oo(k).scale,W=oo(M).scale,U=F&&F.invert?F.invert(S.chartX):null,$=W&&W.invert?W.invert(S.chartY):null;return H(H({},S),{},{xValue:U,yValue:$},V)}return V?H(H({},S),V):null}},{key:"inRange",value:function(w,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,S=w/x,T=A/x;if(E==="horizontal"||E==="vertical"){var P=this.state.offset,C=S>=P.left&&S<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return C?{x:S,y:T}:null}var k=this.state,M=k.angleAxisMap,R=k.radiusAxisMap;if(M&&R){var V=oo(M);return mC({x:S,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),x=Vn(w,wn),E={};x&&A==="axis"&&(x.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Hp(this.props,this.handleOuterEvent);return H(H({},S),E)}},{key:"addListener",value:function(){s0.on(l0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){s0.removeListener(l0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,x){for(var E=this.state.formattedGraphicalItems,S=0,T=E.length;S<T;S++){var P=E[S];if(P.item===w||P.props.key===w.key||A===wi(P.item.type)&&x===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,x=A.left,E=A.top,S=A.height,T=A.width;return j.createElement("defs",null,j.createElement("clipPath",{id:w},j.createElement("rect",{x,y:E,height:S,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,x){var E=Rk(x,2),S=E[0],T=E[1];return H(H({},A),{},de({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,x){var E=Rk(x,2),S=E[0],T=E[1];return H(H({},A),{},de({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,x=A.formattedGraphicalItems,E=A.activeItem;if(x&&x.length)for(var S=0,T=x.length;S<T;S++){var P=x[S],C=P.props,k=P.item,M=k.type.defaultProps!==void 0?H(H({},k.type.defaultProps),k.props):k.props,R=wi(k.type);if(R==="Bar"){var V=(C.data||[]).find(function($){return gpe(w,$)});if(V)return{graphicalItem:P,payload:V}}else if(R==="RadialBar"){var F=(C.data||[]).find(function($){return mC(w,$)});if(F)return{graphicalItem:P,payload:F}}else if(vy(P,E)||_y(P,E)||Bf(P,E)){var W=vme({graphicalItem:P,activeTooltipItem:E,itemData:M.data}),U=M.activeIndex===void 0?W:M.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:U}),payload:Bf(P,E)?M.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!aO(this))return null;var A=this.props,x=A.children,E=A.className,S=A.width,T=A.height,P=A.style,C=A.compact,k=A.title,M=A.desc,R=Mk(A,n_e),V=we(R,!1);if(C)return j.createElement(ck,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(X_,Rs({},V,{width:S,height:T,title:k,desc:M}),this.renderClipPath(),lO(x,this.renderMap)));if(this.props.accessibilityLayer){var F,W;V.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,V.role=(W=this.props.role)!==null&&W!==void 0?W:"application",V.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},V.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return j.createElement(ck,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",Rs({className:Oe("recharts-wrapper",E),style:H({position:"relative",cursor:"default",width:S,height:T},P)},U,{ref:function(B){w.container=B}}),j.createElement(X_,Rs({},V,{width:S,height:T,title:k,desc:M,style:__e}),this.renderClipPath(),lO(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);de(g,"displayName",n),de(g,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),de(g,"getDerivedStateFromProps",function(m,y){var _=m.dataKey,w=m.data,A=m.children,x=m.width,E=m.height,S=m.layout,T=m.stackOffset,P=m.margin,C=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var M=jk(m);return H(H(H({},M),{},{updateId:0},p(H(H({props:m},M),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:w,prevWidth:x,prevHeight:E,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(_!==y.prevDataKey||w!==y.prevData||x!==y.prevWidth||E!==y.prevHeight||S!==y.prevLayout||T!==y.prevStackOffset||!Zs(P,y.prevMargin)){var R=jk(m),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=H(H({},Dk(y,w,S)),{},{updateId:y.updateId+1}),W=H(H(H({},R),V),F);return H(H(H({},W),p(H({props:m},W),y)),{},{prevDataKey:_,prevData:w,prevWidth:x,prevHeight:E,prevLayout:S,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(!q_(A,y.prevChildren)){var U,$,B,q,re=Vn(A,kl),Y=re&&(U=($=re.props)===null||$===void 0?void 0:$.startIndex)!==null&&U!==void 0?U:C,ie=re&&(B=(q=re.props)===null||q===void 0?void 0:q.endIndex)!==null&&B!==void 0?B:k,Te=Y!==C||ie!==k,Ie=!ve(w),Ue=Ie&&!Te?y.updateId:y.updateId+1;return H(H({updateId:Ue},p(H(H({props:m},y),{},{updateId:Ue,dataStartIndex:Y,dataEndIndex:ie}),y)),{},{prevChildren:A,dataStartIndex:Y,dataEndIndex:ie})}return null}),de(g,"renderActiveDot",function(m,y,_){var w;return D.isValidElement(m)?w=D.cloneElement(m,y):Se(m)?w=m(y):w=j.createElement(yy,y),j.createElement(je,{className:"recharts-active-dot",key:_},w)});var v=D.forwardRef(function(y,_){return j.createElement(g,Rs({},y,{ref:_}))});return v.displayName=g.displayName,v},wb=_F({chartName:"LineChart",GraphicalChild:sr,axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:OV}),bb=_F({chartName:"ComposedChart",GraphicalChild:[sr,ns,qo,Ay],axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti},{axisType:"zAxis",AxisComp:Ey}],formatAxisMap:OV});function I_e({D:t,Q:e,price:n,cost:r,salvage:i}){const o=Math.min(e,t),a=Math.max(0,e-o);return n*o+i*a-r*e}function C_e(t){const e=[],n=t.length;for(let r=0;r<n;r++){const i=t[r]??0;for(let o=0;o<5;o++)e.push(i)}return e}function wF({session:t,players:e,avgOrderPerDayOverride:n}){const r=t.revealedDemands??[],i=t.optimalQ??0,a=(t.weeks??10)*5,s=Number(t.revealIndex),l=Number.isFinite(s)?Math.max(0,Math.round(s)):r.length,u=Math.min(r.length,a,l),c=r.slice(0,u),f=D.useMemo(()=>{if(n&&n.length)return n.slice(0,a);const v=e??[];if(!v.length)return Array.from({length:a},()=>0);const m=v.map(_=>C_e(_.ordersByWeek??[])),y=m.length||1;return Array.from({length:a},(_,w)=>m.reduce((x,E)=>x+(E[w]??0),0)/y)},[e,a,n]),d=D.useMemo(()=>c.length?c.reduce((m,y)=>m+y,0)/c.length:0,[c]),p=D.useMemo(()=>Array.from({length:u},(v,m)=>({day:m+1,avgDemand:d,optimalQ:i,avgOrder:f[m]??0})),[u,d,i,f]),g=D.useMemo(()=>{const v=c;if(v.length===0)return[];const m=Math.max(...v,Number(i??0)),y=Math.max(10,Math.ceil(m+Number(t.demandSigma??0))),_=y>150?5:2,w=Number(t.price??1),A=Number(t.cost??.2),x=Number(t.salvage??0),E=[];for(let S=0;S<=y;S+=_){let T=0;for(const P of v){const C=Math.min(S,P),k=Math.max(0,S-C);T+=w*C+x*k-A*S}E.push({q:S,profit:T})}return E},[c,i,t.price,t.cost,t.salvage,t.demandSigma]);return I.jsxs("div",{className:"grid two",children:[I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"In-game time series (demand, optimal, average order)"}),I.jsx("div",{style:{height:320},children:I.jsx(Sl,{children:I.jsxs(wb,{data:p,children:[I.jsx(ob,{strokeDasharray:"3 3"}),I.jsx(ei,{dataKey:"day"}),I.jsx(ti,{}),I.jsx(wn,{}),I.jsx(sr,{type:"monotone",dataKey:"avgDemand",dot:!1,stroke:"#0b3d91",strokeWidth:2,name:"Avg demand"}),I.jsx(sr,{type:"monotone",dataKey:"optimalQ",dot:!1,stroke:"#d62828",strokeWidth:2,name:"Optimal Q"}),I.jsx(sr,{type:"monotone",dataKey:"avgOrder",dot:!1,stroke:"#2a9d8f",strokeWidth:2,name:"Avg order"})]})})})]}),I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"In-game payoff curve"}),I.jsx("p",{className:"small",children:"Profit across all in-game days vs. order quantity (Q)."}),I.jsx("div",{style:{height:320},children:I.jsx(Sl,{children:I.jsxs(wb,{data:g,children:[I.jsx(ob,{strokeDasharray:"3 3"}),I.jsx(ei,{dataKey:"q",label:{value:"Order quantity",position:"insideBottom",offset:-6}}),I.jsx(ti,{label:{value:"Profit",angle:-90,position:"insideLeft",offset:10}}),I.jsx(wn,{formatter:v=>typeof v=="number"?Math.round(v):v}),I.jsx(sr,{type:"monotone",dataKey:"profit",dot:!1,stroke:"#6b4f2a",strokeWidth:2,name:"Profit"})]})})})]})]})}const ds=25;function k_e(){const{sessionId:t}=Lx(),[e,n]=D.useState(null),[r,i]=D.useState([]),[o,a]=D.useState([]),[s,l]=D.useState(!1),[u,c]=D.useState(""),[f,d]=D.useState(""),[p,g]=D.useState(0),v=D.useRef(null),m=D.useRef(!1),y=D.useRef(null),_=D.useRef(new Map);D.useEffect(()=>{if(!t)return;const K=Xs(Ac(pa,"sessions",t),se=>{const he=se.exists()?se.data():null;n(he),v.current=he}),ee=Xs(b2(pa,"sessions",t,"players"),se=>{const he=_.current;se.docChanges().forEach(Le=>{const pt=Le.doc.id;Le.type==="removed"?he.delete(pt):he.set(pt,{uid:pt,...Le.doc.data()})}),se.docChanges().length>0&&i(Array.from(he.values()))});return()=>{K(),ee(),_.current.clear()}},[t]),D.useEffect(()=>{if(!t)return;const K=Xs(Ac(pa,"sessions",t,"private","demand"),ee=>{const se=ee.exists()?ee.data():null,he=Array.isArray(se==null?void 0:se.inGameDemands)?se.inGameDemands:[];a(he)});return()=>K()},[t]);const w=(e==null?void 0:e.weekIndex)??0,A=(e==null?void 0:e.weeks)??10,x=A*5,E=D.useMemo(()=>r.filter(K=>{var ee;return(((ee=K.ordersByWeek)==null?void 0:ee[w])??null)!==null}),[r,w]),S=Math.max(1,Math.ceil(r.length/ds)),T=D.useMemo(()=>{const K=p*ds;return r.slice(K,K+ds)},[r,p]);D.useEffect(()=>{p>=S&&S>0&&g(S-1)},[p,S]);const P=r.length>0&&E.length===r.length,C=(e==null?void 0:e.showLeaderboard)===!0,k=(e==null?void 0:e.trainingDemands)??[],M=D.useMemo(()=>k.concat(o),[k,o]),R=D.useMemo(()=>yl(M),[M]),V=D.useMemo(()=>Js(M),[M]),F=D.useMemo(()=>uq(M),[M]),W=D.useMemo(()=>cq(M),[M]),U=D.useMemo(()=>M.length?M2(M,10):null,[M]),$=D.useMemo(()=>{if(!e||o.length===0)return[];const K=Number(e.optimalQ??0),ee=Math.max(1,Math.round(.15*Math.max(1,K))),se=Math.max(0,Math.round(K-ee)),he=Math.max(se+1,Math.round(K+ee)),Le=he-se>150?5:1,pt=Number(e.price??1),$t=Number(e.cost??.2),mt=Number(e.salvage??0),Pt=[];for(let nt=se;nt<=he;nt+=Le){let tn=0;for(const Yn of o){const Nn=Math.min(nt,Yn),Ot=Math.max(0,nt-Nn);tn+=pt*Nn+mt*Ot-$t*nt}Pt.push({q:nt,profit:tn})}return Pt},[e,o]),B=D.useMemo(()=>{if(!e||o.length===0)return null;const K=Math.max(0,...o),ee=Math.max(10,Math.ceil(K+Number(e.demandSigma??0))),se=Number(e.price??1),he=Number(e.cost??.2),Le=Number(e.salvage??0);let pt=0,$t=-1/0;for(let mt=0;mt<=ee;mt++){let Pt=0;for(const nt of o){const tn=Math.min(mt,nt),Yn=Math.max(0,mt-tn);Pt+=se*tn+Le*Yn-he*mt}Pt>$t&&($t=Pt,pt=mt)}return{q:pt,profit:$t}},[e,o]),q=D.useMemo(()=>{if(!$.length)return;let K=$[0].profit,ee=$[0].profit;for(const he of $)he.profit<K&&(K=he.profit),he.profit>ee&&(ee=he.profit);const se=Math.max(1,Math.round(.08*Math.max(1,Math.abs(ee-K))));return[Math.floor(K-se),Math.ceil(ee+se)]},[$]);D.useEffect(()=>()=>{y.current&&clearTimeout(y.current),m.current=!1},[]);function re(K){return new Promise(ee=>{y.current=window.setTimeout(()=>ee(),K)})}async function Y(){if(t&&!m.current){m.current=!0,d("Auto-reveal running...");try{for(;;){const K=v.current;if(!K||K.status==="finished"||K.status!=="ordering"&&K.status!=="revealing")break;const ee=K.revealIndex??0,se=(K.weeks??10)*5;if(ee>=se)break;await Fn.advanceReveal({sessionId:t}),await re(1500);const he=v.current;if(!he||he.status==="ordering"&&he.revealIndex%5===0)break}}catch(K){console.error(K),d((K==null?void 0:K.message)??"Auto-reveal failed")}finally{m.current=!1,y.current=null,d(K=>K==="Auto-reveal running..."?"":K)}}}D.useEffect(()=>{e&&e.status==="ordering"&&P&&Y()},[e==null?void 0:e.status,e==null?void 0:e.revealIndex,P,t]);async function ie(){if(t){c(""),l(!0);try{await Fn.startSession({sessionId:t}),c("Session started. Waiting for orders...")}catch(K){console.error(K),c((K==null?void 0:K.message)??"Start session failed")}finally{l(!1)}}}async function Te(K){if(t){c(""),l(!0);try{await Fn.nudgePlayer({sessionId:t,uid:K}),c("Nudge sent.")}catch(ee){console.error(ee),c((ee==null?void 0:ee.message)??"Nudge failed")}finally{l(!1)}}}async function Ie(K){if(t){c(""),l(!0);try{await Fn.kickPlayer({sessionId:t,uid:K}),c("Player kicked.")}catch(ee){console.error(ee),c((ee==null?void 0:ee.message)??"Kick failed")}finally{l(!1)}}}async function Ue(){if(t){c(""),l(!0);try{const K=await Fn.redrawSession({sessionId:t});c(K.data.ok?"Distribution redrawn.":"Feasible dataset not drawn in this attempt - please hit the redraw button.")}catch(K){console.error(K),c((K==null?void 0:K.message)??"Redraw failed")}finally{l(!1)}}}async function xe(){if(t&&confirm("End the session early? This will finalize all remaining days.")){c(""),l(!0);try{await Fn.endSession({sessionId:t}),c("Session ended.")}catch(K){console.error(K),c((K==null?void 0:K.message)??"End session failed")}finally{l(!1)}}}async function Ee(){if(!t||!e)return;const K=r.length-E.length,ee=Math.round(e.demandMu??50);if(confirm(`Auto-submit order of ${ee} (mean demand) for ${K} player(s) who haven't submitted?`)){c(""),l(!0);try{const se=await Fn.finishWeek({sessionId:t});se.data.updated>0?c(`Auto-submitted order of ${se.data.defaultOrder} for ${se.data.updated} player(s).`):c(se.data.message??"All players have already submitted.")}catch(se){console.error(se),c((se==null?void 0:se.message)??"Finish week failed")}finally{l(!1)}}}async function Z(K){if(t){c(""),l(!0);try{await $K(Ac(pa,"sessions",t),{showLeaderboard:K}),c(K?"Leaderboard visible to players.":"Leaderboard hidden from players.")}catch(ee){console.error(ee),c((ee==null?void 0:ee.message)??"Update failed")}finally{l(!1)}}}function ce(K){if(K==null)return"";const ee=String(K);return ee.includes(",")||ee.includes('"')||ee.includes(`
`)?`"${ee.replace(/"/g,'""')}"`:ee}function me(){if(!e||!t)return;const ee=(e.weeks??10)*5,se=o.length?o:e.revealedDemands??[],he=[];he.push(["sessionId","sessionCode","week","day","demand","playerUid","playerName","orderQty"].join(","));const Le=Math.min(se.length,ee);for(let nt=0;nt<Le;nt++){const tn=Math.floor(nt/5)+1,Yn=nt%5+1;for(const Nn of r){const zt=(Array.isArray(Nn.ordersByWeek)?Nn.ordersByWeek:[])[tn-1]??"";he.push([t,e.code,tn,Yn,se[nt],Nn.uid,Nn.name,zt].map(ce).join(","))}}const pt=new Blob([he.join(`
`)],{type:"text/csv;charset=utf-8;"}),$t=URL.createObjectURL(pt),mt=document.createElement("a"),Pt=new Date().toISOString().slice(0,10);mt.href=$t,mt.download=`session-${e.code}-${Pt}.csv`,mt.click(),URL.revokeObjectURL($t)}if(!e)return I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Host control room"}),I.jsx("p",{className:"small",children:"Loading session"})]});const X={lobby:{label:"Lobby",dotClass:"pending",badgeClass:"warning"},training:{label:"Training",dotClass:"pending",badgeClass:"warning"},ordering:{label:"Ordering",dotClass:"active",badgeClass:"success"},revealing:{label:"Revealing",dotClass:"active",badgeClass:"success"},finished:{label:"Finished",dotClass:"finished",badgeClass:""}}[e.status]??{label:e.status,dotClass:"pending",badgeClass:""};return I.jsxs("div",{className:"grid",children:[I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{marginBottom:12},children:[I.jsx("h2",{style:{margin:0},children:"Host Control Room"}),I.jsx("div",{className:"spacer"}),I.jsxs("div",{className:"row",style:{gap:6},children:[I.jsx("span",{className:`status-dot ${X.dotClass}`}),I.jsx("span",{className:`badge ${X.badgeClass}`,children:X.label})]})]}),I.jsxs("div",{className:"row",style:{gap:16,alignItems:"flex-start",flexWrap:"wrap"},children:[I.jsxs("div",{children:[I.jsx("div",{className:"small",style:{marginBottom:4},children:"Session Code"}),I.jsx("div",{className:"session-code",children:e.code})]}),I.jsxs("div",{style:{flex:1,minWidth:200},children:[I.jsx("div",{className:"small",style:{marginBottom:4},children:"Progress"}),I.jsx("div",{className:"progress-bar",children:I.jsx("div",{className:"fill",style:{width:`${e.revealIndex/x*100}%`}})}),I.jsxs("div",{className:"small",children:["Week ",w+1," of ",A,"  Day ",e.revealIndex," of ",x]})]})]}),e.drawFailed&&I.jsx("p",{className:"small",style:{color:"var(--danger)",marginTop:12},children:"Feasible dataset not drawn in this attempt - please hit the redraw button."}),I.jsxs("div",{className:"kpi",style:{marginTop:16},children:[I.jsxs("div",{className:"pill accent",children:["Optimal Q*: ",I.jsx("span",{className:"mono",children:e.optimalQ})]}),B&&I.jsxs("div",{className:"pill",children:["Best in-game Q: ",I.jsx("span",{className:"mono",children:B.q})]}),I.jsxs("div",{className:"pill",children:["Players: ",I.jsx("span",{className:"mono",children:r.length})]})]}),I.jsx("div",{className:"hr"}),I.jsxs("div",{className:"row",children:[e.status==="training"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"btn",disabled:s||r.length===0,onClick:ie,children:"Start session"}),I.jsx("button",{className:"btn ghost",disabled:s,onClick:Ue,children:"Redraw distribution"})]}):I.jsxs(I.Fragment,{children:[I.jsxs("span",{className:"small",children:["Submitted this week: ",I.jsxs("span",{className:"mono",children:[E.length,"/",r.length]})," ",P?"All in. Auto-reveal will run.":""]}),!P&&e.status==="ordering"&&I.jsx("button",{className:"btn",disabled:s,onClick:Ee,children:"Finish week"})]}),e.status!=="finished"&&I.jsx("button",{className:"btn secondary",disabled:s,onClick:xe,children:"End session early"}),I.jsx("div",{className:"spacer"}),I.jsxs("label",{className:"small",style:{display:"flex",alignItems:"center",gap:8},children:[I.jsx("input",{type:"checkbox",checked:C,disabled:s,onChange:K=>Z(K.target.checked)}),"Show leaderboard to players"]})]}),u&&I.jsx("div",{className:"hr"}),u&&I.jsx("p",{className:"small",children:u}),f&&I.jsx("div",{className:"hr"}),f&&I.jsx("p",{className:"small",children:f}),e.status==="finished"&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hr"}),I.jsxs("div",{className:"row",children:[I.jsx("button",{className:"btn secondary",onClick:me,children:"Download game data (CSV)"}),I.jsx("span",{className:"small",children:"Opens in Excel."})]})]})]}),e.status==="training"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Demand overview"}),I.jsxs("p",{className:"small",children:["Mean: ",I.jsx("span",{className:"mono",children:R.toFixed(2)}),"  Std:"," ",I.jsx("span",{className:"mono",children:V.toFixed(2)}),"  Skew:"," ",I.jsx("span",{className:"mono",children:F.toFixed(2)}),"  Kurtosis (excess):"," ",I.jsx("span",{className:"mono",children:W.toFixed(2)}),"  n=",M.length]}),I.jsx("p",{className:"small",children:"Includes training and in-game draws (host only)."}),U&&I.jsx("div",{style:{height:200},children:I.jsx(Sl,{children:I.jsxs(bb,{data:U.data,children:[I.jsx(ei,{dataKey:"label",tick:{fontSize:11},interval:0}),I.jsx(ti,{}),I.jsx(wn,{}),I.jsx(qo,{dataKey:"count"})]})})})]}),I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"In-game payoff curve"}),I.jsxs("p",{className:"small",children:["Profit across all in-game days vs. order quantity (Q). Optimal Q* is"," ",I.jsx("span",{className:"mono",children:e.optimalQ}),"."]}),I.jsx("div",{style:{height:220},children:I.jsx(Sl,{children:I.jsxs(wb,{data:$,children:[I.jsx(ei,{dataKey:"q",tick:{fontSize:11}}),I.jsx(ti,{domain:q}),I.jsx(wn,{formatter:K=>typeof K=="number"?Math.round(K):K}),I.jsx(sr,{type:"monotone",dataKey:"profit",dot:!1}),I.jsx(by,{x:e.optimalQ,stroke:"#6b4f2a",strokeDasharray:"3 3"}),B&&I.jsx(xh,{x:B.q,y:B.profit,r:5,fill:"#1f5f47",stroke:"none"})]})})})]})]}),I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Player matrix"}),I.jsxs("p",{className:"small",children:["Track weekly submissions, nudge laggards, or remove players.",r.length>ds&&I.jsxs(I.Fragment,{children:[" Showing ",p*ds+1,"-",Math.min((p+1)*ds,r.length)," of ",r.length," players."]})]}),I.jsx("div",{className:"hr"}),r.length===0?I.jsx("p",{className:"small",children:"No players yet."}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"grid",children:T.map(K=>{var he,Le;const ee=(((he=K.ordersByWeek)==null?void 0:he[w])??null)!==null,se=K.cumulativeProfit??0;return I.jsx("div",{className:`player-card ${ee?"submitted":"pending"}`,children:I.jsxs("div",{className:"row",children:[I.jsxs("div",{style:{flex:1},children:[I.jsxs("div",{className:"row",style:{gap:8,marginBottom:4},children:[I.jsx("span",{style:{fontWeight:700,fontSize:15},children:K.name}),ee?I.jsx("span",{className:"badge success",style:{fontSize:10,padding:"3px 8px"},children:"Submitted"}):I.jsx("span",{className:"badge warning",style:{fontSize:10,padding:"3px 8px"},children:"Pending"})]}),I.jsxs("div",{className:"small",style:{display:"flex",gap:16},children:[I.jsxs("span",{children:["Order: ",I.jsx("span",{className:"mono font-bold",children:ee?(Le=K.ordersByWeek)==null?void 0:Le[w]:""})]}),I.jsxs("span",{children:["Profit: ",I.jsxs("span",{className:`mono font-bold ${se>=0?"text-success":"text-danger"}`,children:[se>=0?"+":"",se.toFixed(2)]})]})]})]}),I.jsxs("div",{className:"row",children:[I.jsx("button",{className:"btn ghost",disabled:s||ee,onClick:()=>Te(K.uid),children:"Nudge"}),I.jsx("button",{className:"btn ghost",disabled:s,onClick:()=>{confirm(`Kick ${K.name}?`)&&Ie(K.uid)},children:"Kick"})]})]})},K.uid)})}),S>1&&I.jsxs("div",{className:"row",style:{marginTop:16,justifyContent:"center",gap:8},children:[I.jsx("button",{className:"btn ghost",disabled:p===0,onClick:()=>g(K=>Math.max(0,K-1)),children:"Previous"}),I.jsxs("span",{className:"small mono",style:{padding:"8px 12px"},children:["Page ",p+1," / ",S]}),I.jsx("button",{className:"btn ghost",disabled:p>=S-1,onClick:()=>g(K=>Math.min(S-1,K+1)),children:"Next"})]})]})]}),I.jsx(N2,{players:r}),e.status==="finished"&&I.jsx(wF,{session:e,players:r})]})}function R_e(){const{code:t}=Lx(),e=gg(),[n,r]=D.useState(""),[i,o]=D.useState(!1),[a,s]=D.useState("");async function l(){if(t){s(""),o(!0);try{const u=await Fn.joinSession({code:t.toUpperCase(),name:n.trim()});e(`/play/${u.data.sessionId}`,{state:{resumed:u.data.resumed}})}catch(u){console.error(u),s((u==null?void 0:u.message)??"Join failed")}finally{o(!1)}}}return I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Join session"}),I.jsxs("p",{className:"small",children:["Session code: ",I.jsx("span",{className:"badge mono",children:t==null?void 0:t.toUpperCase()})]}),I.jsx("label",{children:"Your name"}),I.jsx("input",{value:n,onChange:u=>r(u.target.value),placeholder:"e.g., Alex"}),I.jsx("div",{className:"row",style:{marginTop:12},children:I.jsx("button",{className:"btn",disabled:i||!n.trim(),onClick:l,children:"Start baking "})}),a&&I.jsx("div",{className:"hr"}),a&&I.jsx("p",{style:{color:"#7a2d2d"},children:a})]})}function M_e({demands:t,meanHat:e,sigmaHat:n,totalDays:r}){const i=M2(t,10),o=hq(e,n,i.minX,i.maxX,i.data.length).map(c=>c.y*i.scaleToHistogram),a=i.data.map((c,f)=>({...c,curve:o[f]??0})),s=t.map((c,f)=>({day:f+1,demand:c})),l=s.length-1,u=c=>{const{cx:f,cy:d,index:p}=c;return typeof f!="number"||typeof d!="number"?I.jsx("circle",{r:0}):p!==l?I.jsx("circle",{cx:f,cy:d,r:0}):I.jsxs("g",{children:[I.jsx("circle",{className:"latest-dot-ring",cx:f,cy:d,r:10},`latest-ring-${l}`),I.jsx("circle",{className:"latest-dot",cx:f,cy:d,r:4})]})};return I.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column"},children:[I.jsx("h2",{children:"Demand Data"}),I.jsxs("p",{className:"small",children:["Mean: ",I.jsx("span",{className:"mono",children:e.toFixed(2)}),"  Std:"," ",I.jsx("span",{className:"mono",children:n.toFixed(2)}),"  n=",t.length]}),I.jsx("div",{style:{height:200},children:I.jsx(Sl,{children:I.jsxs(bb,{data:a,children:[I.jsx(ei,{dataKey:"label",tick:{fontSize:11},interval:0}),I.jsx(ti,{}),I.jsx(wn,{content:c=>{var d;const f=(d=c.payload)==null?void 0:d.filter(p=>(p==null?void 0:p.dataKey)!=="curve");return I.jsx(K$,{...c,payload:f})}}),I.jsx(qo,{dataKey:"count"}),I.jsx(sr,{type:"monotone",dataKey:"curve",dot:!1})]})})}),I.jsx("div",{style:{flex:1,minHeight:120,marginTop:8},children:I.jsx(Sl,{children:I.jsxs(bb,{data:s,children:[I.jsx(ei,{dataKey:"day",type:"number",domain:[1,r],tick:{fontSize:11},allowDataOverflow:!0}),I.jsx(ti,{}),I.jsx(wn,{}),I.jsx(sr,{type:"monotone",dataKey:"demand",dot:u,isAnimationActive:!1})]})})})]})}const DT=D.createContext({});function jT(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Oy=D.createContext(null),$T=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class N_e extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function D_e({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=D.useContext($T);return D.useInsertionEffect(()=>{const{width:a,height:s,top:l,left:u}=i.current;if(e||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),I.jsx(N_e,{isPresent:e,childRef:r,sizeRef:i,children:D.cloneElement(t,{ref:r})})}const j_e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=jT($_e),l=D.useId(),u=D.useCallback(f=>{s.set(f,!0);for(const d of s.values())if(!d)return;r&&r()},[s,r]),c=D.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(s.set(f,!1),()=>s.delete(f))}),o?[Math.random(),u]:[n,u]);return D.useMemo(()=>{s.forEach((f,d)=>s.set(d,!1))},[n]),D.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),a==="popLayout"&&(t=I.jsx(D_e,{isPresent:n,children:t})),I.jsx(Oy.Provider,{value:c,children:t})};function $_e(){return new Map}function bF(t=!0){const e=D.useContext(Oy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=D.useId();D.useEffect(()=>{t&&i(o)},[t]);const a=D.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Ad=t=>t.key||"";function Lk(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const LT=typeof window<"u",xF=LT?D.useLayoutEffect:D.useEffect,L_e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1})=>{const[s,l]=bF(a),u=D.useMemo(()=>Lk(t),[t]),c=a&&!s?[]:u.map(Ad),f=D.useRef(!0),d=D.useRef(u),p=jT(()=>new Map),[g,v]=D.useState(u),[m,y]=D.useState(u);xF(()=>{f.current=!1,d.current=u;for(let A=0;A<m.length;A++){const x=Ad(m[A]);c.includes(x)?p.delete(x):p.get(x)!==!0&&p.set(x,!1)}},[m,c.length,c.join("-")]);const _=[];if(u!==g){let A=[...u];for(let x=0;x<m.length;x++){const E=m[x],S=Ad(E);c.includes(S)||(A.splice(x,0,E),_.push(E))}o==="wait"&&_.length&&(A=_),y(Lk(A)),v(u);return}const{forceRender:w}=D.useContext(DT);return I.jsx(I.Fragment,{children:m.map(A=>{const x=Ad(A),E=a&&!s?!1:u===m||c.includes(x),S=()=>{if(p.has(x))p.set(x,!0);else return;let T=!0;p.forEach(P=>{P||(T=!1)}),T&&(w==null||w(),y(d.current),a&&(l==null||l()),r&&r())};return I.jsx(j_e,{isPresent:E,initial:!f.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:E?void 0:S,children:A},x)})})},Hn=t=>t;let SF=Hn;function VT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Si=t=>t*1e3,Ti=t=>t/1e3,V_e={useManualTiming:!1};function F_e(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(u){o.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,c=!1,f=!1)=>{const p=f&&r?e:n;return c&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Pd=["read","resolveKeyframes","update","preRender","render","postRender"],B_e=40;function TF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Pd.reduce((y,_)=>(y[_]=F_e(o),y),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=a,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,B_e),1),i.timestamp=y,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Pd.reduce((y,_)=>{const w=a[_];return y[_]=(A,x=!1,E=!1)=>(n||g(),w.schedule(A,x,E)),y},{}),cancel:y=>{for(let _=0;_<Pd.length;_++)a[Pd[_]].cancel(y)},state:i,steps:a}}const{schedule:tt,cancel:Do,state:qt,steps:c0}=TF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0),EF=D.createContext({strict:!1}),Vk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kl={};for(const t in Vk)Kl[t]={isEnabled:e=>Vk[t].some(n=>!!e[n])};function U_e(t){for(const e in t)Kl[e]={...Kl[e],...t[e]}}const z_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||z_e.has(t)}let AF=t=>!Km(t);function W_e(t){t&&(AF=e=>e.startsWith("on")?!Km(e):t(e))}try{W_e(require("@emotion/is-prop-valid").default)}catch{}function H_e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(AF(i)||n===!0&&Km(i)||!e&&!Km(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function K_e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Iy=D.createContext({});function Gf(t){return typeof t=="string"||Array.isArray(t)}function Cy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const FT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BT=["initial",...FT];function ky(t){return Cy(t.animate)||BT.some(e=>Gf(t[e]))}function PF(t){return!!(ky(t)||t.variants)}function q_e(t,e){if(ky(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gf(n)?n:void 0,animate:Gf(r)?r:void 0}}return t.inherit!==!1?e:{}}function G_e(t){const{initial:e,animate:n}=q_e(t,D.useContext(Iy));return D.useMemo(()=>({initial:e,animate:n}),[Fk(e),Fk(n)])}function Fk(t){return Array.isArray(t)?t.join(" "):t}const X_e=Symbol.for("motionComponentSymbol");function Ms(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Y_e(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ms(n)&&(n.current=r))},[e])}const UT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q_e="framerAppearId",OF="data-"+UT(Q_e),{schedule:zT}=TF(queueMicrotask,!1),IF=D.createContext({});function J_e(t,e,n,r,i){var o,a;const{visualElement:s}=D.useContext(Iy),l=D.useContext(EF),u=D.useContext(Oy),c=D.useContext($T).reducedMotion,f=D.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=D.useContext(IF);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Z_e(f.current,n,i,p);const g=D.useRef(!1);D.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const v=n[OF],m=D.useRef(!!v&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return xF(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),zT.render(d.render),m.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,v)}),m.current=!1))}),d}function Z_e(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CF(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Ms(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function CF(t){if(t)return t.options.allowProjection!==!1?t.projection:CF(t.parent)}function ewe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,a;t&&U_e(t);function s(u,c){let f;const d={...D.useContext($T),...u,layoutId:twe(u)},{isStatic:p}=d,g=G_e(u),v=r(u,p);if(!p&&LT){nwe();const m=rwe(d);f=m.MeasureLayout,g.visualElement=J_e(i,v,d,e,m.ProjectionNode)}return I.jsxs(Iy.Provider,{value:g,children:[f&&g.visualElement?I.jsx(f,{visualElement:g.visualElement,...d}):null,n(i,u,Y_e(v,g.visualElement,c),v,p,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(a=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&a!==void 0?a:""})`}`;const l=D.forwardRef(s);return l[X_e]=i,l}function twe({layoutId:t}){const e=D.useContext(DT).id;return e&&t!==void 0?e+"-"+t:t}function nwe(t,e){D.useContext(EF).strict}function rwe(t){const{drag:e,layout:n}=Kl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const iwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WT(t){return typeof t!="string"||t.includes("-")?!1:!!(iwe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function HT(t,e,n,r){if(typeof e=="function"){const[i,o]=Bk(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Bk(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const xb=t=>Array.isArray(t),owe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),awe=t=>xb(t)?t[t.length-1]||0:t,mn=t=>!!(t&&t.getVelocity);function Qd(t){const e=mn(t)?t.get():t;return owe(e)?e.toValue():e}function swe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const a={latestValues:lwe(r,i,o,t),renderState:e()};return n&&(a.onMount=s=>n({props:r,current:s,...a}),a.onUpdate=s=>n(s)),a}const kF=t=>(e,n)=>{const r=D.useContext(Iy),i=D.useContext(Oy),o=()=>swe(t,e,r,i);return n?o():jT(o)};function lwe(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=Qd(o[d]);let{initial:a,animate:s}=t;const l=ky(t),u=PF(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const f=c?s:a;if(f&&typeof f!="boolean"&&!Cy(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const g=HT(t,d[p]);if(g){const{transitionEnd:v,transition:m,...y}=g;for(const _ in y){let w=y[_];if(Array.isArray(w)){const A=c?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}}}return i}const _u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rs=new Set(_u),RF=t=>e=>typeof e=="string"&&e.startsWith(t),MF=RF("--"),uwe=RF("var(--"),KT=t=>uwe(t)?cwe.test(t.split("/*")[0].trim()):!1,cwe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$i=(t,e,n)=>n>e?e:n<t?t:n,wu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xf={...wu,transform:t=>$i(0,1,t)},Od={...wu,default:1},Sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xi=Sh("deg"),Yr=Sh("%"),pe=Sh("px"),fwe=Sh("vh"),hwe=Sh("vw"),Uk={...Yr,parse:t=>Yr.parse(t)/100,transform:t=>Yr.transform(t*100)},dwe={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},pwe={rotate:Xi,rotateX:Xi,rotateY:Xi,rotateZ:Xi,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Xi,skewX:Xi,skewY:Xi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Xf,originX:Uk,originY:Uk,originZ:pe},zk={...wu,transform:Math.round},qT={...dwe,...pwe,zIndex:zk,size:pe,fillOpacity:Xf,strokeOpacity:Xf,numOctaves:zk},mwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gwe=_u.length;function ywe(t,e,n){let r="",i=!0;for(let o=0;o<gwe;o++){const a=_u[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const u=NF(s,qT[a]);if(!l){i=!1;const c=mwe[a]||a;r+=`${c}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function GT(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const u=e[l];if(rs.has(l)){a=!0;continue}else if(MF(l)){i[l]=u;continue}else{const c=NF(u,qT[l]);l.startsWith("origin")?(s=!0,o[l]=c):r[l]=c}}if(e.transform||(a||n?r.transform=ywe(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const vwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},_we={offset:"strokeDashoffset",array:"strokeDasharray"};function wwe(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?vwe:_we;t[o.offset]=pe.transform(-r);const a=pe.transform(e),s=pe.transform(n);t[o.array]=`${a} ${s}`}function Wk(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function bwe(t,e,n){const r=Wk(e,t.x,t.width),i=Wk(n,t.y,t.height);return`${r} ${i}`}function XT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,f){if(GT(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:g}=t;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=bwe(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),a!==void 0&&wwe(d,a,s,l,!1)}const YT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DF=()=>({...YT(),attrs:{}}),QT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const $F=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LF(t,e,n,r){jF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($F.has(i)?i:UT(i),e.attrs[i])}const qm={};function xwe(t){Object.assign(qm,t)}function VF(t,{layout:e,layoutId:n}){return rs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qm[t]||t==="opacity")}function JT(t,e,n){var r;const{style:i}=t,o={};for(const a in i)(mn(i[a])||e.style&&mn(e.style[a])||VF(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function FF(t,e,n){const r=JT(t,e,n);for(const i in t)if(mn(t[i])||mn(e[i])){const o=_u.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Swe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Hk=["x","y","width","height","cx","cy","r"],Twe={useVisualState:kF({scrapeMotionValuesFromProps:FF,createRenderState:DF,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const s in i)if(rs.has(s)){o=!0;break}}if(!o)return;let a=!e;if(e)for(let s=0;s<Hk.length;s++){const l=Hk[s];t[l]!==e[l]&&(a=!0)}a&&tt.read(()=>{Swe(n,r),tt.render(()=>{XT(r,i,QT(n.tagName),t.transformTemplate),LF(n,r)})})}})},Ewe={useVisualState:kF({scrapeMotionValuesFromProps:JT,createRenderState:YT})};function BF(t,e,n){for(const r in e)!mn(e[r])&&!VF(r,n)&&(t[r]=e[r])}function Awe({transformTemplate:t},e){return D.useMemo(()=>{const n=YT();return GT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Pwe(t,e){const n=t.style||{},r={};return BF(r,n,t),Object.assign(r,Awe(t,e)),r}function Owe(t,e){const n={},r=Pwe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Iwe(t,e,n,r){const i=D.useMemo(()=>{const o=DF();return XT(o,e,QT(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};BF(o,t.style,t),i.style={...o,...i.style}}return i}function Cwe(t=!1){return(n,r,i,{latestValues:o},a)=>{const l=(WT(n)?Iwe:Owe)(r,o,a,n),u=H_e(r,typeof n=="string",t),c=n!==D.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=D.useMemo(()=>mn(f)?f.get():f,[f]);return D.createElement(n,{...c,children:d})}}function kwe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...WT(r)?Twe:Ewe,preloadedFeatures:t,useRender:Cwe(i),createVisualElement:e,Component:r};return ewe(a)}}function UF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ry(t,e,n){const r=t.getProps();return HT(r,e,n!==void 0?n:r.custom,t)}const Rwe=VT(()=>window.ScrollTimeline!==void 0);class Mwe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Rwe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Nwe extends Mwe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ZT(t,e){return t?t[e]||t.default||t:void 0}const Sb=2e4;function zF(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sb;)e+=n,r=t.next(e);return e>=Sb?1/0:e}function eE(t){return typeof t=="function"}function Kk(t,e){t.timeline=e,t.onfinish=null}const tE=t=>Array.isArray(t)&&typeof t[0]=="number",Dwe={linearEasing:void 0};function jwe(t,e){const n=VT(t);return()=>{var r;return(r=Dwe[e])!==null&&r!==void 0?r:n()}}const Gm=jwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),WF=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Hl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function HF(t){return!!(typeof t=="function"&&Gm()||!t||typeof t=="string"&&(t in Tb||Gm())||tE(t)||Array.isArray(t)&&t.every(HF))}const uc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function KF(t,e){if(t)return typeof t=="function"&&Gm()?WF(t,e):tE(t)?uc(t):Array.isArray(t)?t.map(n=>KF(n,e)||Tb.easeOut):Tb[t]}const wr={x:!1,y:!1};function qF(){return wr.x||wr.y}function $we(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function GF(t,e){const n=$we(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qk(t){return e=>{e.pointerType==="touch"||qF()||t(e)}}function Lwe(t,e,n={}){const[r,i,o]=GF(t,n),a=qk(s=>{const{target:l}=s,u=e(s);if(typeof u!="function"||!l)return;const c=qk(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const XF=(t,e)=>e?t===e?!0:XF(t,e.parentElement):!1,nE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Vwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fwe(t){return Vwe.has(t.tagName)||t.tabIndex!==-1}const cc=new WeakSet;function Gk(t){return e=>{e.key==="Enter"&&t(e)}}function f0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bwe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Gk(()=>{if(cc.has(n))return;f0(n,"down");const i=Gk(()=>{f0(n,"up")}),o=()=>f0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Xk(t){return nE(t)&&!qF()}function Uwe(t,e,n={}){const[r,i,o]=GF(t,n),a=s=>{const l=s.currentTarget;if(!Xk(s)||cc.has(l))return;cc.add(l);const u=e(s),c=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!Xk(p)||!cc.has(l))&&(cc.delete(l),typeof u=="function"&&u(p,{success:g}))},f=p=>{c(p,n.useGlobalTarget||XF(l,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(s=>{!Fwe(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),s.addEventListener("focus",u=>Bwe(u,i),i)}),o}function zwe(t){return t==="x"||t==="y"?wr[t]?null:(wr[t]=!0,()=>{wr[t]=!1}):wr.x||wr.y?null:(wr.x=wr.y=!0,()=>{wr.x=wr.y=!1})}const YF=new Set(["width","height","top","left","right","bottom",..._u]);let Jd;function Wwe(){Jd=void 0}const Qr={now:()=>(Jd===void 0&&Qr.set(qt.isProcessing||V_e.useManualTiming?qt.timestamp:performance.now()),Jd),set:t=>{Jd=t,queueMicrotask(Wwe)}};function rE(t,e){t.indexOf(e)===-1&&t.push(e)}function iE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oE{constructor(){this.subscriptions=[]}add(e){return rE(this.subscriptions,e),()=>iE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QF(t,e){return e?t*(1e3/e):0}const Yk=30,Hwe=t=>!isNaN(parseFloat(t));class Kwe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Qr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hwe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new oE);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yk);return QF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yf(t,e){return new Kwe(t,e)}function qwe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yf(n))}function Gwe(t,e){const n=Ry(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=awe(o[a]);qwe(t,a,s)}}function Xwe(t){return!!(mn(t)&&t.add)}function Eb(t,e){const n=t.getValue("willChange");if(Xwe(n))return n.add(e)}function JF(t){return t.props[OF]}const ZF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ywe=1e-7,Qwe=12;function Jwe(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=ZF(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>Ywe&&++s<Qwe);return a}function Th(t,e,n,r){if(t===e&&n===r)return Hn;const i=o=>Jwe(o,0,1,t,n);return o=>o===0||o===1?o:ZF(i(o),e,r)}const eB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tB=t=>e=>1-t(1-e),nB=Th(.33,1.53,.69,.99),aE=tB(nB),rB=eB(aE),iB=t=>(t*=2)<1?.5*aE(t):.5*(2-Math.pow(2,-10*(t-1))),sE=t=>1-Math.sin(Math.acos(t)),oB=tB(sE),aB=eB(sE),sB=t=>/^0[^.\s]+$/u.test(t);function Zwe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sB(t):!0}const Nc=t=>Math.round(t*1e5)/1e5,lE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ebe(t){return t==null}const tbe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uE=(t,e)=>n=>!!(typeof n=="string"&&tbe.test(n)&&n.startsWith(t)||e&&!ebe(n)&&Object.prototype.hasOwnProperty.call(n,e)),lB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(lE);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},nbe=t=>$i(0,255,t),h0={...wu,transform:t=>Math.round(nbe(t))},wa={test:uE("rgb","red"),parse:lB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+h0.transform(t)+", "+h0.transform(e)+", "+h0.transform(n)+", "+Nc(Xf.transform(r))+")"};function rbe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ab={test:uE("#"),parse:rbe,transform:wa.transform},Ns={test:uE("hsl","hue"),parse:lB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yr.transform(Nc(e))+", "+Yr.transform(Nc(n))+", "+Nc(Xf.transform(r))+")"},un={test:t=>wa.test(t)||Ab.test(t)||Ns.test(t),parse:t=>wa.test(t)?wa.parse(t):Ns.test(t)?Ns.parse(t):Ab.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):Ns.transform(t)},ibe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function obe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ibe))===null||n===void 0?void 0:n.length)||0)>0}const uB="number",cB="color",abe="var",sbe="var(",Qk="${}",lbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(lbe,l=>(un.test(l)?(r.color.push(o),i.push(cB),n.push(un.parse(l))):l.startsWith(sbe)?(r.var.push(o),i.push(abe),n.push(l)):(r.number.push(o),i.push(uB),n.push(parseFloat(l))),++o,Qk)).split(Qk);return{values:n,split:s,indexes:r,types:i}}function fB(t){return Qf(t).values}function hB(t){const{split:e,types:n}=Qf(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const s=n[a];s===uB?o+=Nc(i[a]):s===cB?o+=un.transform(i[a]):o+=i[a]}return o}}const ube=t=>typeof t=="number"?0:t;function cbe(t){const e=fB(t);return hB(t)(e.map(ube))}const jo={test:obe,parse:fB,createTransformer:hB,getAnimatableNone:cbe},fbe=new Set(["brightness","contrast","saturate","opacity"]);function hbe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lE)||[];if(!r)return t;const i=n.replace(r,"");let o=fbe.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const dbe=/\b([a-z-]*)\(.*?\)/gu,Pb={...jo,getAnimatableNone:t=>{const e=t.match(dbe);return e?e.map(hbe).join(" "):t}},pbe={...qT,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:Pb,WebkitFilter:Pb},cE=t=>pbe[t];function dB(t,e){let n=cE(t);return n!==Pb&&(n=jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mbe=new Set(["auto","none","0"]);function gbe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!mbe.has(o)&&Qf(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=dB(n,i)}const Jk=t=>t===wu||t===pe,Zk=(t,e)=>parseFloat(t.split(", ")[e]),eR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Zk(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Zk(o[1],t):0}},ybe=new Set(["x","y","z"]),vbe=_u.filter(t=>!ybe.has(t));function _be(t){const e=[];return vbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eR(4,13),y:eR(5,14)};ql.translateX=ql.x;ql.translateY=ql.y;const Oa=new Set;let Ob=!1,Ib=!1;function pB(){if(Ib){const t=Array.from(Oa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_be(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))===null||s===void 0||s.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ib=!1,Ob=!1,Oa.forEach(t=>t.complete()),Oa.clear()}function mB(){Oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ib=!0)})}function wbe(){mB(),pB()}class fE{constructor(e,n,r,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oa.add(this),Ob||(Ob=!0,tt.read(mB),tt.resolveKeyframes(pB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bbe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xbe(t){const e=bbe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yB(t,e,n=1){const[r,i]=xbe(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return gB(a)?parseFloat(a):a}return KT(i)?yB(i,e,n+1):i}const vB=t=>e=>e.test(t),Sbe={test:t=>t==="auto",parse:t=>t},_B=[wu,pe,Yr,Xi,hwe,fwe,Sbe],tR=t=>_B.find(vB(t));class wB extends fE{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),KT(u))){const c=yB(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!YF.has(r)||e.length!==2)return;const[i,o]=e,a=tR(i),s=tR(o);if(a!==s)if(Jk(a)&&Jk(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Zwe(e[i])&&r.push(i);r.length&&gbe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=ql[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const nR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jo.test(t)||t==="0")&&!t.startsWith("url("));function Tbe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ebe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=nR(i,e),s=nR(o,e);return!a||!s?!1:Tbe(t)||(n==="spring"||eE(n))&&r}const Abe=t=>t!==null;function My(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Abe),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Pbe=40;class bB{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pbe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wbe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Qr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:a,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Ebe(e,r,i,o))if(a)this.options.duration=0;else{l&&l(My(e,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const at=(t,e,n)=>t+(e-t)*n;function d0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Obe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=d0(l,s,t+1/3),o=d0(l,s,t),a=d0(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Xm(t,e){return n=>n>0?e:t}const p0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Ibe=[Ab,wa,Ns],Cbe=t=>Ibe.find(e=>e.test(t));function rR(t){const e=Cbe(t);if(!e)return!1;let n=e.parse(t);return e===Ns&&(n=Obe(n)),n}const iR=(t,e)=>{const n=rR(t),r=rR(e);if(!n||!r)return Xm(t,e);const i={...n};return o=>(i.red=p0(n.red,r.red,o),i.green=p0(n.green,r.green,o),i.blue=p0(n.blue,r.blue,o),i.alpha=at(n.alpha,r.alpha,o),wa.transform(i))},kbe=(t,e)=>n=>e(t(n)),Eh=(...t)=>t.reduce(kbe),Cb=new Set(["none","hidden"]);function Rbe(t,e){return Cb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mbe(t,e){return n=>at(t,e,n)}function hE(t){return typeof t=="number"?Mbe:typeof t=="string"?KT(t)?Xm:un.test(t)?iR:jbe:Array.isArray(t)?xB:typeof t=="object"?un.test(t)?iR:Nbe:Xm}function xB(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>hE(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function Nbe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=hE(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Dbe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],l=(n=t.values[s])!==null&&n!==void 0?n:0;r[o]=l,i[a]++}return r}const jbe=(t,e)=>{const n=jo.createTransformer(e),r=Qf(t),i=Qf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Cb.has(t)&&!i.values.length||Cb.has(e)&&!r.values.length?Rbe(t,e):Eh(xB(Dbe(r,i),i.values),n):Xm(t,e)};function SB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):hE(t)(t,e)}const $be=5;function TB(t,e,n){const r=Math.max(e-$be,0);return QF(n-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m0=.001;function Lbe({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:r=ft.mass}){let i,o,a=1-e;a=$i(ft.minDamping,ft.maxDamping,a),t=$i(ft.minDuration,ft.maxDuration,Ti(t)),a<1?(i=u=>{const c=u*a,f=c*t,d=c-n,p=kb(u,a),g=Math.exp(-f);return m0-d/p*g},o=u=>{const f=u*a*t,d=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-f),v=kb(Math.pow(u,2),a);return(-i(u)+m0>0?-1:1)*((d-p)*g)/v}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-m0+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const s=5/t,l=Fbe(i,o,s);if(t=Si(t),isNaN(l))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Vbe=12;function Fbe(t,e,n){let r=n;for(let i=1;i<Vbe;i++)r=r-t(r)/e(r);return r}function kb(t,e){return t*Math.sqrt(1-e*e)}const Bbe=["duration","bounce"],Ube=["stiffness","damping","mass"];function oR(t,e){return e.some(n=>t[n]!==void 0)}function zbe(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!oR(t,Ube)&&oR(t,Bbe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*$i(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ft.mass,stiffness:i,damping:o}}else{const n=Lbe(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function EB(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=zbe({...n,velocity:-Ti(n.velocity||0)}),g=d||0,v=u/(2*Math.sqrt(l*c)),m=a-o,y=Ti(Math.sqrt(l/c)),_=Math.abs(m)<5;r||(r=_?ft.restSpeed.granular:ft.restSpeed.default),i||(i=_?ft.restDelta.granular:ft.restDelta.default);let w;if(v<1){const x=kb(y,v);w=E=>{const S=Math.exp(-v*y*E);return a-S*((g+v*y*m)/x*Math.sin(x*E)+m*Math.cos(x*E))}}else if(v===1)w=x=>a-Math.exp(-y*x)*(m+(g+y*m)*x);else{const x=y*Math.sqrt(v*v-1);w=E=>{const S=Math.exp(-v*y*E),T=Math.min(x*E,300);return a-S*((g+v*y*m)*Math.sinh(T)+x*m*Math.cosh(T))/x}}const A={calculatedDuration:p&&f||null,next:x=>{const E=w(x);if(p)s.done=x>=f;else{let S=0;v<1&&(S=x===0?Si(g):TB(w,x,E));const T=Math.abs(S)<=r,P=Math.abs(a-E)<=i;s.done=T&&P}return s.value=s.done?a:E,s},toString:()=>{const x=Math.min(zF(A),Sb),E=WF(S=>A.next(x*S).value,x,30);return x+"ms "+E}};return A}function aR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=T=>s!==void 0&&T<s||l!==void 0&&T>l,g=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let v=n*e;const m=f+v,y=a===void 0?m:a(m);y!==m&&(v=y-f);const _=T=>-v*Math.exp(-T/r),w=T=>y+_(T),A=T=>{const P=_(T),C=w(T);d.done=Math.abs(P)<=u,d.value=d.done?y:C};let x,E;const S=T=>{p(d.value)&&(x=T,E=EB({keyframes:[d.value,g(d.value)],velocity:TB(w,T,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:T=>{let P=!1;return!E&&x===void 0&&(P=!0,A(T),S(T)),x!==void 0&&T>=x?E.next(T-x):(!P&&A(T),d)}}}const Wbe=Th(.42,0,1,1),Hbe=Th(0,0,.58,1),AB=Th(.42,0,.58,1),Kbe=t=>Array.isArray(t)&&typeof t[0]!="number",qbe={linear:Hn,easeIn:Wbe,easeInOut:AB,easeOut:Hbe,circIn:sE,circInOut:aB,circOut:oB,backIn:aE,backInOut:rB,backOut:nB,anticipate:iB},sR=t=>{if(tE(t)){SF(t.length===4);const[e,n,r,i]=t;return Th(e,n,r,i)}else if(typeof t=="string")return qbe[t];return t};function Gbe(t,e,n){const r=[],i=n||SB,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Hn:e;s=Eh(l,s)}r.push(s)}return r}function Xbe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(SF(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Gbe(e,r,i),l=s.length,u=c=>{if(a&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=Hl(t[f],t[f+1],c);return s[f](d)};return n?c=>u($i(t[0],t[o-1],c)):u}function Ybe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hl(0,e,r);t.push(at(n,1,i))}}function Qbe(t){const e=[0];return Ybe(e,t.length-1),e}function Jbe(t,e){return t.map(n=>n*e)}function Zbe(t,e){return t.map(()=>e||AB).splice(0,t.length-1)}function Ym({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Kbe(r)?r.map(sR):sR(r),o={done:!1,value:e[0]},a=Jbe(n&&n.length===e.length?n:Qbe(e),t),s=Xbe(a,e,{ease:Array.isArray(i)?i:Zbe(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const exe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>Do(e),now:()=>qt.isProcessing?qt.timestamp:Qr.now()}},txe={decay:aR,inertia:aR,tween:Ym,keyframes:Ym,spring:EB},nxe=t=>t/100;class dE extends bB{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,a=(i==null?void 0:i.KeyframeResolver)||fE,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(o,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,s=eE(n)?n:txe[n]||Ym;let l,u;s!==Ym&&typeof e[0]!="number"&&(l=Eh(nxe,SB(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});o==="mirror"&&(u=s({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=zF(c));const{calculatedDuration:f}=c,d=f+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:v,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),_=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,A=o;if(p){const T=Math.min(this.currentTime,c)/f;let P=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(C=1-C,v&&(C-=v/f)):g==="mirror"&&(A=a)),w=$i(0,1,C)*f}const x=_?{done:!1,value:l[0]}:A.next(w);s&&(x.value=s(x.value));let{done:E}=x;!_&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return S&&i!==void 0&&(x.value=My(l,this.options,i)),m&&m(x.value),S&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Ti(e.calculatedDuration):0}get time(){return Ti(this.currentTime)}set time(e){e=Si(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=exe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rxe=new Set(["opacity","clipPath","filter","transform"]);function ixe(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=KF(s,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const oxe=VT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qm=10,axe=2e4;function sxe(t){return eE(t.type)||t.type==="spring"||!HF(t.ease)}function lxe(t,e){const n=new dE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<axe;)r=n.sample(o),i.push(r.value),o+=Qm;return{times:void 0,keyframes:i,duration:o-Qm,ease:"linear"}}const PB={anticipate:iB,backInOut:rB,circInOut:aB};function uxe(t){return t in PB}class lR extends bB{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new wB(o,(a,s)=>this.onKeyframesResolved(a,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof o=="string"&&Gm()&&uxe(o)&&(o=PB[o]),sxe(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:g,...v}=this.options,m=lxe(e,v);e=m.keyframes,e.length===1&&(e[1]=e[0]),r=m.duration,i=m.times,o=m.ease,a="keyframes"}const c=ixe(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Kk(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;s.set(My(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ti(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ti(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Si(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Hn;const{animation:r}=n;Kk(r,e)}return Hn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:a,times:s}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...p}=this.options,g=new dE({...p,keyframes:r,duration:i,type:o,ease:a,times:s,isGenerator:!0}),v=Si(this.time);u.setWithVelocity(g.sample(v-Qm).value,g.sample(v).value,Qm)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:a,type:s}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return oxe()&&r&&rxe.has(r)&&!l&&!u&&!i&&o!=="mirror"&&a!==0&&s!=="inertia"}}const cxe={type:"spring",stiffness:500,damping:25,restSpeed:10},fxe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hxe={type:"keyframes",duration:.8},dxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pxe=(t,{keyframes:e})=>e.length>2?hxe:rs.has(t)?t.startsWith("scale")?fxe(e[1]):cxe:dxe;function mxe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const pE=(t,e,n,r={},i,o)=>a=>{const s=ZT(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Si(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:d=>{e.set(d),s.onUpdate&&s.onUpdate(d)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};mxe(s)||(c={...c,...pxe(t,c)}),c.duration&&(c.duration=Si(c.duration)),c.repeatDelay&&(c.repeatDelay=Si(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=My(c.keyframes,s);if(d!==void 0)return tt.update(()=>{c.onUpdate(d),c.onComplete()}),new Nwe([])}return!o&&lR.supports(c)?new lR(c):new dE(c)};function gxe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(a=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),p=l[f];if(p===void 0||c&&gxe(c,f))continue;const g={delay:n,...ZT(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const y=JF(t);if(y){const _=window.MotionHandoffAnimation(y,f,tt);_!==null&&(g.startTime=_,v=!0)}}Eb(t,f),d.start(pE(f,d,p,t.shouldReduceMotion&&YF.has(f)?{type:!1}:g,t,v));const m=d.animation;m&&u.push(m)}return s&&Promise.all(u).then(()=>{tt.update(()=>{s&&Gwe(t,s)})}),u}function Rb(t,e,n={}){var r;const i=Ry(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(OB(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return yxe(t,e,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function yxe(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(t.variantChildren).sort(vxe).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Rb(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function vxe(t,e){return t.sortNodePosition(e)}function _xe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Rb(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Rb(t,e,n);else{const i=typeof e=="function"?Ry(t,e,n.custom):e;r=Promise.all(OB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const wxe=BT.length;function IB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wxe;n++){const r=BT[n],i=t.props[r];(Gf(i)||i===!1)&&(e[r]=i)}return e}const bxe=[...FT].reverse(),xxe=FT.length;function Sxe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_xe(t,n,r)))}function Txe(t){let e=Sxe(t),n=uR(),r=!0;const i=l=>(u,c)=>{var f;const d=Ry(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...v}=d;u={...u,...v,...g}}return u};function o(l){e=l(t)}function a(l){const{props:u}=t,c=IB(t.parent)||{},f=[],d=new Set;let p={},g=1/0;for(let m=0;m<xxe;m++){const y=bxe[m],_=n[y],w=u[y]!==void 0?u[y]:c[y],A=Gf(w),x=y===l?_.isActive:null;x===!1&&(g=m);let E=w===c[y]&&w!==u[y]&&A;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...p},!_.isActive&&x===null||!w&&!_.prevProp||Cy(w)||typeof w=="boolean")continue;const S=Exe(_.prevProp,w);let T=S||y===l&&_.isActive&&!E&&A||m>g&&A,P=!1;const C=Array.isArray(w)?w:[w];let k=C.reduce(i(y),{});x===!1&&(k={});const{prevResolvedValues:M={}}=_,R={...M,...k},V=U=>{T=!0,d.has(U)&&(P=!0,d.delete(U)),_.needsAnimating[U]=!0;const $=t.getValue(U);$&&($.liveStyle=!1)};for(const U in R){const $=k[U],B=M[U];if(p.hasOwnProperty(U))continue;let q=!1;xb($)&&xb(B)?q=!UF($,B):q=$!==B,q?$!=null?V(U):d.add(U):$!==void 0&&d.has(U)?V(U):_.protectedKeys[U]=!0}_.prevProp=w,_.prevResolvedValues=k,_.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(E&&S)||P)&&f.push(...C.map(U=>({animation:U,options:{type:y}})))}if(d.size){const m={};d.forEach(y=>{const _=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),m[y]=_??null}),f.push({animation:m})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function s(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=uR(),r=!0}}}function Exe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UF(e,t):!1}function ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uR(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class Go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Axe extends Go{constructor(e){super(e),e.animationState||(e.animationState=Txe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Pxe=0;class Oxe extends Go{constructor(){super(...arguments),this.id=Pxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ixe={animation:{Feature:Axe},exit:{Feature:Oxe}};function Jf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ah(t){return{point:{x:t.pageX,y:t.pageY}}}const Cxe=t=>e=>nE(e)&&t(e,Ah(e));function Dc(t,e,n,r){return Jf(t,e,Cxe(n),r)}const cR=(t,e)=>Math.abs(t-e);function kxe(t,e){const n=cR(t.x,e.x),r=cR(t.y,e.y);return Math.sqrt(n**2+r**2)}class CB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=y0(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=kxe(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=f,{timestamp:v}=qt;this.history.push({...g,timestamp:v});const{onStart:m,onMove:y}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=g0(d,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=y0(f.type==="pointercancel"?this.lastMoveEventInfo:g0(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,m),g&&g(f,m)},!nE(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Ah(e),s=g0(a,this.transformPagePoint),{point:l}=s,{timestamp:u}=qt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,y0(s,this.history)),this.removeListeners=Eh(Dc(this.contextWindow,"pointermove",this.handlePointerMove),Dc(this.contextWindow,"pointerup",this.handlePointerUp),Dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function g0(t,e){return e?{point:e(t.point)}:t}function fR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function y0({point:t},e){return{point:t,delta:fR(t,kB(e)),offset:fR(t,Rxe(e)),velocity:Mxe(e,.1)}}function Rxe(t){return t[0]}function kB(t){return t[t.length-1]}function Mxe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=kB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const o=Ti(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const RB=1e-4,Nxe=1-RB,Dxe=1+RB,MB=.01,jxe=0-MB,$xe=0+MB;function qn(t){return t.max-t.min}function Lxe(t,e,n){return Math.abs(t-e)<=n}function hR(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=qn(n)/qn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Nxe&&t.scale<=Dxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=jxe&&t.translate<=$xe||isNaN(t.translate))&&(t.translate=0)}function jc(t,e,n,r){hR(t.x,e.x,n.x,r?r.originX:void 0),hR(t.y,e.y,n.y,r?r.originY:void 0)}function dR(t,e,n){t.min=n.min+e.min,t.max=t.min+qn(e)}function Vxe(t,e,n){dR(t.x,e.x,n.x),dR(t.y,e.y,n.y)}function pR(t,e,n){t.min=e.min-n.min,t.max=t.min+qn(e)}function $c(t,e,n){pR(t.x,e.x,n.x),pR(t.y,e.y,n.y)}function Fxe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function mR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Bxe(t,{top:e,left:n,bottom:r,right:i}){return{x:mR(t.x,n,i),y:mR(t.y,e,r)}}function gR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Uxe(t,e){return{x:gR(t.x,e.x),y:gR(t.y,e.y)}}function zxe(t,e){let n=.5;const r=qn(t),i=qn(e);return i>r?n=Hl(e.min,e.max-r,t.min):r>i&&(n=Hl(t.min,t.max-i,e.min)),$i(0,1,n)}function Wxe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mb=.35;function Hxe(t=Mb){return t===!1?t=0:t===!0&&(t=Mb),{x:yR(t,"left","right"),y:yR(t,"top","bottom")}}function yR(t,e,n){return{min:vR(t,e),max:vR(t,n)}}function vR(t,e){return typeof t=="number"?t:t[e]||0}const _R=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ds=()=>({x:_R(),y:_R()}),wR=()=>({min:0,max:0}),gt=()=>({x:wR(),y:wR()});function tr(t){return[t("x"),t("y")]}function NB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Kxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qxe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function v0(t){return t===void 0||t===1}function Nb({scale:t,scaleX:e,scaleY:n}){return!v0(t)||!v0(e)||!v0(n)}function la(t){return Nb(t)||DB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DB(t){return bR(t.x)||bR(t.y)}function bR(t){return t&&t!=="0%"}function Jm(t,e,n){const r=t-n,i=e*r;return n+i}function xR(t,e,n,r,i){return i!==void 0&&(t=Jm(t,i,r)),Jm(t,n,r)+e}function Db(t,e=0,n=1,r,i){t.min=xR(t.min,e,n,r,i),t.max=xR(t.max,e,n,r,i)}function jB(t,{x:e,y:n}){Db(t.x,e.translate,e.scale,e.originPoint),Db(t.y,n.translate,n.scale,n.originPoint)}const SR=.999999999999,TR=1.0000000000001;function Gxe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$s(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,jB(t,a)),r&&la(o.latestValues)&&$s(t,o.latestValues))}e.x<TR&&e.x>SR&&(e.x=1),e.y<TR&&e.y>SR&&(e.y=1)}function js(t,e){t.min=t.min+e,t.max=t.max+e}function ER(t,e,n,r,i=.5){const o=at(t.min,t.max,i);Db(t,e,n,o,r)}function $s(t,e){ER(t.x,e.x,e.scaleX,e.scale,e.originX),ER(t.y,e.y,e.scaleY,e.scale,e.originY)}function $B(t,e){return NB(qxe(t.getBoundingClientRect(),e))}function Xxe(t,e,n){const r=$B(t,n),{scroll:i}=e;return i&&(js(r.x,i.offset.x),js(r.y,i.offset.y)),r}const LB=({current:t})=>t?t.ownerDocument.defaultView:null,Yxe=new WeakMap;class Qxe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zwe(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(m=>{let y=this.getAxisMotionValue(m).get()||0;if(Yr.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[m];w&&(y=qn(w)*(parseFloat(y)/100))}}this.originPoint[m]=y}),g&&tt.postRender(()=>g(c,f)),Eb(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:m}=f;if(p&&this.currentDirection===null){this.currentDirection=Jxe(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),v&&v(c,f)},s=(c,f)=>this.stop(c,f),l=()=>tr(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new CB(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:LB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&tt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Id(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Fxe(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ms(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Bxe(i.layoutBox,n):this.constraints=!1,this.elastic=Hxe(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Wxe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ms(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Xxe(r,i.root,this.visualElement.getTransformPagePoint());let a=Uxe(i.layout.layoutBox,o);if(n){const s=n(Kxe(a));this.hasMutatedConstraints=!!s,s&&(a=NB(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=tr(c=>{if(!Id(c,n,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Eb(this.visualElement,e),r.start(pE(e,r,0,n,this.visualElement,!1))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!Id(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(e[n]-at(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ms(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tr(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=zxe({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(a=>{if(!Id(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(at(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Yxe.set(this.visualElement,this);const e=this.visualElement.current,n=Dc(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ms(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tt.read(r);const a=Jf(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=Mb,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function Id(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Jxe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zxe extends Go{constructor(e){super(e),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new Qxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const AR=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class eSe extends Go{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(e){this.session=new CB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AR(e),onStart:AR(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&tt.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=PR(t,e.target.x),r=PR(t,e.target.y);return`${n}% ${r}%`}},tSe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jo.parse(t);if(i.length>5)return r;const o=jo.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const u=at(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class nSe extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;xwe(rSe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||tt.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VB(t){const[e,n]=bF(),r=D.useContext(DT);return I.jsx(nSe,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(IF),isPresent:e,safeToRemove:n})}const rSe={borderRadius:{...Zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:tSe};function iSe(t,e,n){const r=mn(t)?t:Yf(t);return r.start(pE("",r,e,n)),r.animation}function oSe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const aSe=(t,e)=>t.depth-e.depth;class sSe{constructor(){this.children=[],this.isDirty=!1}add(e){rE(this.children,e),this.isDirty=!0}remove(e){iE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aSe),this.isDirty=!1,this.children.forEach(e)}}function lSe(t,e){const n=Qr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Do(r),t(o-e))};return tt.read(r,!0),()=>Do(r)}const FB=["TopLeft","TopRight","BottomLeft","BottomRight"],uSe=FB.length,OR=t=>typeof t=="string"?parseFloat(t):t,IR=t=>typeof t=="number"||pe.test(t);function cSe(t,e,n,r,i,o){i?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,fSe(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,hSe(r))):o&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<uSe;a++){const s=`border${FB[a]}Radius`;let l=CR(e,s),u=CR(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||IR(l)===IR(u)?(t[s]=Math.max(at(OR(l),OR(u),r),0),(Yr.test(u)||Yr.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function CR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fSe=BB(0,.5,oB),hSe=BB(.5,.95,Hn);function BB(t,e,n){return r=>r<t?0:r>e?1:n(Hl(t,e,r))}function kR(t,e){t.min=e.min,t.max=e.max}function er(t,e){kR(t.x,e.x),kR(t.y,e.y)}function RR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function MR(t,e,n,r,i){return t-=e,t=Jm(t,1/n,r),i!==void 0&&(t=Jm(t,1/i,r)),t}function dSe(t,e=0,n=1,r=.5,i,o=t,a=t){if(Yr.test(e)&&(e=parseFloat(e),e=at(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=at(o.min,o.max,r);t===o&&(s-=e),t.min=MR(t.min,e,n,s,i),t.max=MR(t.max,e,n,s,i)}function NR(t,e,[n,r,i],o,a){dSe(t,e[n],e[r],e[i],e.scale,o,a)}const pSe=["x","scaleX","originX"],mSe=["y","scaleY","originY"];function DR(t,e,n,r){NR(t.x,e,pSe,n?n.x:void 0,r?r.x:void 0),NR(t.y,e,mSe,n?n.y:void 0,r?r.y:void 0)}function jR(t){return t.translate===0&&t.scale===1}function UB(t){return jR(t.x)&&jR(t.y)}function $R(t,e){return t.min===e.min&&t.max===e.max}function gSe(t,e){return $R(t.x,e.x)&&$R(t.y,e.y)}function LR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zB(t,e){return LR(t.x,e.x)&&LR(t.y,e.y)}function VR(t){return qn(t.x)/qn(t.y)}function FR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ySe{constructor(){this.members=[]}add(e){rE(this.members,e),e.scheduleRender()}remove(e){if(iE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vSe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const ua={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fc=typeof window<"u"&&window.MotionDebug!==void 0,_0=["","X","Y","Z"],_Se={visibility:"hidden"},BR=1e3;let wSe=0;function w0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=JF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WB(r)}function HB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=wSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fc&&(ua.totalNodes=ua.resolvedTargetDeltas=ua.recalculatedProjection=0),this.nodes.forEach(SSe),this.nodes.forEach(OSe),this.nodes.forEach(ISe),this.nodes.forEach(TSe),fc&&window.MotionDebug.record(ua)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sSe)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new oE),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oSe(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lSe(d,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(zR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||NSe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),_=!this.targetLayout||!zB(this.targetLayout,g)||p,w=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...ZT(v,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||zR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CSe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UR);return}this.isUpdating||this.nodes.forEach(ASe),this.isUpdating=!1,this.nodes.forEach(PSe),this.nodes.forEach(bSe),this.nodes.forEach(xSe),this.clearAllSnapshots();const s=Qr.now();qt.delta=$i(0,1e3/60,s-qt.timestamp),qt.timestamp=s,qt.isProcessing=!0,c0.update.process(qt),c0.preRender.process(qt),c0.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ESe),this.sharedNodes.forEach(kSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!UB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(s||la(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),DSe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:s}=this.options;if(!s)return gt();const l=s.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(jSe))){const{scroll:c}=this.root;c&&(js(l.x,c.offset.x),js(l.y,c.offset.y))}return l}removeElementScroll(a){var s;const l=gt();if(er(l,a),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&er(l,a),js(l.x,f.offset.x),js(l.y,f.offset.y))}return l}applyTransform(a,s=!1){const l=gt();er(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$s(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),la(c.latestValues)&&$s(l,c.latestValues)}return la(this.latestValues)&&$s(l,this.latestValues),l}removeTransform(a){const s=gt();er(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!la(u.latestValues))continue;Nb(u.latestValues)&&u.updateSnapshot();const c=gt(),f=u.measurePageBox();er(c,f),DR(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return la(this.latestValues)&&DR(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),$c(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),jB(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),$c(this.relativeTargetOrigin,this.target,p.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fc&&ua.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nb(this.parent.latestValues)||DB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;er(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Gxe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=gt());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RR(this.prevProjectionDelta.x,this.projectionDelta.x),RR(this.prevProjectionDelta.y,this.projectionDelta.y)),jc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!FR(this.projectionDelta.x,this.prevProjectionDelta.x)||!FR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),fc&&ua.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ds(),this.projectionDelta=Ds(),this.projectionDeltaWithTransform=Ds()}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=gt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,m=this.getStack(),y=!m||m.members.length<=1,_=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(MSe));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const x=A/1e3;WR(f.x,a.x,x),WR(f.y,a.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($c(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RSe(this.relativeTarget,this.relativeTargetOrigin,d,x),w&&gSe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=gt()),er(w,this.relativeTarget)),v&&(this.animationValues=c,cSe(c,u,this.latestValues,x,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Zd.hasAnimatedSinceResize=!0,this.currentAnimation=iSe(0,BR,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&KB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||gt();const f=qn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=qn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}er(s,l),$s(s,c),jc(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ySe),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&w0("z",a,u,this.animationValues);for(let c=0;c<_0.length;c++)w0(`rotate${_0[c]}`,a,u,this.animationValues),w0(`skew${_0[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _Se;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qd(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Qd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=vSe(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in qm){if(d[v]===void 0)continue;const{correct:m,applyTo:y}=qm[v],_=u.transform==="none"?d[v]:m(d[v],f);if(y){const w=y.length;for(let A=0;A<w;A++)u[y[A]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=f===this?Qd(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(UR),this.root.sharedNodes.clear()}}}function bSe(t){t.updateLayout()}function xSe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?tr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=qn(d);d.min=r[f].min,d.max=d.min+p}):KB(o,n.layoutBox,r)&&tr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=qn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=Ds();jc(s,r,n.layoutBox);const l=Ds();a?jc(l,t.applyTransform(i,!0),n.measuredBox):jc(l,r,n.layoutBox);const u=!UB(s);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const g=gt();$c(g,n.layoutBox,d.layoutBox);const v=gt();$c(v,r,p.layoutBox),zB(g,v)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function SSe(t){fc&&ua.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ESe(t){t.clearSnapshot()}function UR(t){t.clearMeasurements()}function ASe(t){t.isLayoutDirty=!1}function PSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OSe(t){t.resolveTargetDelta()}function ISe(t){t.calcProjection()}function CSe(t){t.resetSkewAndRotation()}function kSe(t){t.removeLeadSnapshot()}function WR(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HR(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function RSe(t,e,n,r){HR(t.x,e.x,n.x,r),HR(t.y,e.y,n.y,r)}function MSe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NSe={duration:.45,ease:[.4,0,.1,1]},KR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qR=KR("applewebkit/")&&!KR("chrome/")?Math.round:Hn;function GR(t){t.min=qR(t.min),t.max=qR(t.max)}function DSe(t){GR(t.x),GR(t.y)}function KB(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lxe(VR(e),VR(n),.2)}function jSe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $Se=HB({attachResizeListener:(t,e)=>Jf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b0={current:void 0},qB=HB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!b0.current){const t=new $Se({});t.mount(window),t.setOptions({layoutScroll:!0}),b0.current=t}return b0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LSe={pan:{Feature:eSe},drag:{Feature:Zxe,ProjectionNode:qB,MeasureLayout:VB}};function XR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&tt.postRender(()=>o(e,Ah(e)))}class VSe extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=Lwe(e,n=>(XR(this.node,n,"Start"),r=>XR(this.node,r,"End"))))}unmount(){}}class FSe extends Go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eh(Jf(this.node.current,"focus",()=>this.onFocus()),Jf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YR(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&tt.postRender(()=>o(e,Ah(e)))}class BSe extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=Uwe(e,n=>(YR(this.node,n,"Start"),(r,{success:i})=>YR(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jb=new WeakMap,x0=new WeakMap,USe=t=>{const e=jb.get(t.target);e&&e(t)},zSe=t=>{t.forEach(USe)};function WSe({root:t,...e}){const n=t||document;x0.has(n)||x0.set(n,{});const r=x0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zSe,{root:t,...e})),r[i]}function HSe(t,e,n){const r=WSe(e);return jb.set(t,n),r.observe(t),()=>{jb.delete(t),r.unobserve(t)}}const KSe={some:0,all:1};class qSe extends Go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:KSe[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return HSe(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GSe(e,n))&&this.startObserver()}unmount(){}}function GSe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XSe={inView:{Feature:qSe},tap:{Feature:BSe},focus:{Feature:FSe},hover:{Feature:VSe}},YSe={layout:{ProjectionNode:qB,MeasureLayout:VB}},$b={current:null},GB={current:!1};function QSe(){if(GB.current=!0,!!LT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$b.current=t.matches;t.addListener(e),e()}else $b.current=!1}const JSe=[..._B,un,jo],ZSe=t=>JSe.find(vB(t)),QR=new WeakMap;function eTe(t,e,n){for(const r in e){const i=e[r],o=n[r];if(mn(i))t.addValue(r,i);else if(mn(o))t.addValue(r,Yf(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Yf(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const JR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tTe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Qr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,tt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=a;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=ky(n),this.isVariantNode=PF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&mn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,QR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GB.current||QSe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$b.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QR.delete(this.current),this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rs.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kl){const n=Kl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JR.length;r++){const i=JR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=eTe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gB(i)||sB(i))?i=parseFloat(i):!ZSe(i)&&jo.test(n)&&(i=dB(e,n)),this.setBaseTarget(e,mn(i)?i.get():i)),mn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=HT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!mn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new oE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class XB extends tTe{constructor(){super(...arguments),this.KeyframeResolver=wB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nTe(t){return window.getComputedStyle(t)}class rTe extends XB{constructor(){super(...arguments),this.type="html",this.renderInstance=jF}readValueFromInstance(e,n){if(rs.has(n)){const r=cE(n);return r&&r.default||0}else{const r=nTe(e),i=(MF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $B(e,n)}build(e,n,r){GT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return JT(e,n,r)}}class iTe extends XB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rs.has(n)){const r=cE(n);return r&&r.default||0}return n=$F.has(n)?n:UT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FF(e,n,r)}build(e,n,r){XT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){LF(e,n,r,i)}mount(e){this.isSVGTag=QT(e.tagName),super.mount(e)}}const oTe=(t,e)=>WT(t)?new iTe(e):new rTe(e,{allowProjection:t!==D.Fragment}),aTe=kwe({...Ixe,...XSe,...LSe,...YSe},oTe),YB=K_e(aTe);function Lb({message:t,show:e,tone:n="default"}){const r=n==="alert"?" toast-alert":n==="success"?" toast-success":"";return I.jsx(L_e,{children:e&&I.jsx(YB.div,{className:`toast${r}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:t})})}const ZR=["Mon","Tue","Wed","Thu","Fri"];function sTe({session:t,player:e}){var S,T;const n=t.revealIndex??0,r=t.weeks??10,i=r*5,o=t.revealedDemands??[],a=t.trainingDemands??[],s=a.length?a.reduce((P,C)=>P+C,0)/a.length:0,l=a.length>1?Math.sqrt(a.reduce((P,C)=>P+(C-s)**2,0)/(a.length-1)):0,[u,c]=D.useState(""),[f,d]=D.useState(!1);D.useEffect(()=>{if(n>0){const P=n-1,C=Math.floor(P/5)+1,k=ZR[P%5];c(` Oven doors open Week ${C}  ${k} demand revealed!`),d(!0);const M=setTimeout(()=>d(!1),2200);return()=>clearTimeout(M)}},[n]);const p=Math.max(0,n-1),g=Math.floor(p/5),v=g*5,m=o.slice(v,v+5),y=((S=e.ordersByWeek)==null?void 0:S[g])??null,w=(((T=e.ordersByWeek)==null?void 0:T[t.weekIndex??0])??null)===null,A=D.useMemo(()=>m.map((P,C)=>{const k=y??0,M=I_e({D:P,Q:k,price:t.price,cost:t.cost,salvage:t.salvage});return{idx:C,d:P,q:k,profit:M}}),[m,y,t.price,t.cost,t.salvage]),x=A.reduce((P,C)=>P+C.profit,0),E=e.cumulativeProfit??0;return I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Revealed Demand"}),I.jsx("p",{className:"small",children:"Demand is revealed day-by-day (MonFri). Your bake plan is constant for the whole week."}),I.jsxs("div",{className:"kpi",children:[I.jsxs("div",{className:"pill",children:["Week: ",I.jsxs("span",{className:"mono",children:[(t.weekIndex??0)+1,"/",r]})]}),I.jsxs("div",{className:"pill",children:["Revealed days: ",I.jsxs("span",{className:"mono",children:[n,"/",i]})]}),I.jsxs("div",{className:"pill",children:["Your bake plan (",w?"last week":"this week","): ",I.jsx("span",{className:"mono",children:y??""})]}),I.jsxs("div",{className:"pill",children:["Total profit ",w?"last week":"in week",": ",I.jsx("span",{className:"mono",children:x.toFixed(2)})]}),I.jsxs("div",{className:"pill",children:["Cumulative profit: ",I.jsx("span",{className:"mono",children:E.toFixed(2)})]})]}),I.jsx("div",{className:"hr"}),I.jsx("div",{className:"grid three",children:Array.from({length:5},(P,C)=>{const k=m[C],M=A.find(B=>B.idx===C),R=typeof k=="number",V=R&&k>s+l,F=R&&k<s-l,W=`day-card${R?" revealed":""}${V?" high-demand":""}${F?" low-demand":""}`,U=(M==null?void 0:M.profit)??0,$=U>0?"var(--success)":U<0?"var(--danger)":"inherit";return I.jsxs(YB.div,{className:W,initial:{opacity:.6,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,delay:C*.05},children:[I.jsx("div",{className:"day-label",children:ZR[C]}),I.jsxs("div",{className:`demand-value${R?"":" unrevealed"}`,children:[R?k:"?"," ",V?"":F?"":""]}),I.jsx("div",{className:"small",children:"demand"}),I.jsxs("div",{className:"profit-row",children:[I.jsx("div",{className:"small",children:"profit"}),I.jsx("div",{className:"mono",style:{fontWeight:700,color:R?$:"inherit"},children:R?(U>=0?"+":"")+U.toFixed(2):""})]})]},C)})}),I.jsx(Lb,{message:u,show:f})]})}function lTe(){var Ie,Ue;const{sessionId:t}=Lx(),e=qa(),{user:n}=Lg(),[r,i]=D.useState(null),[o,a]=D.useState(null),[s,l]=D.useState(""),[u,c]=D.useState(!1),[f,d]=D.useState(""),[p,g]=D.useState(""),[v,m]=D.useState(!1),[y,_]=D.useState(!1),[w,A]=D.useState(!1),[x,E]=D.useState(null),S=D.useRef(null),T=D.useRef(null),P=D.useRef(null);D.useEffect(()=>{if(!t)return;const xe=Xs(Ac(pa,"sessions",t),Ee=>{i(Ee.exists()?Ee.data():null)});return()=>{xe()}},[t]),D.useEffect(()=>{if(!t||!(n!=null&&n.uid))return;const xe=Xs(Ac(pa,"sessions",t,"players",n.uid),Ee=>{if(!Ee.exists()){a(null);return}a({uid:n.uid,...Ee.data()})});return()=>xe()},[t,n==null?void 0:n.uid]),D.useEffect(()=>{if(!(o!=null&&o.lastNudgedAt))return;const xe=(()=>{var ce;if(typeof((ce=o.lastNudgedAt)==null?void 0:ce.toMillis)=="function")return o.lastNudgedAt.toMillis();const Z=(o.lastNudgedAt instanceof Date?o.lastNudgedAt:new Date(o.lastNudgedAt)).getTime();return Number.isFinite(Z)?Z:null})();xe&&(S.current!==null&&xe>S.current&&(m(!0),T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>m(!1),4200)),S.current=xe)},[o==null?void 0:o.lastNudgedAt]),D.useEffect(()=>()=>{T.current&&window.clearTimeout(T.current),P.current&&window.clearTimeout(P.current)},[]),D.useEffect(()=>{const xe=e.state;xe!=null&&xe.resumed&&(_(!0),P.current=window.setTimeout(()=>_(!1),4e3),window.history.replaceState({},document.title))},[e.state]);const C=(r==null?void 0:r.trainingDemands)??[],k=(r==null?void 0:r.revealedDemands)??[],M=D.useMemo(()=>C.concat(k),[C,k]),R=D.useMemo(()=>yl(M),[M]),V=D.useMemo(()=>Js(M),[M]),F=D.useMemo(()=>{const xe=Number(r==null?void 0:r.demandMu);return Number.isFinite(xe)?xe:C.length?yl(C):R},[r==null?void 0:r.demandMu,C,R]),W=D.useMemo(()=>{const xe=Number(r==null?void 0:r.demandSigma);if(Number.isFinite(xe)&&xe>0)return xe;if(C.length){const Z=Js(C);if(Z>0)return Z}const Ee=Js(M);return Ee>0?Ee:0},[r==null?void 0:r.demandSigma,C,M]),U=(r==null?void 0:r.weekIndex)??0,$=(r==null?void 0:r.weeks)??10,B=(((Ie=r==null?void 0:r.trainingDemands)==null?void 0:Ie.length)??50)+$*5,q=((Ue=o==null?void 0:o.ordersByWeek)==null?void 0:Ue[U])??null,re=(r==null?void 0:r.status)!=="training",Y=D.useMemo(()=>{const Ee=((r==null?void 0:r.leaderboard)??[]).findIndex(Z=>Z.uid===(o==null?void 0:o.uid));return Ee>=0?Ee+1:null},[r==null?void 0:r.leaderboard,o==null?void 0:o.uid]);D.useEffect(()=>{l(""),g("")},[U]);async function ie(xe){const Ee=xe===!0;if(!t||!r)return;if(d(""),p||s.trim()===""){d("Order must be a non-negative integer.");return}const Z=Number(s);if(!Ee&&W>0&&Math.abs(Z-F)>4*W){E(Z),A(!0);return}c(!0);try{const ce=x??Z;await Fn.submitOrder({sessionId:t,weekIndex:U,orderQty:ce}),d("")}catch(ce){console.error(ce),d((ce==null?void 0:ce.message)??"Submit failed")}finally{c(!1),E(null)}}if(!r)return I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Bakery floor"}),I.jsx("p",{className:"small",children:"Loading session"})]});if(!o)return I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Bakery floor"}),I.jsx("p",{className:"small",children:"Waiting for your player profile (did you join with a name?)"})]});const Te=o.cumulativeProfit??0;return I.jsxs("div",{className:"grid",children:[I.jsxs("div",{className:"card highlight",children:[I.jsxs("div",{className:"row",style:{marginBottom:12},children:[I.jsxs("div",{children:[I.jsxs("div",{className:"row",style:{gap:10,marginBottom:4},children:[I.jsxs("h2",{style:{margin:0},children:["Welcome, ",o.name]}),I.jsx("span",{className:"badge large mono",children:r.code})]}),I.jsx("p",{className:"small",style:{margin:0},children:"You run a croissant bakery. Each week, decide how many croissants to bake per day (MonFri)."})]}),I.jsx("div",{className:"spacer"}),I.jsxs("div",{style:{textAlign:"right"},children:[I.jsx("div",{className:"small",children:"Your Profit"}),I.jsxs("div",{className:`mono font-bold ${Te>=0?"text-success":"text-danger"}`,style:{fontSize:24},children:[Te>=0?"+":"",Te.toFixed(2)]})]})]}),I.jsxs("div",{className:"kpi",children:[I.jsxs("div",{className:"pill accent",children:["Sell Price: ",I.jsx("span",{className:"mono",children:r.price.toFixed(2)})]}),I.jsxs("div",{className:"pill",children:["Cost: ",I.jsx("span",{className:"mono",children:r.cost.toFixed(2)})]}),I.jsxs("div",{className:"pill",children:["Salvage: ",I.jsx("span",{className:"mono",children:r.salvage.toFixed(2)})]}),Y&&I.jsxs("div",{className:"pill success",children:["Rank: ",I.jsxs("span",{className:"mono",children:["#",Y]})]})]})]}),I.jsxs("div",{className:"grid two",children:[r.status==="training"?I.jsxs("div",{className:"card",children:[I.jsx("h2",{children:"Demand distribution"}),I.jsx("p",{className:"small",children:"Available once the host starts the session."})]}):I.jsx(M_e,{demands:M,meanHat:R,sigmaHat:V,totalDays:B}),I.jsx(sTe,{session:r,player:o})]}),r.status==="finished"?I.jsxs("div",{className:"card success-highlight",children:[I.jsx("h2",{children:"Game Complete!"}),I.jsx("p",{children:"Congratulations on completing the Newsvendor simulation. Here are your final results:"}),I.jsxs("div",{className:"kpi",style:{marginTop:16},children:[I.jsxs("div",{className:"pill success",children:["Final Rank: ",I.jsxs("span",{className:"mono font-bold",children:["#",Y??""]})]}),I.jsxs("div",{className:"pill accent",children:["Total Profit: ",I.jsx("span",{className:"mono font-bold",children:(o.cumulativeProfit??0).toFixed(2)})]})]})]}):I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"row",style:{marginBottom:8},children:[I.jsx("h2",{style:{margin:0},children:"Weekly Bake Plan"}),I.jsxs("span",{className:"badge",children:["Week ",U+1,"/",$]})]}),I.jsx("p",{className:"small",children:"Choose one quantity that applies to every day this week (MonFri). How many croissants will you bake per day?"}),I.jsxs("div",{className:"row",style:{marginTop:10},children:[I.jsx("input",{type:"number",value:s,onChange:xe=>{const Ee=xe.target.value;if(l(Ee),Ee.trim()===""){g("");return}const Z=Number(Ee);!Number.isInteger(Z)||Z<0?g("Order must be a non-negative integer."):g("")},min:0,step:1,style:{maxWidth:120}}),I.jsx("button",{className:"btn",disabled:u||q!==null||!re,onClick:()=>ie(),children:q!==null?"Submitted ":"Submit bake plan"}),I.jsx("span",{className:"small",children:q!==null?`Your submitted Q: ${q}`:re?"":"Waiting for host to start the session."})]}),p&&I.jsx("p",{className:"small",style:{color:"#7a2d2d"},children:p}),q!==null&&I.jsx("p",{className:"small",children:"Bake plan submitted. Waiting for others..."}),f&&I.jsx("div",{className:"hr"}),f&&I.jsx("p",{className:"small",children:f})]}),(r.status==="finished"||r.showLeaderboard)&&I.jsx(N2,{rows:r.leaderboard??[]}),r.status==="finished"&&I.jsx(wF,{session:r,avgOrderPerDayOverride:r.endgameAvgOrderPerDay}),I.jsx(Lb,{message:"Host nudge: please make your decision now.",show:v,tone:"alert"}),I.jsx(Lb,{message:"Welcome back! Your progress has been restored.",show:y,tone:"success"}),w&&I.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:I.jsxs("div",{className:"modal",children:[I.jsx("h3",{children:"Confirm outlier order"}),I.jsxs("p",{className:"small",children:["Your order (",x??"?",") is more than 4 standard deviations from the mean (",F.toFixed(2),"). Are you sure you want to submit it?"]}),I.jsxs("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:[I.jsx("button",{className:"btn secondary",disabled:u,onClick:()=>{A(!1),E(null)},children:"Revise"}),I.jsx("button",{className:"btn",disabled:u,onClick:()=>{A(!1),ie(!0)},children:"Submit anyway"})]})]})})]})}function uTe(){D.useEffect(()=>{v6(Qs,Gx).catch(e=>{console.error("Failed to set auth persistence",e)});const t=w6(Qs,async e=>{if(!e)try{await p6(Qs)}catch(n){console.error("Anonymous sign-in failed",n)}});return()=>t()},[])}function cTe(){return uTe(),I.jsxs("div",{className:"container",children:[I.jsx(oq,{}),I.jsxs(zz,{children:[I.jsx(ra,{path:"/",element:I.jsx(sq,{})}),I.jsx(ra,{path:"/host",element:I.jsx(lq,{})}),I.jsx(ra,{path:"/host/session/:sessionId",element:I.jsx(k_e,{})}),I.jsx(ra,{path:"/s/:code",element:I.jsx(R_e,{})}),I.jsx(ra,{path:"/play/:sessionId",element:I.jsx(lTe,{})}),I.jsx(ra,{path:"*",element:I.jsx(Bz,{to:"/",replace:!0})})]})]})}S0.createRoot(document.getElementById("root")).render(I.jsx(j.StrictMode,{children:I.jsx(Yz,{children:I.jsx(cTe,{})})}));
